<!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html class=" gecko win js" xmlns="http://www.w3.org/1999/xhtml" xmlns:exsl="http://exslt.org/common" xmlns:ng="http://docbook.org/docbook-ng" xmlns:fb="http://ogp.me/ns/fb#"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link href="%D0%93%D0%BB%D0%B0%D0%B2%D0%B0%205.%20%D0%98%D0%BD%D1%84%D1%80%D0%B0%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0%20%D0%B0%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8%20Python%20-%20%D0%B4%D0%BE%D0%BF%D0%BE%D0%BB%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5%20%D0%B2%D0%BE%D0%BF%D1%80%D0%BE%D1%81%D1%8B%20Ansible%20-%20%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20%D1%81%20%D1%81%D0%B5%D1%82%D1%8F%D0%BC%D0%B8%20%D0%BD%D0%B0%20Python_files/font-awesome.css" rel="stylesheet">
<title>Глава 5. Инфраструктура автоматизации Python - дополнительные вопросы Ansible - Полное руководство работы с сетями на Python</title>
<meta name="generator" content="DocBook XSL-NS Stylesheets V1.76.1">
<meta name="mavenGroupId" content="www.mdl.ru">
<meta name="MasteringPythonNetworking">
<meta name="mavenVersionId" content="1.0.0">
<link rel="home" href="http://onreader.mdl.ru/MasteringPythonNetworking/content/index.html" title="Полное руководство работы с сетями на Python">
<link rel="up" href="http://onreader.mdl.ru/MasteringPythonNetworking/content/index.html" title="Полное руководство работы с сетями на Python">
<link rel="prev" href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch04.html" title="Глава 4. Инфраструктура автоматизации Python - основы Ansible">
<link rel="next" href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch06.html" title="Глава 6. Сетевая безопасность с помощью Python">
<meta name="git-sha" content="">
<meta name="buildTime" content="">
<script src="%D0%93%D0%BB%D0%B0%D0%B2%D0%B0%205.%20%D0%98%D0%BD%D1%84%D1%80%D0%B0%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0%20%D0%B0%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8%20Python%20-%20%D0%B4%D0%BE%D0%BF%D0%BE%D0%BB%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5%20%D0%B2%D0%BE%D0%BF%D1%80%D0%BE%D1%81%D1%8B%20Ansible%20-%20%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20%D1%81%20%D1%81%D0%B5%D1%82%D1%8F%D0%BC%D0%B8%20%D0%BD%D0%B0%20Python_files/ga_002.js" async="" type="text/javascript"></script><script type="text/javascript">
            //The id for tree cookie
            var treeCookieId = "mastering-python-networking";
            var language = "en";
            var w = new Object();
            //Localization
            txt_filesfound = 'Results';
            txt_enter_at_least_1_char = "You must enter at least one character.";
            txt_browser_not_supported = "Please enable JavaScript.";
            txt_please_wait = "Please wait. Search in progress...";
            txt_results_for = "Results for: ";
</script>
<style type="text/css">
            input {
            margin-bottom: 5px;
            margin-top: 2px;
            }

            .folder {
            display: block;
            height: 22px;
            padding-left: 20px;
            background: transparent url(/common/jquery/treeview/images/folder.gif) 0 0px no-repeat;
            }
</style>
<link rel="shortcut icon" href="http://onreader.mdl.ru/MdlLogo.gif" type="image/gif">
<link rel="stylesheet" type="text/css" href="%D0%93%D0%BB%D0%B0%D0%B2%D0%B0%205.%20%D0%98%D0%BD%D1%84%D1%80%D0%B0%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0%20%D0%B0%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8%20Python%20-%20%D0%B4%D0%BE%D0%BF%D0%BE%D0%BB%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5%20%D0%B2%D0%BE%D0%BF%D1%80%D0%BE%D1%81%D1%8B%20Ansible%20-%20%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20%D1%81%20%D1%81%D0%B5%D1%82%D1%8F%D0%BC%D0%B8%20%D0%BD%D0%B0%20Python_files/positioning.css">
<link rel="stylesheet" type="text/css" href="%D0%93%D0%BB%D0%B0%D0%B2%D0%B0%205.%20%D0%98%D0%BD%D1%84%D1%80%D0%B0%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0%20%D0%B0%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8%20Python%20-%20%D0%B4%D0%BE%D0%BF%D0%BE%D0%BB%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5%20%D0%B2%D0%BE%D0%BF%D1%80%D0%BE%D1%81%D1%8B%20Ansible%20-%20%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20%D1%81%20%D1%81%D0%B5%D1%82%D1%8F%D0%BC%D0%B8%20%D0%BD%D0%B0%20Python_files/custom.css">
<link rel="canonical" href="http://onreader.mdl.ru/MasteringPythonNetworking/content/index.html">
<!--[if IE]>
	<link rel="stylesheet" type="text/css" href="/common/css/ie.css"/>
<![endif]-->
<link rel="stylesheet" type="text/css" href="%D0%93%D0%BB%D0%B0%D0%B2%D0%B0%205.%20%D0%98%D0%BD%D1%84%D1%80%D0%B0%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0%20%D0%B0%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8%20Python%20-%20%D0%B4%D0%BE%D0%BF%D0%BE%D0%BB%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5%20%D0%B2%D0%BE%D0%BF%D1%80%D0%BE%D1%81%D1%8B%20Ansible%20-%20%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20%D1%81%20%D1%81%D0%B5%D1%82%D1%8F%D0%BC%D0%B8%20%D0%BD%D0%B0%20Python_files/jquery-ui-1.css">
<link rel="stylesheet" type="text/css" href="%D0%93%D0%BB%D0%B0%D0%B2%D0%B0%205.%20%D0%98%D0%BD%D1%84%D1%80%D0%B0%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0%20%D0%B0%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8%20Python%20-%20%D0%B4%D0%BE%D0%BF%D0%BE%D0%BB%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5%20%D0%B2%D0%BE%D0%BF%D1%80%D0%BE%D1%81%D1%8B%20Ansible%20-%20%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20%D1%81%20%D1%81%D0%B5%D1%82%D1%8F%D0%BC%D0%B8%20%D0%BD%D0%B0%20Python_files/jquery_002.css">
<script type="text/javascript" src="%D0%93%D0%BB%D0%B0%D0%B2%D0%B0%205.%20%D0%98%D0%BD%D1%84%D1%80%D0%B0%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0%20%D0%B0%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8%20Python%20-%20%D0%B4%D0%BE%D0%BF%D0%BE%D0%BB%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5%20%D0%B2%D0%BE%D0%BF%D1%80%D0%BE%D1%81%D1%8B%20Ansible%20-%20%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20%D1%81%20%D1%81%D0%B5%D1%82%D1%8F%D0%BC%D0%B8%20%D0%BD%D0%B0%20Python_files/jquery-1.js"><!----></script>
<script type="text/javascript" src="%D0%93%D0%BB%D0%B0%D0%B2%D0%B0%205.%20%D0%98%D0%BD%D1%84%D1%80%D0%B0%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0%20%D0%B0%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8%20Python%20-%20%D0%B4%D0%BE%D0%BF%D0%BE%D0%BB%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5%20%D0%B2%D0%BE%D0%BF%D1%80%D0%BE%D1%81%D1%8B%20Ansible%20-%20%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20%D1%81%20%D1%81%D0%B5%D1%82%D1%8F%D0%BC%D0%B8%20%D0%BD%D0%B0%20Python_files/jquery-ui-1.js"><!----></script>
<script type="text/javascript" src="%D0%93%D0%BB%D0%B0%D0%B2%D0%B0%205.%20%D0%98%D0%BD%D1%84%D1%80%D0%B0%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0%20%D0%B0%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8%20Python%20-%20%D0%B4%D0%BE%D0%BF%D0%BE%D0%BB%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5%20%D0%B2%D0%BE%D0%BF%D1%80%D0%BE%D1%81%D1%8B%20Ansible%20-%20%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20%D1%81%20%D1%81%D0%B5%D1%82%D1%8F%D0%BC%D0%B8%20%D0%BD%D0%B0%20Python_files/jquery.js"><!----></script>
<script type="text/javascript" src="%D0%93%D0%BB%D0%B0%D0%B2%D0%B0%205.%20%D0%98%D0%BD%D1%84%D1%80%D0%B0%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0%20%D0%B0%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8%20Python%20-%20%D0%B4%D0%BE%D0%BF%D0%BE%D0%BB%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5%20%D0%B2%D0%BE%D0%BF%D1%80%D0%BE%D1%81%D1%8B%20Ansible%20-%20%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20%D1%81%20%D1%81%D0%B5%D1%82%D1%8F%D0%BC%D0%B8%20%D0%BD%D0%B0%20Python_files/jquery_002.js"><!----></script>
<link rel="stylesheet" type="text/css" href="%D0%93%D0%BB%D0%B0%D0%B2%D0%B0%205.%20%D0%98%D0%BD%D1%84%D1%80%D0%B0%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0%20%D0%B0%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8%20Python%20-%20%D0%B4%D0%BE%D0%BF%D0%BE%D0%BB%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5%20%D0%B2%D0%BE%D0%BF%D1%80%D0%BE%D1%81%D1%8B%20Ansible%20-%20%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20%D1%81%20%D1%81%D0%B5%D1%82%D1%8F%D0%BC%D0%B8%20%D0%BD%D0%B0%20Python_files/jquery.css">
<script type="text/javascript" src="%D0%93%D0%BB%D0%B0%D0%B2%D0%B0%205.%20%D0%98%D0%BD%D1%84%D1%80%D0%B0%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0%20%D0%B0%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8%20Python%20-%20%D0%B4%D0%BE%D0%BF%D0%BE%D0%BB%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5%20%D0%B2%D0%BE%D0%BF%D1%80%D0%BE%D1%81%D1%8B%20Ansible%20-%20%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20%D1%81%20%D1%81%D0%B5%D1%82%D1%8F%D0%BC%D0%B8%20%D0%BD%D0%B0%20Python_files/jquery_003.js">
<!--jQuery plugin for glossary popups. --></script>
<script type="text/javascript" src="%D0%93%D0%BB%D0%B0%D0%B2%D0%B0%205.%20%D0%98%D0%BD%D1%84%D1%80%D0%B0%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0%20%D0%B0%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8%20Python%20-%20%D0%B4%D0%BE%D0%BF%D0%BE%D0%BB%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5%20%D0%B2%D0%BE%D0%BF%D1%80%D0%BE%D1%81%D1%8B%20Ansible%20-%20%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20%D1%81%20%D1%81%D0%B5%D1%82%D1%8F%D0%BC%D0%B8%20%D0%BD%D0%B0%20Python_files/htmlFileList.htm"><!----></script>
<script type="text/javascript" src="%D0%93%D0%BB%D0%B0%D0%B2%D0%B0%205.%20%D0%98%D0%BD%D1%84%D1%80%D0%B0%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0%20%D0%B0%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8%20Python%20-%20%D0%B4%D0%BE%D0%BF%D0%BE%D0%BB%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5%20%D0%B2%D0%BE%D0%BF%D1%80%D0%BE%D1%81%D1%8B%20Ansible%20-%20%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20%D1%81%20%D1%81%D0%B5%D1%82%D1%8F%D0%BC%D0%B8%20%D0%BD%D0%B0%20Python_files/htmlFileInfoList.htm"><!----></script>
<script type="text/javascript" src="%D0%93%D0%BB%D0%B0%D0%B2%D0%B0%205.%20%D0%98%D0%BD%D1%84%D1%80%D0%B0%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0%20%D0%B0%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8%20Python%20-%20%D0%B4%D0%BE%D0%BF%D0%BE%D0%BB%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5%20%D0%B2%D0%BE%D0%BF%D1%80%D0%BE%D1%81%D1%8B%20Ansible%20-%20%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20%D1%81%20%D1%81%D0%B5%D1%82%D1%8F%D0%BC%D0%B8%20%D0%BD%D0%B0%20Python_files/nwSearchFnt.js"><!----></script>
<script type="text/javascript" src="%D0%93%D0%BB%D0%B0%D0%B2%D0%B0%205.%20%D0%98%D0%BD%D1%84%D1%80%D0%B0%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0%20%D0%B0%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8%20Python%20-%20%D0%B4%D0%BE%D0%BF%D0%BE%D0%BB%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5%20%D0%B2%D0%BE%D0%BF%D1%80%D0%BE%D1%81%D1%8B%20Ansible%20-%20%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20%D1%81%20%D1%81%D0%B5%D1%82%D1%8F%D0%BC%D0%B8%20%D0%BD%D0%B0%20Python_files/en_stemmer.js">
<!--//make this scalable to other languages as well.--></script>
<script type="text/javascript" src="%D0%93%D0%BB%D0%B0%D0%B2%D0%B0%205.%20%D0%98%D0%BD%D1%84%D1%80%D0%B0%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0%20%D0%B0%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8%20Python%20-%20%D0%B4%D0%BE%D0%BF%D0%BE%D0%BB%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5%20%D0%B2%D0%BE%D0%BF%D1%80%D0%BE%D1%81%D1%8B%20Ansible%20-%20%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20%D1%81%20%D1%81%D0%B5%D1%82%D1%8F%D0%BC%D0%B8%20%D0%BD%D0%B0%20Python_files/index-1.htm"><!----></script>
<script type="text/javascript" src="%D0%93%D0%BB%D0%B0%D0%B2%D0%B0%205.%20%D0%98%D0%BD%D1%84%D1%80%D0%B0%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0%20%D0%B0%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8%20Python%20-%20%D0%B4%D0%BE%D0%BF%D0%BE%D0%BB%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5%20%D0%B2%D0%BE%D0%BF%D1%80%D0%BE%D1%81%D1%8B%20Ansible%20-%20%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20%D1%81%20%D1%81%D0%B5%D1%82%D1%8F%D0%BC%D0%B8%20%D0%BD%D0%B0%20Python_files/index-2.htm"><!----></script>
<script type="text/javascript" src="%D0%93%D0%BB%D0%B0%D0%B2%D0%B0%205.%20%D0%98%D0%BD%D1%84%D1%80%D0%B0%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0%20%D0%B0%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8%20Python%20-%20%D0%B4%D0%BE%D0%BF%D0%BE%D0%BB%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5%20%D0%B2%D0%BE%D0%BF%D1%80%D0%BE%D1%81%D1%8B%20Ansible%20-%20%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20%D1%81%20%D1%81%D0%B5%D1%82%D1%8F%D0%BC%D0%B8%20%D0%BD%D0%B0%20Python_files/index-3.htm"><!----></script>
<script type="text/javascript">
	    var _gaq = _gaq || [];
	    _gaq.push(['_setAccount', 'UA-17511903-1']);
	    
	    _gaq.push(['_setDomainName', '.openstack.org']);	        
</script>
<script type="text/javascript" src="%D0%93%D0%BB%D0%B0%D0%B2%D0%B0%205.%20%D0%98%D0%BD%D1%84%D1%80%D0%B0%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0%20%D0%B0%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8%20Python%20-%20%D0%B4%D0%BE%D0%BF%D0%BE%D0%BB%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5%20%D0%B2%D0%BE%D0%BF%D1%80%D0%BE%D1%81%D1%8B%20Ansible%20-%20%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20%D1%81%20%D1%81%D0%B5%D1%82%D1%8F%D0%BC%D0%B8%20%D0%BD%D0%B0%20Python_files/ga.js"><!----></script>
<script language="javascript" src="%D0%93%D0%BB%D0%B0%D0%B2%D0%B0%205.%20%D0%98%D0%BD%D1%84%D1%80%D0%B0%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0%20%D0%B0%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8%20Python%20-%20%D0%B4%D0%BE%D0%BF%D0%BE%D0%BB%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5%20%D0%B2%D0%BE%D0%BF%D1%80%D0%BE%D1%81%D1%8B%20Ansible%20-%20%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20%D1%81%20%D1%81%D0%B5%D1%82%D1%8F%D0%BC%D0%B8%20%D0%BD%D0%B0%20Python_files/common.js"></script>
<link rel="stylesheet" href="%D0%93%D0%BB%D0%B0%D0%B2%D0%B0%205.%20%D0%98%D0%BD%D1%84%D1%80%D0%B0%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0%20%D0%B0%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8%20Python%20-%20%D0%B4%D0%BE%D0%BF%D0%BE%D0%BB%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5%20%D0%B2%D0%BE%D0%BF%D1%80%D0%BE%D1%81%D1%8B%20Ansible%20-%20%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20%D1%81%20%D1%81%D0%B5%D1%82%D1%8F%D0%BC%D0%B8%20%D0%BD%D0%B0%20Python_files/googlecode.css">
<script src="%D0%93%D0%BB%D0%B0%D0%B2%D0%B0%205.%20%D0%98%D0%BD%D1%84%D1%80%D0%B0%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0%20%D0%B0%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8%20Python%20-%20%D0%B4%D0%BE%D0%BF%D0%BE%D0%BB%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5%20%D0%B2%D0%BE%D0%BF%D1%80%D0%BE%D1%81%D1%8B%20Ansible%20-%20%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20%D1%81%20%D1%81%D0%B5%D1%82%D1%8F%D0%BC%D0%B8%20%D0%BD%D0%B0%20Python_files/highlight.js"></script>
</head>
<body>
<!----><script type="text/javascript"><!--
hljs.initHighlightingOnLoad();
HeaderName = 'Глава 5. Инфраструктура автоматизации Python - дополнительные вопросы Ansible';
PrevRef = 'Ch04.html';
UpRef = 'index.html';
NextRef = 'Ch06.html';//--></script>
<!----><script type="text/javascript" src="%D0%93%D0%BB%D0%B0%D0%B2%D0%B0%205.%20%D0%98%D0%BD%D1%84%D1%80%D0%B0%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0%20%D0%B0%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8%20Python%20-%20%D0%B4%D0%BE%D0%BF%D0%BE%D0%BB%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5%20%D0%B2%D0%BE%D0%BF%D1%80%D0%BE%D1%81%D1%8B%20Ansible%20-%20%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20%D1%81%20%D1%81%D0%B5%D1%82%D1%8F%D0%BC%D0%B8%20%D0%BD%D0%B0%20Python_files/HeaderAndToolbar.js">
</script><script type="text/javascript"><!--
document.write(HeaderAndToolbar); //-->
</script><div id="header"><div class="string"><div style="overflow: hidden; width: 100%;" id="marquee"><div style="width: 200%; margin-left: -90.4667%;"><span style="width: 50%; display: inline-block; text-align: center;"><a href="http://www.mdl.ru/Solutions/Put.htm?Nme=MdlAccelerator#RX461i">от100k USD решение с 8ю Tesla Volta V100</a> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="http://www.mdl.ru/Solutions/Put.htm?Nme=EveryPlacePC">23" терминал с 4core ЦПУ/4ГБ/1ТБ от 15тыс.руб.</a></span><span style="width: 50%; display: inline-block; text-align: center;"><a href="http://www.mdl.ru/Solutions/Put.htm?Nme=MdlAccelerator#RX461i">от100k USD решение с 8ю Tesla Volta V100</a> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="http://www.mdl.ru/Solutions/Put.htm?Nme=EveryPlacePC">23" терминал с 4core ЦПУ/4ГБ/1ТБ от 15тыс.руб.</a></span></div></div></div>	<a onclick="_gaq.push(['_trackEvent', 'Header', 'logo', 'click', 1]);" align="middle" target="_blank" href="http://www.mdl.ru/">	<img src="%D0%93%D0%BB%D0%B0%D0%B2%D0%B0%205.%20%D0%98%D0%BD%D1%84%D1%80%D0%B0%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0%20%D0%B0%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8%20Python%20-%20%D0%B4%D0%BE%D0%BF%D0%BE%D0%BB%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5%20%D0%B2%D0%BE%D0%BF%D1%80%D0%BE%D1%81%D1%8B%20Ansible%20-%20%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20%D1%81%20%D1%81%D0%B5%D1%82%D1%8F%D0%BC%D0%B8%20%D0%BD%D0%B0%20Python_files/mdl-reg.jpg" style="position: relative; border-style: none; top: 18%;" alt="Перевод Mdl®" align="middle" height="14" width="40"></a>	<a onclick="_gaq.push(['_trackEvent', 'Header', 'logo', 'click', 1]);" target="_blank" href="https://www.packtpub.com/virtualization-and-cloud/">	<img src="%D0%93%D0%BB%D0%B0%D0%B2%D0%B0%205.%20%D0%98%D0%BD%D1%84%D1%80%D0%B0%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0%20%D0%B0%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8%20Python%20-%20%D0%B4%D0%BE%D0%BF%D0%BE%D0%BB%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5%20%D0%B2%D0%BE%D0%BF%D1%80%D0%BE%D1%81%D1%8B%20Ansible%20-%20%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20%D1%81%20%D1%81%D0%B5%D1%82%D1%8F%D0%BC%D0%B8%20%D0%BD%D0%B0%20Python_files/PacktPub-logo.jpg" alt="Документация Virtualization and Cloud" height="44" width="109"></a>	<h1>Глава 5. Инфраструктура автоматизации Python - дополнительные вопросы Ansible</h1>	<div id="navheader" align="right"><!----><table class="navLinks"><tbody><tr>		<td><a id="showHideButton" onclick="showHideToc(); _gaq.push(['_trackEvent', 'Header', 'show/hide', 'click', 1]);" class="pointLeft" title="Скрыть дерево оглавления">Боковое поле</a>		</td><td><a accesskey="p" class="navLinkPrevious" onclick="_gaq.push(['_trackEvent', 'Header', 'prevLink', 'click', 1]);" tabindex="5" href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch04.html">Предыдущий</a>&nbsp;		  |       <a accesskey="u" class="navLinkUp" onclick="_gaq.push(['_trackEvent', 'Header', 'upLink', 'click', 1]);" tabindex="5" href="http://onreader.mdl.ru/MasteringPythonNetworking/content/index.html">Вверх</a>		  |        <a accesskey="n" class="navLinkNext" onclick="_gaq.push(['_trackEvent', 'Header', 'nextLink', 'click', 1]);" tabindex="5" href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch06.html">Следующий</a>		</td></tr></tbody></table>	</div></div><div id="toolbar" class="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all">	<div id="toolbar-left">		<p class="breadcrumbs"><a href="http://cloudcomputing.mdl.ru/">CloudComputing:mdl.ru</a>		<a href="http://onreader.mdl.ru/MasteringAnsible2nd/content/index.html">Полное руководство Ansible, 2е изд.</a>		<a href="http://onreader.mdl.ru/UnixTheTextbook.3ed/content/Ch10.html">Главное пособие Unix. 3 ред.</a>		(<a onclick="_gaq.push(['_trackEvent', 'Header', 'pdfDownload', 'click', 1]);" alt="Купите оригинал" class="pdficon" href="https://www.packtpub.com/networking-and-servers/mastering-python-networking">		<img src="%D0%93%D0%BB%D0%B0%D0%B2%D0%B0%205.%20%D0%98%D0%BD%D1%84%D1%80%D0%B0%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0%20%D0%B0%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8%20Python%20-%20%D0%B4%D0%BE%D0%BF%D0%BE%D0%BB%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5%20%D0%B2%D0%BE%D0%BF%D1%80%D0%BE%D1%81%D1%8B%20Ansible%20-%20%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20%D1%81%20%D1%81%D0%B5%D1%82%D1%8F%D0%BC%D0%B8%20%D0%BD%D0%B0%20Python_files/pdf.png"></a>) &nbsp; 		</p>		<div id="gplusone">			<a id="AskMdl1" href="javascript:tocall()" onmouseover="this.href=mail" target="_blank" title="Вопросы? Обсудите их на mdl.ru">			<i class="icon-question"><!----></i></a>&nbsp;&nbsp;			<a id="logABugLink1" href="https://bugs.launchpad.net/openstack-manuals/+filebug?field.title=MasteringPythonNetworking&amp;field.comment=%0A%0A-----------------------------------%0ABuilt:%202017-06-29T17:43:47+00:00%0Agit%20SHA:%2013fb30b7c263d715eee84f0ca1a16df79697eb88%0AURL:%20http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch05.html%0Asource%20File:%20file:a35-prades%0Axml:id:%20mastering-python-networking" onmouseover="this.href=mail" title="Нашли ошибку? Сообщите о ней на данной странице">			<i class="icon-bug"><!----></i></a>		</div>	</div></div>
<div style="visibility: visible;" id="content">
 <div class="part">
  <div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title">
   Глава 5. Инфраструктура автоматизации Python - дополнительные вопросы Ansible
  </h1></div></div></div>

  <div class="toc"><p><strong>Содержание</strong></p>
   <dl>
     <dt><span class="chapter"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch05.html">Глава 5. Инфраструктура автоматизации Python - дополнительные вопросы Ansible</a></span></dt>
     <dd><dl>
       <dt><span class="chapter"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch05.html#01">Условные зависимости Ansible</a></span></dt>
       <dd><dl>
         <dt><span class="chapter"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch05.html#0101">Оператор when</a></span></dt>
         <dt><span class="chapter"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch05.html#0102">Условные зависимости сетевого модуля</a></span></dt>
       </dl></dd>
       <dt><span class="chapter"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch05.html#02">Циклы Ansible</a></span></dt>
       <dd><dl>
         <dt><span class="chapter"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch05.html#0201">Стандартные циклы</a></span></dt>
         <dt><span class="chapter"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch05.html#0202">Циклы по словарям</a></span></dt>
       </dl></dd>
       <dt><span class="chapter"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch05.html#03">Шаблоны</a></span></dt>
       <dd><dl>
         <dt><span class="chapter"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch05.html#0301">Шаблоны Jinja2</a></span></dt>
         <dt><span class="chapter"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch05.html#0302">Циклы Jinja2</a></span></dt>
         <dt><span class="chapter"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch05.html#0303">Условные зависимости Jinja2</a></span></dt>
       </dl></dd>
       <dt><span class="chapter"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch05.html#04">Группы и переменные хостов</a></span></dt>
       <dd><dl>
         <dt><span class="chapter"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch05.html#0401">Переменные групп</a></span></dt>
         <dt><span class="chapter"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch05.html#0402">Переменные хостов</a></span></dt>
       </dl></dd>
       <dt><span class="chapter"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch05.html#05">Кладовая Ansible</a></span></dt>
       <dt><span class="chapter"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch05.html#06">Включения и роли Ansible</a></span></dt>
       <dd><dl>
         <dt><span class="chapter"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch05.html#0601">Оператор включения</a></span></dt>
         <dt><span class="chapter"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch05.html#0602">Роли Ansible</a></span></dt>
       </dl></dd>
       <dt><span class="chapter"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch05.html#07">Написание вашего собственного пользовательского модуля</a></span></dt>
       <dd><dl>
         <dt><span class="chapter"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch05.html#0701">Самый первый пользовательский модуль</a></span></dt>
         <dt><span class="chapter"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch05.html#0702">Второй пользовательский модуль</a></span></dt>
       </dl></dd>
       <dt><span class="chapter"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch05.html#08">Выводы</a></span></dt>
     </dl></dd>
   </dl>
  </div>
  <p>В данной главе мы продолжим выстраивать наши уже полученные знания и углубимся в пучину более расширенных 
  тем Ansible. Про Ansible написано много книг. имеется много чего что мы не можем охватить в двух главах. 
  Основная цель состоит в в введении в основные свойства и функции Ansible, которые как я полагаю, необходимы 
  сетевому инженеру и сокращают кривую обучения настолько, насколько это возможно.</p>
  <p>Важно указать, что если вы недостаточно чётко уяснили какие- то моменты из предыдущей главы, сейчас самое время 
  вернуться обратно и пересмотреть их, так как они требуются для данной главы.</p>
  <p>В данной главе мы рассмотрим более глубоко следующие разделы:</p>
  	<div class="itemizedlist">
	<ul class="itemizedlist" type="disc">
	 <li class="listitem">
	 <p>Условные зависимости Ansible</p>
	 </li><li class="listitem">
	 <p>Циклы Ansible</p>
	 </li><li class="listitem">
	 <p>Шаблоны</p>
	 </li><li class="listitem">
	 <p>Переменные групп и хостов</p>
	 </li><li class="listitem">
	 <p>Хранилище Ansible</p>
	 </li><li class="listitem">
	 <p>Роли Ansible</p>
	 </li><li class="listitem">
	 <p>Написание вашего собственного модуля</p>
	 </li>
    </ul>
    </div>
  <p>У нас есть всё что нужно для изучения, так что давайте начнём!</p>
  <p></p>

  <div class="section">
   <div xmlns="" class="titlepage"><div><div>
    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="01"> </a>Условные зависимости Ansible</h3>
   </div></div></div>
   <p>Условные зависимости Ansible аналогичны зависимостям программирования, поскольку они применяются для управления 
   всем потоком ваших плейбуков (планов). Во многих случаях сам результат воспроизведения (play) может зависеть 
   от значения некоторого факта, переменной или результата предыдущей задачи. Например, если у вас имеется некий 
   плейбук для обновления образов маршрутизатора, вы хотите быть уверенным, что такой образ маршрутизатора имеется, 
   прежде чем вы пуститесь во все тяжкие с перезагрузкой данного маршрутизатора.</p>
   <p>В данном разделе мы рассмотрим оператор when, который поддерживается для всех модулей, а также уникальные 
   состояния условных зависимостей, поддерживаемых  модулях сетевых команд Ansible, таких как:</p>
  	<div class="itemizedlist">
	<ul class="itemizedlist" type="disc">
	 <li class="listitem">
	 <p>Эквивалентен (<span class="term"><code>eq</code></span>)</p>
	 </li><li class="listitem">
	 <p>Не эквивалентен (<span class="term"><code>neq</code></span>)</p>
	 </li><li class="listitem">
	 <p>Больше чем (<span class="term"><code>gt</code></span>)</p>
	 </li><li class="listitem">
	 <p>Больше чем или равен (<span class="term"><code>ge</code></span>)</p>
	 </li><li class="listitem">
	 <p>Меньше чем (<span class="term"><code>lt</code></span>)</p>
	 </li><li class="listitem">
	 <p>Меньше чем или равен (<span class="term"><code>le</code></span>)</p>
	 </li><li class="listitem">
	 <p>Содержится в</p>
	 </li>
    </ul>
    </div>

   <div xmlns="" class="titlepage"><div><div>
    <h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="0101"> </a>
	<span style="color:#FEFEFE; background-color:#888888; padding:0.5em;">Оператор when</span></h4>
   </div></div></div>
   <p>Оператор when полезен когда вам нужно проверить весь вывод из полученного результата и действовать 
   соответствующим образом. Давайте рассмотрим пример его применения в 
   <span class="term"><code>chapter5_1.yml</code></span>:</p>
	   <pre class="screen"><code class="hljs applescript">
<span class="hljs-comment">---</span>
- <span class="hljs-property">name</span>: IOS Command Output
  hosts: <span class="hljs-string">"iosv-devices"</span>
  gather_facts: <span class="hljs-constant">false</span>
  connection: <span class="hljs-keyword">local</span>
  vars:
    cli:
      host: <span class="hljs-string">"{{ ansible_host }}"</span>
      username: <span class="hljs-string">"{{ username }}"</span>
      password: <span class="hljs-string">"{{ password }}"</span>
      transport: cli
    tasks:
      - <span class="hljs-property">name</span>: show hostname
        ios_command:
          commands:
            - show <span class="hljs-command">run</span> | i hostname
              provider: <span class="hljs-string">"{{ cli }}"</span>
          register: output
      - <span class="hljs-property">name</span>: show output
        when: '<span class="hljs-string">"iosv-2"</span> <span class="hljs-keyword">in</span> <span class="hljs-string">"{{ output.stdout }}"</span>'
        debug:
          msg: '{{ output }}'
 	   </code></pre>
   <p>Мы уже видели все элементы из данного плейбука в <a class="link" href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch04.html" target="_top">Главе 4, 
   Инфраструктура автоматизации Python - основы Ansible</a>, единственная разница состоит во второй задаче, так 
   как мы применяем оператор <span class="term"><code>when</code></span> для проверки того содержит ли вывод 
   <span class="term"><code>iosv-2</code></span>. Если да, то мы продолжаем данную задачу, которая применяет 
   модуль отладки для отображения всего вывода. Когда данный плейбук исполняется, мы наблюдаем такой 
   вывод:</p>
	   <pre class="screen"><strong><code class="hljs markdown">
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">пропуск</span>&gt;</span></span>
TASK [show output]
<span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span>*
skipping: [ios-r1]
ok: [ios-r2] =<span class="xml"><span class="hljs-tag">&lt; {
    "<span class="hljs-attribute">msg</span>"<span class="hljs-attribute">:</span> {
        "<span class="hljs-attribute">changed</span>"<span class="hljs-attribute">:</span> <span class="hljs-attribute">false</span>,
        "<span class="hljs-attribute">stdout</span>"<span class="hljs-attribute">:</span> [
            "<span class="hljs-attribute">hostname</span> <span class="hljs-attribute">iosv-2</span>"
        ],
        "<span class="hljs-attribute">stdout_lines</span>"<span class="hljs-attribute">:</span> [
            [
                "<span class="hljs-attribute">hostname</span> <span class="hljs-attribute">iosv-2</span>"
            ]
        ],
        "<span class="hljs-attribute">warnings</span>"<span class="hljs-attribute">:</span> []
    }
}
&lt;пропуск&gt;</span></span>
 	   </code></strong></pre>
   <p>Вы можете видеть, что ваше устройство <span class="term"><code>iosv-r1</code></span> опущено в выводе, 
   так как данный оператор не проходит. Дальше мы можем расширить этот пример в 
   <span class="term"><code>chapter5_2.yml</code></span> чтобы применять изменения настроек только когда они 
   соответствуют установленному условию:</p>
	   <pre class="screen"><code class="hljs applescript">
&lt;пропуск&gt;
tasks:
  - <span class="hljs-property">name</span>: show hostname
    ios_command:
      commands:
        - show <span class="hljs-command">run</span> | i hostname
      provider: <span class="hljs-string">"{{ cli }}"</span>
    register: output
  - <span class="hljs-property">name</span>: config example
    when: '<span class="hljs-string">"iosv-2"</span> <span class="hljs-keyword">in</span> <span class="hljs-string">"{{ output.stdout }}"</span>'
    ios_config:
      lines:
        - logging buffered <span class="hljs-number">30000</span>
      provider: <span class="hljs-string">"{{ cli }}"</span>
 	   </code></pre>
   <p>Здесь мы можем увидеть вывод результата:</p>
	   <pre class="screen"><strong><code class="hljs markdown">
TASK [config example]
<span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-emphasis">***</span>
skipping: [ios-r1]
changed: [ios-r2]
PLAY RECAP

<span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-emphasis">***</span>*
ios-r1 : ok=1 changed=0 unreachable=0 failed=0
ios-r2 : ok=2 changed=1 unreachable=0 failed=0
 	   </code></strong></pre>
   <p>Отметим, что данный вывод показывает, что только <span class="term"><code>iosv-r2</code></span> изменился, 
   а <span class="term"><code>iosv-r1</code></span> пропускается. Данный оператор when также очень полезен 
   в тех случаях, когда поддерживается модуль установки и вы желаете обработать некоторые 
   <span class="term"><code>facts</code></span>, которые мы получаем изначально. Например, следующий оператор 
   обеспечит вам что воздействие будет произведено только для хостов Ubuntu с основной версией 
   <span class="term"><code>16</code></span> при размещении такого условного выражения в оператор:</p>
	   <pre class="screen"><code class="hljs perl">
<span class="hljs-keyword">when</span>: ansible_os_family == <span class="hljs-string">"Debian"</span> <span class="hljs-keyword">and</span> ansible_lsb.major_release|<span class="hljs-keyword">int</span> &gt;= <span class="hljs-number">16</span>
 	   </code></pre>
     <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
	   <table summary="Замечание" border="0"><tbody><tr><td rowspan="2" align="center" valign="top" width="25">
	   <img alt="[Замечание]" src="%D0%93%D0%BB%D0%B0%D0%B2%D0%B0%205.%20%D0%98%D0%BD%D1%84%D1%80%D0%B0%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0%20%D0%B0%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8%20Python%20-%20%D0%B4%D0%BE%D0%BF%D0%BE%D0%BB%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5%20%D0%B2%D0%BE%D0%BF%D1%80%D0%BE%D1%81%D1%8B%20Ansible%20-%20%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20%D1%81%20%D1%81%D0%B5%D1%82%D1%8F%D0%BC%D0%B8%20%D0%BD%D0%B0%20Python_files/note.png"></td><th align="left">Замечание</th></tr><tr><td align="left" valign="top">
	   <p>Для получения дополнительной информации по условным зависимостям обратитесь к документации 
	   Ansible <a class="link" href="http://docs.ansible.com/ansible/playbooks_conditionals.html" target="_top">http://docs.ansible.com/ansible/playbooks_conditionals.html</a>.</p></td></tr></tbody></table>
     </div>

   <div xmlns="" class="titlepage"><div><div>
    <h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="0102"> </a>
	<span style="color:#FEFEFE; background-color:#888888; padding:0.5em;">Условные зависимости сетевого модуля</span></h4>
   </div></div></div>
   <p>Давайте рассмотрим пример с сетевым устройством. Мы можем получить преимущества от того факта, что и 
   IOSv и Arista EOS предоставляют вывод в формате JSON в командах просмотра. Например, мы можем проверить 
   состояние имеющегося интерфейса:</p>
	   <pre class="screen"><code class="hljs cpp">
arista1<span class="hljs-preprocessor">#sh interfaces ethernet 1/3 | json</span>
{
 <span class="hljs-string">"interfaces"</span>: {
 <span class="hljs-string">"Ethernet1/3"</span>: {
 <span class="hljs-string">"interfaceStatistics"</span>: {
&lt;пропуск&gt;
 <span class="hljs-string">"outPktsRate"</span>: <span class="hljs-number">0.0</span>
 },
 <span class="hljs-string">"name"</span>: <span class="hljs-string">"Ethernet1/3"</span>,
 <span class="hljs-string">"interfaceStatus"</span>: <span class="hljs-string">"disabled"</span>,
 <span class="hljs-string">"autoNegotiate"</span>: <span class="hljs-string">"off"</span>,
&lt;пропуск&gt;
}
arista1<span class="hljs-preprocessor">#</span>
 	   </code></pre>
   <p>Если у нас имеется некая операция, которую мы намереваемся подготовить и это зависит от запрещения 
   <span class="term"><code>Ethernet1/3</code></span> чтобы не иметь воздействия на пользователя, такого как 
   активное подключение пользователей к <span class="term"><code>Ethernet1/3</code></span>, мы можем 
   воспользоваться следующей настройкой задач в <span class="term"><code>chapter5_3.yml</code></span>, 
   которая предоставляется в модуле <span class="term"><code>eos_command</code></span>, чтобы убедиться что 
   это имеет место, прежде чем мы продолжим:</p>
	   <pre class="screen"><code class="hljs applescript">
&lt;пропуск&gt;
 tasks:
   - <span class="hljs-property">name</span>: <span class="hljs-string">"sh int ethernet 1/3 | json"</span>
     eos_command:
       commands:
         - <span class="hljs-string">"show interface ethernet 1/3 | json"</span>
       provider: <span class="hljs-string">"{{ cli }}"</span>
       waitfor:
         - <span class="hljs-string">"result[0].interfaces.Ethernet1/3.interfaceStatus eq disabled"</span>
       register: output
         - <span class="hljs-property">name</span>: show output
           debug:
             msg: <span class="hljs-string">"Interface Disabled, Safe to Proceed"</span>
 	   </code></pre>
   <p>При соответствии данному условию исполняется следующая задача:</p>
	   <pre class="screen"><strong><code class="hljs markdown">
TASK [sh int ethernet 1/3 | json]
<span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span>*
ok: [arista1]

TASK [show output]
<span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span>*
ok: [arista1] =&gt; {
 "msg": "Interface Disabled, Safe to Proceed"
}
 	   </code></strong></pre>
   <p>В противном случае таким образом выдаётся ошибка:</p>
	   <pre class="screen"><strong><code class="hljs markdown">
TASK [sh int ethernet 1/3 | json]
<span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span>*
fatal: [arista1]: FAILED! =&gt; {"changed": false, "commands": ["show interface ethernet 1/3 | json | json"], "failed": true, "msg":
"matched error in response: show interface ethernet 1/3 | json | jsonrn% Invalid input (privileged mode required)rn<span class="hljs-strong">*****</span><span class="hljs-emphasis">***</span>1&gt;"}
 to retry, use: --limit 
@/home/echou/Master<span class="hljs-emphasis">_Python_</span>Networking/Chapter5/chapter5_3.retry

PLAY RECAP
<span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span>*
arista1 : ok=0 changed=0 unreachable=0 failed=1
 	   </code></strong></pre>
   <p>Если вашей ситуации соответствуют такие условия как содержится в, больше чем или меньше чем, проверяйте с их 
   участием.</p>
  </div>

  <div class="section">
   <div xmlns="" class="titlepage"><div><div>
    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="02"> </a>Циклы Ansible</h3>
   </div></div></div>
   <p>Ansible предоставляет ряд циклов в вашем плейбуке, таких как стандартные циклы, циклы по файлам, 
   подэлементам, do-until и многие другие. В данном разделе мы рассмотрим две формы из наиболее часто используемых,
   а тменно, стандартные циклы и циклы по значениям хэш- тегов.</p>

   <div xmlns="" class="titlepage"><div><div>
    <h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="0201"> </a>
	<span style="color:#FEFEFE; background-color:#888888; padding:0.5em;">Стандартные циклы</span></h4>
   </div></div></div>
   <p>Стандартные циклы в плейбуке часто используются для простого исполнения аналогичных задач множество раз. 
   Синтаксис стандартного цикла очень прост; а именно, переменная <span class="term"><code>{{ item }}</code></span>
   является резервирующей пространство цикла по списку <span class="term"><code>with_items</code></span>. 
   Например, давайте рассмотрим следующее:</p>
	   <pre class="screen"><code class="hljs bash">
tasks:
  - name: <span class="hljs-built_in">echo</span> loop items
    <span class="hljs-built_in">command</span>: <span class="hljs-built_in">echo</span> {{ item }}
    with_items: [<span class="hljs-string">'r1'</span>, <span class="hljs-string">'r2'</span>, <span class="hljs-string">'r3'</span>, <span class="hljs-string">'r4'</span>, <span class="hljs-string">'r5'</span>]
 	   </code></pre>
   <p>Она пройдёт цикл из пяти элементов с одной и той же командой 
   <span class="term"><code>echo</code></span>:</p>
	   <pre class="screen"><strong><code class="hljs markdown">
TASK [echo loop items] <span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span>**
changed: [192.168.199.185] =&gt; (item=r1)
changed: [192.168.199.185] =&gt; (item=r2)
changed: [192.168.199.185] =&gt; (item=r3)
changed: [192.168.199.185] =&gt; (item=r4)
changed: [192.168.199.185] =&gt; (item=r5)
 	   </code></strong></pre>
   <p>При объединении с модулем сетевых команд следующая задача добавит множество vlan в данное устройство:</p>
	   <pre class="screen"><code class="hljs applescript">
tasks:
  - <span class="hljs-property">name</span>: add vlans
    eos_config:
      lines:
        - vlan {{ <span class="hljs-property">item</span> }}
    provider: <span class="hljs-string">"{{ cli }}"</span>
  with_items:
      - <span class="hljs-number">100</span>
      - <span class="hljs-number">200</span>
      - <span class="hljs-number">300</span>
 	   </code></pre>
   <p>Такой список <span class="term"><code>with_items</code></span> также может быть считан из некоторой 
   переменной, что предоставляет дополнительную гибкость для имеющейся структуры вашего плейбука:</p>
	   <pre class="screen"><code class="hljs applescript">
vars:
  vlan_numbers: [<span class="hljs-number">100</span>, <span class="hljs-number">200</span>, <span class="hljs-number">300</span>]
&lt;пропуск&gt;
tasks:
  - <span class="hljs-property">name</span>: add vlans
    eos_config:
      lines:
          - vlan {{ <span class="hljs-property">item</span> }}
      provider: <span class="hljs-string">"{{ cli }}"</span>
    with_items: <span class="hljs-string">"{{ vlan_numbers }}
 	   </span></code></pre>
   <p>Стандартный цикл является отличным средством экономии времени, когда дело доходит до выполнения дублируемых 
   задач в плейбуке. В следующем разделе мы рассмотрим цикл по словарям.</p>

   <div xmlns="" class="titlepage"><div><div>
    <h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="0202"> </a>
	<span style="color:#FEFEFE; background-color:#888888; padding:0.5em;">Циклы по словарям</span></h4>
   </div></div></div>
   <p>Цикл по простому списку это прекрасно. Однако часто у нас имеются некие сущности с более чем одним связанным 
   с ними атрибутом. Если вы подумаете о примере с <span class="term"><code>vlan</code></span> в последнем разделе, 
   каждый <span class="term"><code>vlan</code></span> мог бы иметь некоторые дополнительные атрибуты уникальные 
   именно для него, такие как описание <span class="term"><code>vlan</code></span>, его IP адрес и, возможно, 
   и другие. Часто мы можем использовать словари для представления таких сущностей чтобы собирать в них множество 
   атрибутов.</p>
   <p>Давайте расширим наш пример <span class="term"><code>vlan</code></span> в последнем разделе для примера словаря 
   в <span class="term"><code>chapter5_6.yml</code></span>. Мы определим значения своего словаря для трёх 
   <span class="term"><code>vlans</code></span>, причём каждый имеет встроенный словарь для описания и адреса IP:</p>
	   <pre class="screen"><code class="hljs cpp">
&lt;пропуск&gt;
vars:
   cli:
     host: <span class="hljs-string">"{{ ansible_host }}"</span>
       username: <span class="hljs-string">"{{ username }}"</span>
       password: <span class="hljs-string">"{{ password }}"</span>
       transport: cli
     vlans: {
        <span class="hljs-string">"100"</span>: {<span class="hljs-string">"description"</span>: <span class="hljs-string">"floor_1"</span>, <span class="hljs-string">"ip"</span>: <span class="hljs-string">"192.168.10.1"</span>},
        <span class="hljs-string">"200"</span>: {<span class="hljs-string">"description"</span>: <span class="hljs-string">"floor_2"</span>, <span class="hljs-string">"ip"</span>: <span class="hljs-string">"192.168.20.1"</span>}
        <span class="hljs-string">"300"</span>: {<span class="hljs-string">"description"</span>: <span class="hljs-string">"floor_3"</span>, <span class="hljs-string">"ip"</span>: <span class="hljs-string">"192.168.30.1"</span>}
   }
 	   </code></pre>
   <p>Мы можем настроить самую первую задачу, <span class="term"><code>add vlans</code></span>, воспользовавшись 
   имеющимся ключом для каждого элемента как номера <span class="term"><code>vlan</code></span>:</p>
	   <pre class="screen"><code class="hljs applescript">
tasks:
  - <span class="hljs-property">name</span>: add vlans
    nxos_config:
      lines:
        - vlan {{ <span class="hljs-property">item</span>.key }}
      provider: <span class="hljs-string">"{{ cli }}"</span>
    with_dict: <span class="hljs-string">"{{ vlans }}"</span>
 	   </code></pre>
   <p>Мы можем продолжить настройку данного интерфейса <span class="term"><code>vlan</code></span>. Отметим, что 
   мы используем имеющиеся родительские параметры для уникальной идентификации того раздела, который команд 
   должен быть проверен данной командой. Это обусловлено тем фактом, что само описание и его IP адрес оба 
   настроены в подразделе <span class="term"><code>interface vlan &lt;number&gt;</code></span>:</p>
	   <pre class="screen"><code class="hljs applescript">
- <span class="hljs-property">name</span>: configure vlans
  nxos_config:
    lines:
      - description {{ <span class="hljs-property">item</span>.value.<span class="hljs-property">name</span> }}
      - ip address {{ <span class="hljs-property">item</span>.value.ip }}/<span class="hljs-number">24</span>
    provider: <span class="hljs-string">"{{ cli }}"</span>
    parents: interface vlan {{ <span class="hljs-property">item</span>.key }}
  with_dict: <span class="hljs-string">"{{ vlans }}"</span>
 	   </code></pre>
   <p>После исполнения вы обнаружите проход по своему словарю:</p>
	   <pre class="screen"><strong><code class="hljs python">
TASK [configure vlans] *********************************************************
changed: [nxos-r1] =&gt; (item={<span class="hljs-string">'key'</span>: <span class="hljs-string">u'300'</span>, <span class="hljs-string">'value'</span>: {<span class="hljs-string">u'ip'</span>: <span class="hljs-string">u'192.168.30.1'</span>, <span class="hljs-string">u'name'</span>: <span class="hljs-string">u'floor_3'</span>}})
changed: [nxos-r1] =&gt; (item={<span class="hljs-string">'key'</span>: <span class="hljs-string">u'200'</span>, <span class="hljs-string">'value'</span>: {<span class="hljs-string">u'ip'</span>: <span class="hljs-string">u'192.168.20.1'</span>, <span class="hljs-string">u'name'</span>: <span class="hljs-string">u'floor_2'</span>}})
changed: [nxos-r1] =&gt; (item={<span class="hljs-string">'key'</span>: <span class="hljs-string">u'100'</span>, <span class="hljs-string">'value'</span>: {<span class="hljs-string">u'ip'</span>: <span class="hljs-string">u'192.168.10.1'</span>, <span class="hljs-string">u'name'</span>: <span class="hljs-string">u'floor_1'</span>}})
 	   </code></strong></pre>
   <p>Давайте проверим, применяется ли к данному устройству предлагаемая настройка:</p>
	   <pre class="screen"><strong><code class="hljs objectivec">
nx-osv-<span class="hljs-number">1</span><span class="hljs-preprocessor"># sh run | i vlan</span>
&lt;пропуск&gt;
vlan <span class="hljs-number">1</span>,<span class="hljs-number">10</span>,<span class="hljs-number">100</span>,<span class="hljs-number">200</span>,<span class="hljs-number">300</span>
nx-osv-<span class="hljs-number">1</span><span class="hljs-preprocessor">#</span>

nx-osv-<span class="hljs-number">1</span><span class="hljs-preprocessor"># sh run | section <span class="hljs-title">"interface Vlan100"</span></span>
interface Vlan100
  description floor_1
  ip address <span class="hljs-number">192.168</span><span class="hljs-number">.10</span><span class="hljs-number">.1</span>/<span class="hljs-number">24</span>
nx-osv-<span class="hljs-number">1</span><span class="hljs-preprocessor">#</span>
 	   </code></strong></pre>
     <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
	   <table summary="Замечание" border="0"><tbody><tr><td rowspan="2" align="center" valign="top" width="25">
	   <img alt="[Замечание]" src="%D0%93%D0%BB%D0%B0%D0%B2%D0%B0%205.%20%D0%98%D0%BD%D1%84%D1%80%D0%B0%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0%20%D0%B0%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8%20Python%20-%20%D0%B4%D0%BE%D0%BF%D0%BE%D0%BB%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5%20%D0%B2%D0%BE%D0%BF%D1%80%D0%BE%D1%81%D1%8B%20Ansible%20-%20%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20%D1%81%20%D1%81%D0%B5%D1%82%D1%8F%D0%BC%D0%B8%20%D0%BD%D0%B0%20Python_files/note.png"></td><th align="left">Замечание</th></tr><tr><td align="left" valign="top">
	   <p>Оносительно дополнительных типов циклов не стесняйтесь обратиться к документации:
	   <a class="link" href="http://docs.ansible.com/ansible/playbooks_loops.html" target="_top">http://docs.ansible.com/ansible/playbooks_loops.html</a>
	   .</p></td></tr></tbody></table>
     </div>
   <p>В первые несколько раз при своём применении зацикливание по словарям требует некоторого опыта. Но также как 
   и стандартные циклы, циклы по словарям станут бесценным инструментом на вашем инструментальном поясе.</p>
  </div>

  <div class="section">
   <div xmlns="" class="titlepage"><div><div>
    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="03"> </a>Шаблоны</h3>
   </div></div></div>
   <p>Сколько я себя помню, я всегда применял своего роба сетевой шаблон. По моему опыту многие сетевые 
   устройства имеют идентичные разделы сетевых настроек, в особенности если эти устройства обслуживают одну 
   и ту же роль в вашей сетевой среде. В большинстве случаев, когда нам необходимо предоставить некое новое сетевое 
   устройство, мы применяем одни и теже настройки в виде некоторого шаблона, заменяем все необходимые поля и
   копируем данный файл по всем новым устройствам.При помощи Ansible вы можете автоматизировать всю такую работу 
   при помощи своего модуля шаблона (<a class="link" href="http://docs.ansible.com/ansible/template_module.html" target="_top">http://docs.ansible.com/ansible/template_module.html</a>).</p>
   <p>Базовый файл шаблона, который мы применяем будет использовать язык шаблонов Jinja2 
   (<a class="link" href="http://jinja.pocoo.org/docs/" target="_top">http://jinja.pocoo.org/docs/</a>). 
   Мы кратко обсудили язык шаблонов Jinja2 в предыдущей главе и мы взглянем на него немного больше здесь. В 
   точности как и Ansible, Jinja2 имеет свой собственный синтаксис и метод выполнения циклов и условных 
   зависимостей; к счастью, для наших целей нам потребуется знать всего лишь самые основы его. Вы постепенно 
   изучите этот синтаксис в процессе построения своих  плейбуков.</p>
   <p>Основной синтаксис для использования шаблона очень прост; вам всего лишь необходимо определить сам файл 
   источника и расположение получателя, куда вы желаете его скопировать. Сейчас мы создадим некий пустой файл:</p>
	   <pre class="screen"><strong><code class="hljs ruby">
<span class="hljs-variable">$ </span>touch file1
 	   </code></strong></pre>
   <p>Затем мы применим следующий плейбук для копирования <span class="term"><code>file1</code></span> в 
   <span class="term"><code>file2</code></span>, причём отметим, что данный плейбук исполняется только на самой 
   управляющей машине ; теперь определим конкретный путь и для файла источника, и для файла получателя в 
   виде аргументов:</p>
	   <pre class="screen"><code class="hljs applescript">
<span class="hljs-comment">---</span>
- <span class="hljs-property">name</span>: Template Basic
  hosts: locahost

  tasks:
    - <span class="hljs-property">name</span>: <span class="hljs-keyword">copy</span> one <span class="hljs-type">file</span> <span class="hljs-keyword">to</span> another
      template:
        src=./file1
        dest=./file2
 	   </code></pre>
   <p>Нам не нужно определять файл хоста, так как локальный хост доступен по умолчанию; вы однако получите 
   предупреждение:</p>
	   <pre class="screen"><strong><code class="hljs markdown">
$ ansible-playbook chapter5_7.yml
[<span class="hljs-link_reference">WARNING</span>]:<span class="hljs-link_url"> provided hosts list is empty, only localhost is available</span>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">пропуск</span>&gt;</span></span>
TASK [copy one file to another] <span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-emphasis">***</span>
changed: [localhost]
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">пропуск</span>&gt;</span></span>
 	   </code></strong></pre>
   <p>Имя файла источника может иметь любое расширение, однако так как они будут обрабатываться механизмом шаблонов 
   Jinja2, давайте создадим некий файл с названием <span class="term"><code>nxos.j2</code></span> в качестве 
   своего источника шаблона. Этот шаблон будет следовать соглашениям Jinja2 применения двойных фигурных скобок 
   для определения своих переменных:</p>
	   <pre class="screen"><code class="hljs applescript">
hostname {{ <span class="hljs-property">item</span>.value.hostname }}
feature telnet
feature ospf
feature bgp
feature interface-vlan

username {{ <span class="hljs-property">item</span>.value.username }} password {{ <span class="hljs-property">item</span>.value.password }} role network-operator
 	   </code></pre>

   <div xmlns="" class="titlepage"><div><div>
    <h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="0301"> </a>
	<span style="color:#FEFEFE; background-color:#888888; padding:0.5em;">Шаблоны Jinja2</span></h4>
   </div></div></div>
   <p>Давайте изменим соответствующим образом свой плейбук. В <span class="term"><code>chapter5_8.yml</code></span> 
   мы внесём следующие изменения:</p>
   <div class="orderedlist">
   <ol class="orderedlist" type="1"><li class="listitem">
     <p> Изменим свой файл источника на <span class="term"><code>nxos.j2</code></span>.</p>
	 </li><li class="listitem">
	 <p>Изменим имеющийся файл получателя на некую переменную.</p>
	 </li><li class="listitem">
	 <p>Предоставьте все значения переменных, которые мы будем подставлять в данный шаблон, указанный в имеющемся 
	 разделе задач.</p>
	   <pre class="screen"><code class="hljs applescript">
<span class="hljs-comment">---</span>
- <span class="hljs-property">name</span>: Template Looping
  hosts: localhost

  vars:
    nexus_devices: {
      <span class="hljs-string">"nx-osv-1"</span>: {<span class="hljs-string">"hostname"</span>: <span class="hljs-string">"nx-osv-1"</span>, <span class="hljs-string">"username"</span>: <span class="hljs-string">"cisco"</span>, <span class="hljs-string">"password"</span>: <span class="hljs-string">"cisco"</span>}
    }

  tasks:
    - <span class="hljs-property">name</span>: create router configuration files
      template:
        src=./nxos.j2
        dest=./{{ <span class="hljs-property">item</span>.key }}.conf
      with_dict: <span class="hljs-string">"{{ nexus_devices }}"</span>
 	   </code></pre>
	 </li>
   </ol>
   </div>
   <p>После исполнения данного плейбука вы обнаружите созданный файл получатель 
   <span class="term"><code>nx-osv-1.conf</code></span> с заполненными значениями и готовый к использованию:</p>
	   <pre class="screen"><strong><code class="hljs cpp">
$ cat nx-osv-<span class="hljs-number">1.</span>conf
hostname nx-osv-<span class="hljs-number">1</span>

feature telnet
feature ospf
feature bgp
feature interface-vlan

username cisco password cisco role network-<span class="hljs-keyword">operator</span>
 	   </code></strong></pre>

   <div xmlns="" class="titlepage"><div><div>
    <h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="0302"> </a>
	<span style="color:#FEFEFE; background-color:#888888; padding:0.5em;">Циклы Jinja2</span></h4>
   </div></div></div>
   <p>Мы также можем выполнять цикл по некоторому списку, также как и по словарю, в точности как мы это делали в 
   предыдущем разделе; внесём следующие изменения в <span class="term"><code>nxos.j2</code></span>:</p>
	   <pre class="screen"><code class="hljs cs">
{% <span class="hljs-keyword">for</span> vlan_num <span class="hljs-keyword">in</span> item.<span class="hljs-keyword">value</span>.vlans %}
vlan {{ vlan_num }}
{% endfor %}

{% <span class="hljs-keyword">for</span> vlan_interface <span class="hljs-keyword">in</span> item.<span class="hljs-keyword">value</span>.vlan_interfaces %}
<span class="hljs-keyword">interface</span> {{ vlan_interface.int_num }}
  ip address {{ vlan_interface.ip }}/<span class="hljs-number">24</span>
{% endfor %}
 	   </code></pre>
   <p>Укажем в данном плейбуке определённый дополнительный список и переменные словаря:</p>
	   <pre class="screen"><code class="hljs cpp">
vars:
  nexus_devices: {
    <span class="hljs-string">"nx-osv-1"</span>: {
    <span class="hljs-string">"hostname"</span>: <span class="hljs-string">"nx-osv-1"</span>,
    <span class="hljs-string">"username"</span>: <span class="hljs-string">"cisco"</span>,
    <span class="hljs-string">"password"</span>: <span class="hljs-string">"cisco"</span>,
    <span class="hljs-string">"vlans"</span>: [<span class="hljs-number">100</span>, <span class="hljs-number">200</span>, <span class="hljs-number">300</span>],
    <span class="hljs-string">"vlan_interfaces"</span>: [
       {<span class="hljs-string">"int_num"</span>: <span class="hljs-string">"100"</span>, <span class="hljs-string">"ip"</span>: <span class="hljs-string">"192.168.10.1"</span>},
       {<span class="hljs-string">"int_num"</span>: <span class="hljs-string">"200"</span>, <span class="hljs-string">"ip"</span>: <span class="hljs-string">"192.168.20.1"</span>},
       {<span class="hljs-string">"int_num"</span>: <span class="hljs-string">"300"</span>, <span class="hljs-string">"ip"</span>: <span class="hljs-string">"192.168.30.1"</span>}
     ]
    }
  }
 	   </code></pre>
   <p>Исполните данный плейбук и вы обнаружите в своей конфигурации маршрутизатора заполненными и настройки 
   для <span class="term"><code>vlan</code></span>, и настройки для 
   <span class="term"><code>vlan_interfaces</code></span>.</p>

   <div xmlns="" class="titlepage"><div><div>
    <h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="0303"> </a>
	<span style="color:#FEFEFE; background-color:#888888; padding:0.5em;">Условные зависимости Jinja2</span></h4>
   </div></div></div>
   <p>Jinja2 также поддерживает и некую условную проверку. Давайте добавим такое поле для регулировки своего 
   свойства имеющегося сетевого потока для определённого устройства. Мы добавим в 
   <span class="term"><code>nxos.j2</code></span> следующее:</p>
	   <pre class="screen"><code class="hljs applescript">
{% <span class="hljs-keyword">if</span> <span class="hljs-property">item</span>.value.netflow_enable %}
feature netflow
{% endif %}
 	   </code></pre>
   <p>Вот его плейбук:</p>
	   <pre class="screen"><code class="hljs python">
vars:
nexus_devices: {
&lt;пропуск&gt;
       <span class="hljs-string">"netflow_enable"</span>: <span class="hljs-keyword">True</span>
&lt;пропуск&gt;
}
 	   </code></pre>
   <p>Самый последний шаг, который мы предпримем, состоит в том чтобы сделать <span class="term"><code>nxos.j2</code></span>
   более масштабируемым, разместив сам раздел <span class="term"><code>vlan</code></span> внутри некоторой 
   условной проверки <span class="term"><code>true</code></span> - <span class="term"><code>false</code></span>. 
   В условиях на практике в большинстве случаев у нас будет иметься множество устройств обладающих информацией об
   их <span class="term"><code>vlan</code></span>, однако только одно устройство будет выступать в роли определённого 
   для хостов клиентов шлюза:</p>
	   <pre class="screen"><code class="hljs cs">
{% <span class="hljs-keyword">if</span> item.<span class="hljs-keyword">value</span>.l3_vlan_interfaces %}
{% <span class="hljs-keyword">for</span> vlan_interface <span class="hljs-keyword">in</span> item.<span class="hljs-keyword">value</span>.vlan_interfaces %}
<span class="hljs-keyword">interface</span> {{ vlan_interface.int_num }}
ip address {{ vlan_interface.ip }}/<span class="hljs-number">24</span>
{% endfor %}
{% endif %}
 	   </code></pre>
   <p>В свой плейбук мы также добавим некоторое второе устройство с названием
   <span class="term"><code>nx-osv-2</code></span>:</p>
	   <pre class="screen"><code class="hljs python">
vars:
  nexus_devices: {
  &lt;пропуск&gt;
    <span class="hljs-string">"nx-osv-2"</span>: {
    <span class="hljs-string">"hostname"</span>: <span class="hljs-string">"nx-osv-2"</span>,
    <span class="hljs-string">"username"</span>: <span class="hljs-string">"cisco"</span>,
    <span class="hljs-string">"password"</span>: <span class="hljs-string">"cisco"</span>,
    <span class="hljs-string">"vlans"</span>: [<span class="hljs-number">100</span>, <span class="hljs-number">200</span>, <span class="hljs-number">300</span>],
    <span class="hljs-string">"l3_vlan_interfaces"</span>: <span class="hljs-keyword">False</span>,
    <span class="hljs-string">"netflow_enable"</span>: <span class="hljs-keyword">False</span>
    }
    &lt;пропуск&gt;
  }
 	   </code></pre>
   <p>Клёво, да? Это безусловно сохранит нам массу времени в  чём- то что требует повторяющего копирования и 
   вставки перед этим.</p>
  </div>

  <div class="section">
   <div xmlns="" class="titlepage"><div><div>
    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="04"> </a>Группы и переменные хостов</h3>
   </div></div></div>
   <p>Отметим, что в предыдущем примере мы повторились в переменных имени пользователя и пароля для двух устройств в 
   объемлющей переменной <span class="term"><code>nexus_devices</code></span>:</p>
	   <pre class="screen"><code class="hljs cpp">
vars:
  nexus_devices: {
    <span class="hljs-string">"nx-osv-1"</span>: {
      <span class="hljs-string">"hostname"</span>: <span class="hljs-string">"nx-osv-1"</span>,
      <span class="hljs-string">"username"</span>: <span class="hljs-string">"cisco"</span>,
      <span class="hljs-string">"password"</span>: <span class="hljs-string">"cisco"</span>,
      <span class="hljs-string">"vlans"</span>: [<span class="hljs-number">100</span>, <span class="hljs-number">200</span>, <span class="hljs-number">300</span>],
    &lt;пропуск&gt;
    <span class="hljs-string">"nx-osv-2"</span>: {
      <span class="hljs-string">"hostname"</span>: <span class="hljs-string">"nx-osv-2"</span>,
      <span class="hljs-string">"username"</span>: <span class="hljs-string">"cisco"</span>,
      <span class="hljs-string">"password"</span>: <span class="hljs-string">"cisco"</span>,
      <span class="hljs-string">"vlans"</span>: [<span class="hljs-number">100</span>, <span class="hljs-number">200</span>, <span class="hljs-number">300</span>],
    &lt;пропуск&gt;
 	   </code></pre>
   <p>Это не является идеальным. Если нам понадобится изменить значение такого имени пользователя и его пароль, нам 
   необходимо будет не забыть сделать это в двух местах. Это усиливает бремя нашего управления а также шансы допустить 
   ошибку если мы забудем выполнить изменения во всех местах. В качестве практичного приёма Ansible предлагает нам 
   применять каталоги <span class="term"><code>group_vars</code></span> и <span class="term"><code>host_vars</code></span> 
   для подразделения наших переменных.</p>
     <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
	   <table summary="Замечание" border="0"><tbody><tr><td rowspan="2" align="center" valign="top" width="25">
	   <img alt="[Замечание]" src="%D0%93%D0%BB%D0%B0%D0%B2%D0%B0%205.%20%D0%98%D0%BD%D1%84%D1%80%D0%B0%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0%20%D0%B0%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8%20Python%20-%20%D0%B4%D0%BE%D0%BF%D0%BE%D0%BB%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5%20%D0%B2%D0%BE%D0%BF%D1%80%D0%BE%D1%81%D1%8B%20Ansible%20-%20%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20%D1%81%20%D1%81%D0%B5%D1%82%D1%8F%D0%BC%D0%B8%20%D0%BD%D0%B0%20Python_files/note.png"></td><th align="left">Замечание</th></tr><tr><td align="left" valign="top">
	   <p>Для ознакомления с прочими практическими приёмами советуем ознакомиться с 
	   <a class="link" href="http://docs.ansible.com/ansible/playbooks_best_practices.html" target="_top">http://docs.ansible.com/ansible/playbooks_best_practices.html</a>.</p></td></tr></tbody></table>
     </div>

   <div xmlns="" class="titlepage"><div><div>
    <h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="0401"> </a>
	<span style="color:#FEFEFE; background-color:#888888; padding:0.5em;">Переменные групп</span></h4>
   </div></div></div>
   <p>По умолчанию Ansible будет отыскивать групповые переменные в том же самом каталоге, где находится данный 
   плейбук с названием <span class="term"><code>group_vars</code></span> на предмет переменных, которые могут 
   применяться в данной группе. По умолчанию, он будет выглядеть как определённый файл с названием, соответствующим 
   данному имени группы. Например, если у нас в нашем файле учёта ресурсов имеется некая группа с названием 
   <span class="term"><code>[nexus-devices]</code></span>, в <span class="term"><code>group_vars</code></span> 
   мы можем иметь некий файл с названием <span class="term"><code>nexus-devices</code></span> для размещения всех 
   применяемых к данной группе переменных. Мы также можем иметь некий файл с названием 
   <span class="term"><code>all</code></span>, который содержит переменные, применяемые ко всем нашим группам.</p>
   <p>Мы применим данную функциональность для своих переменных имени пользователя и пароля:</p>
	   <pre class="screen"><strong><code class="hljs ruby">
<span class="hljs-variable">$ </span>mkdir group_vars
 	   </code></strong></pre>
   <p>Затем мы можем создать некий файл YAML с названием <span class="term"><code>all</code></span>, который 
   будет содержать соответствующие имя пользователя и пароль:</p>
	   <pre class="screen"><strong><code class="hljs ruby">
<span class="hljs-variable">$ </span>cat group_vars/all
---
<span class="hljs-symbol">username:</span> cisco
<span class="hljs-symbol">password:</span> cisco
 	   </code></strong></pre>
   <p>Теперь мы можем воспользоваться этими переменными в своём плейбуке:</p>
	   <pre class="screen"><code class="hljs cpp">
vars:
  nexus_devices: {
    <span class="hljs-string">"nx-osv-1"</span>: {
      <span class="hljs-string">"hostname"</span>: <span class="hljs-string">"nx-osv-1"</span>,
      <span class="hljs-string">"username"</span>: <span class="hljs-string">"{{ username }}"</span>,
      <span class="hljs-string">"password"</span>: <span class="hljs-string">"{{ password }}"</span>,
      <span class="hljs-string">"vlans"</span>: [<span class="hljs-number">100</span>, <span class="hljs-number">200</span>, <span class="hljs-number">300</span>],
    &lt;пропуск&gt;
    <span class="hljs-string">"nx-osv-2"</span>: {
      <span class="hljs-string">"hostname"</span>: <span class="hljs-string">"nx-osv-2"</span>,
      <span class="hljs-string">"username"</span>: <span class="hljs-string">"{{ username }}"</span>,
      <span class="hljs-string">"password"</span>: <span class="hljs-string">"{{ password }}"</span>,
      <span class="hljs-string">"vlans"</span>: [<span class="hljs-number">100</span>, <span class="hljs-number">200</span>, <span class="hljs-number">300</span>],
    &lt;пропуск&gt;
 	   </code></pre>

   <div xmlns="" class="titlepage"><div><div>
    <h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="0402"> </a>
	<span style="color:#FEFEFE; background-color:#888888; padding:0.5em;">Переменные хостов</span></h4>
   </div></div></div>
   <p>В формате, аналогичном для переменных групп мы можем дальше отделить все переменные хоста:</p>
	   <pre class="screen"><strong><code class="hljs ruby">
<span class="hljs-variable">$ </span>mkdir host_vars
 	   </code></strong></pre>
   <p>В нашем случае мы выполнили данную команду в своём локальном хосте, следовательно соответствующий файл в 
   <span class="term"><code>host_vars</code></span> должени иметь надлежащее название, такое как 
   <span class="term"><code>host_vars/localhost</code></span>. Отметим, что мы оставили объявленными свои переменные 
   в <span class="term"><code>group_vars</code></span>.</p>
	   <pre class="screen"><code class="hljs python">
vars:
  nexus_devices: {
    <span class="hljs-string">"nx-osv-1"</span>: {
      <span class="hljs-string">"hostname"</span>: <span class="hljs-string">"nx-osv-1"</span>,
      <span class="hljs-string">"username"</span>: <span class="hljs-string">"{{ username }}"</span>,
      <span class="hljs-string">"password"</span>: <span class="hljs-string">"{{ password }}"</span>,
      <span class="hljs-string">"vlans"</span>: [<span class="hljs-number">100</span>, <span class="hljs-number">200</span>, <span class="hljs-number">300</span>],
    &lt;пропуск&gt;
	  <span class="hljs-string">"netflow_enable"</span>: <span class="hljs-keyword">True</span>
    <span class="hljs-string">"nx-osv-2"</span>: {
      <span class="hljs-string">"hostname"</span>: <span class="hljs-string">"nx-osv-2"</span>,
      <span class="hljs-string">"username"</span>: <span class="hljs-string">"{{ username }}"</span>,
      <span class="hljs-string">"password"</span>: <span class="hljs-string">"{{ password }}"</span>,
      <span class="hljs-string">"vlans"</span>: [<span class="hljs-number">100</span>, <span class="hljs-number">200</span>, <span class="hljs-number">300</span>],
    &lt;пропуск&gt;
 	   </code></pre>
   <p>После того как мы выделили все переменные, наш плейбук теперь становится обладающим очень малым весом и содержит 
   только саму логику наших операций:</p>
	   <pre class="screen"><strong><code class="hljs applescript">
$cat chapter5_9.yml
<span class="hljs-comment">---</span>
- <span class="hljs-property">name</span>: Ansible Group <span class="hljs-keyword">and</span> Host Varibles
  hosts: localhost
  tasks:
    - <span class="hljs-property">name</span>: create router configuration files
      template:
        src=./nxos.j2
        dest=./{{ <span class="hljs-property">item</span>.key }}.conf
      with_dict: <span class="hljs-string">"{{ nexus_devices }}"</span>
 	   </code></strong></pre>
   <p>Наши каталоги <span class="term"><code>group_vars</code></span> и <span class="term"><code>host_vars</code></span> 
   не только снижают перегруженность операций. Они также могут помочь с безопасностью данных файлов, что мы 
   увидим далее.</p>
  </div>

  <div class="section">
   <div xmlns="" class="titlepage"><div><div>
    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="05"> </a>Кладовая Ansible</h3>
   </div></div></div>
   <p>Как мы можем видеть из своего предыдущего раздела, во многих случаях  определённая переменная Ansible 
   часто предоставляет чувствительную информацию, например, имя пользователя и его пароль. Будет неплохой мыслью 
   предпринять некие меры безопасности в отношении таких переменных, чтобы мы могли защитить эту информацию. 
   Кладовая (vault) Ansible предоставляет шифрование для файлов вместо того чтобы применять обычный текст.</p>
   <p>Функции Vault Ansible запускаются командой <span class="term"><code>ansible-vault</code></span>. Вы можете 
   создать вручную некий зашифрованный файл применив опцию создания. Вы получите приглашение на ввод пароля. 
   Если вы попробуете просмотреть данный файл, вы обнаружите что данный файл не является обычным текстом:</p>
	   <pre class="screen"><strong><code class="hljs ruby">
<span class="hljs-variable">$ </span>ansible-vault create secret.yml
<span class="hljs-constant">Vault</span> <span class="hljs-symbol">password:</span>
<span class="hljs-variable">$ </span>cat secret.yml
<span class="hljs-variable">$ANSIBLE_VAULT</span>;<span class="hljs-number">1.1</span>;<span class="hljs-constant">AES256</span>
<span class="hljs-number">336564626462373962326635326361323639323635353630646665656430353261383737623</span>&lt;пропуск&gt;<span class="hljs-number">6535373338373838636365303564646230323334323861393033356632623962</span>
 	   </code></strong></pre>
   <p>Далее вы можете изменять этот файл с помощью опции <span class="term"><code>edit</code></span> или 
   просматривать этот файл применяя опцию <span class="term"><code>view</code></span>:</p>
	   <pre class="screen"><strong><code class="hljs ruby">
<span class="hljs-variable">$ </span>ansible-vault edit secret.yml
<span class="hljs-constant">Vault</span> <span class="hljs-symbol">password:</span>
<span class="hljs-variable">$ </span>ansible-vault view secret.yml
<span class="hljs-constant">Vault</span> <span class="hljs-symbol">password:</span>
 	   </code></strong></pre>
   <p>Давайте зашифруем свои файлы переменных <span class="term"><code>group_vars/all</code></span> и
   <span class="term"><code>host_vars/localhost</code></span>:</p>
	   <pre class="screen"><strong><code class="hljs ruby">
<span class="hljs-variable">$ </span>ansible-vault encrypt group_vars/all host_vars/localhost
<span class="hljs-constant">Vault</span> <span class="hljs-symbol">password:</span>
<span class="hljs-constant">Encryption</span> successful
 	   </code></strong></pre>
   <p>Теперь, когда мы исполним свой плейбук мы получим сообщение об ошибке расшифровки:</p>
	   <pre class="screen"><strong><code class="hljs applescript">
ERROR! Decryption failed <span class="hljs-function_start"><span class="hljs-keyword">on</span></span>
/home/echou/Master_Python_Networking/Chapter5/Vaults/group_vars/all
 	   </code></strong></pre>
   <p>Нам необходимо применять опцию <span class="term"><code>--ask-vault-pass</code></span> при 
   исполнении данного плейбука:</p>
	   <pre class="screen"><strong><code class="hljs ruby">
<span class="hljs-variable">$ </span>ansible-playbook chapter5_1<span class="hljs-number">0</span>.yml --ask-vault-pass
<span class="hljs-constant">Vault</span> <span class="hljs-symbol">password:</span>
 	   </code></strong></pre>
   <p>Расшифровка производится в оперативной памяти для всех зашифрованных файлов в кладовой, к которым 
   выполняется доступ.</p>
     <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
	   <table summary="Замечание" border="0"><tbody><tr><td rowspan="2" align="center" valign="top" width="25">
	   <img alt="[Замечание]" src="%D0%93%D0%BB%D0%B0%D0%B2%D0%B0%205.%20%D0%98%D0%BD%D1%84%D1%80%D0%B0%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0%20%D0%B0%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8%20Python%20-%20%D0%B4%D0%BE%D0%BF%D0%BE%D0%BB%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5%20%D0%B2%D0%BE%D0%BF%D1%80%D0%BE%D1%81%D1%8B%20Ansible%20-%20%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20%D1%81%20%D1%81%D0%B5%D1%82%D1%8F%D0%BC%D0%B8%20%D0%BD%D0%B0%20Python_files/note.png"></td><th align="left">Замечание</th></tr><tr><td align="left" valign="top">
	   <p>В настоящее время имеющаяся кладовая требует чтобы все файлы в ней были зашифрованы одним и 
	   тем же паролем.</p></td></tr></tbody></table>
     </div>
   <p>Мы также можем сохранить этот пароль в некотором файле и убедиться что данный конкретный файл 
   имеет ограничения в доступе:</p>
	   <pre class="screen"><strong><code class="hljs applescript">
$ chmod <span class="hljs-number">400</span> ~/.vault_password.txt
$ ls -lia ~/.vault_password.txt
<span class="hljs-number">809496</span> -r<span class="hljs-comment">-------- 1 echou echou 9 Feb 18 12:17 /home/echou/.vault_password.txt</span>
 	   </code></strong></pre>
   <p>Затем мы можем выполнить свой плейбук с параметром <span class="term"><code>--vault-password-file</code></span>:</p>
	   <pre class="screen"><strong><code class="hljs applescript">
 ansible-playbook chapter5_10.yml <span class="hljs-comment">--vault-password-file ~/.vault_password.txt</span>
 	   </code></strong></pre>
  </div>

  <div class="section">
   <div xmlns="" class="titlepage"><div><div>
    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="06"> </a>Включения и роли Ansible</h3>
   </div></div></div>
   <p>Наилучшим способом для обработки сложных задач является их разбиение на части меньшего размера. Данный 
   подход, конечно, является общим и для Python, и для сетевой инженерии. В Python мы разбиваем сложный код на 
   функции, классы, модули и пакеты. В Сетевой среде мы также разбиваем большие сети на разделы такие как 
   стойки, ряды, кластеры и центры обработки данных. В Ansible для организации крупных плейбуков (планов) применяются 
   <span class="term"><code>roles</code></span> (роли) и <span class="term"><code>includes</code></span> 
   (вложения). Разбиение большого плейбука Ansible упрощает всю структуру, так как каждый файл сосредотачивается 
   на меньшем числе задач. Это также облегчает повторное применение таких разделов боле простым в вашем 
   плейбуке.</p>

   <div xmlns="" class="titlepage"><div><div>
    <h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="0601"> </a>
	<span style="color:#FEFEFE; background-color:#888888; padding:0.5em;">Оператор включения</span></h4>
   </div></div></div>
   <p>По мере роста вашего плейбака в размере, со временем становится очевидным что многие имеющиеся задачи и 
   плейбуки (планы) могут использоваться совместно в различных плейбуках. Оператор 
   <span class="term"><code>includes</code></span> Ansible аналогичен многим файлам настройки Linux, которые 
   просто сообщают машине необходимость данный файл таким образом, как будто включаемый файл напрямую записан 
   в нём. Мы можем выполнять оператор включения и в плейбуках (планах), и в задачах. Мы рассмотрим некий 
   простой пример по расширению наших задач.</p>
   <p>Давайте предположим, что мы хотим отображать вывод для двух различных плейбуков. Мы можем сделать некий 
   отдельный файл YAML с названием <span class="term"><code>show_output.yml</code></span> как некоторую 
   дополнительную задачу:</p>
	   <pre class="screen"><code class="hljs sql">
<span class="hljs-comment">---</span>
- name: <span class="hljs-operator"><span class="hljs-keyword">show</span> <span class="hljs-keyword">output</span>
  debug:
    <span class="hljs-keyword">var</span>: <span class="hljs-keyword">output</span>
 	   </span></code></pre>
   <p>Затем мы можем повторно применять эту задачу во многих плейбуках, например в 
   <span class="term"><code>chapter5_11_1.yml</code></span>, что выглядит во многом аналогично нашему самому 
   последнему плейбуку, за исключением зарегистрированного вывода и оператора включения в самом конце:</p>
	   <pre class="screen"><code class="hljs applescript">
<span class="hljs-comment">---</span>
- <span class="hljs-property">name</span>: Ansible Group <span class="hljs-keyword">and</span> Host Varibles
  hosts: localhost

  tasks:
    - <span class="hljs-property">name</span>: create router configuration files
      template:
        src=./nxos.j2
        dest=./{{ <span class="hljs-property">item</span>.key }}.conf
      with_dict: <span class="hljs-string">"{{ nexus_devices }}"</span>
      register: output

    - include: show_output.yml
 	   </code></pre>
   <p>Другой плейбук, <span class="term"><code>chapter5_11_2.yml</code></span>, может повторно применять 
   включение <span class="term"><code>show_output.yml</code></span> аналогичным образом:</p>
	   <pre class="screen"><code class="hljs sql">
<span class="hljs-comment">---</span>
- name: <span class="hljs-operator"><span class="hljs-keyword">show</span> users
  <span class="hljs-keyword">hosts</span>: localhost

  tasks:
    - name: <span class="hljs-keyword">show</span> <span class="hljs-keyword">local</span> users
      command: who
      register: <span class="hljs-keyword">output</span>

    - include: show_output.yml
 	   </span></code></pre>
   <p>Отметим, что оба плейбука используют одно и то же имя переменной, так как сам 
   <span class="term"><code>show_output.yml</code></span> жёстко кодирует данное имя переменной для простоты 
   при демонстрации. Вы также можете передавать во включаемый файл переменные.</p>

   <div xmlns="" class="titlepage"><div><div>
    <h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="0602"> </a>
	<span style="color:#FEFEFE; background-color:#888888; padding:0.5em;">Роли Ansible</span></h4>
   </div></div></div>
   <p>Роли Ansible разделяют все логические функции с физическими хостами чтобы лучше соответствовать вашей 
   сетевой среде. Например, вы можете разрабатывать такие роли как стволы, листья, ядро, а также Cisco, Juniper 
   и Arista. Одни и те же физические хосты могут относиться ко множеству ролей; например, некое устройство может 
   относиться как к Juniper, так и к ядру. Это делает логику более осмысленной, поскольку мы можем выполнять такие 
   операции как обновление для всех устройств Juniper по всей сетевой среде безотносительно к их расположению 
   в конкретном уровне общей сетевой среды.</p>
   <p>Роли Ansible могут автоматически загружать определённые переменные, задачи и обработчики на основе некоторой 
   известной инфраструктуры файлов. Ключевым является то, что это именно та известная структура файлов, которую мы 
   автоматически вкладываем; на самом деле вы можете представлять себе роли как предварительно созданные и 
   вкладываемые операторы Ansible.</p>
   <p>Имеющаяся документация ролей плейбука Ansible (<a class="link" href="http://docs.ansible.com/ansible/playbooks_roles.html#roles" target="_top">http://docs.ansible.com/ansible/playbooks_roles.html#roles</a>) описывает некий список каталогов 
   ролей которые вы можете настраивать. У вас нет необходимости применять их все сразу; в действительности мы будем 
   изменять только определённые задачи и папки переменных. Однако неплохо знать что они имеются.</p>
   <p>Ниже перечислено что мы будем использовать в качестве примера для наших ролей:</p>
	   <pre class="screen"><code class="hljs">
  chapter5_12.yml
  chapter5_13.yml
  hosts
  roles
   cisco_nexus
       defaults
       files
       handlers
       meta
       tasks
           main.yml
       templates
       vars
           main.yml
   spines
       defaults
       files
       handlers
       tasks
           main.yml
       templates
       vars
           main.yml
 	   </code></pre>
   <p>Вы можете видеть, что на самом верхнем уровне у нас имеется файл хостов, а также наши плейбуки. У нас также 
   есть некая папка с названием <span class="term"><code>roles</code></span>; внутри неё у нас есть две определённые
   роли,  <span class="term"><code>cisco_nexus</code></span> и <span class="term"><code>spines</code></span>. 
   Большая часть подчинённых папок под этими ролями были пустыми, за исключение папок задач и переменных. Внутри 
   каждой из них имеется некий файл с названием <span class="term"><code>main.yml</code></span>. Такое 
   поведение является определяемым по умолчанию, причём файл <span class="term"><code>main.yml</code></span> 
   является вашей точкой входа, которая автоматически включается в данный плейбук когда вы определяете данную 
   роль в конкретном плейбуке. Если вам нужно разбиение на дополнительные файлы, вы можете применять оператор 
   вложения в самом файле <span class="term"><code>main.yml</code></span>.</p>
   <p>Вот наш сценарий:</p>
  	<div class="itemizedlist">
	<ul class="itemizedlist" type="disc">
	 <li class="listitem">
	 <p>У нас есть два устройства Cisco Nexus, <span class="term"><code> nxos-r1</code></span> и 
   <span class="term"><code> nxos-r2</code></span>. Мы настроем сервер журнала а также регистрацию состояния 
   соединения для каждого из них, применяя к ним роль <span class="term"><code>cisco_nexus</code></span>.</p>
	 </li><li class="listitem">
	 <p>Кроме того, <span class="term"><code> nxos-r1</code></span> также является неким устройством ствола, в 
	 котором мы хотим настроить более детальное ведение протокола, так как он занимает более критически 
	 важное положение в нашей сетевой среде.</p>
	 </li>
    </ul>
    </div>
   <p>Для нашей роли <span class="term"><code>cisco_nexus</code></span> у нас есть следующие переменные в
   <span class="term"><code> roles/cisco_nexus/vars/main.yml</code></span>:</p>
	   <pre class="screen"><code class="hljs applescript">
<span class="hljs-comment">---</span>
cli:
  host: <span class="hljs-string">"{{ ansible_host }}"</span>
  username: cisco
  password: cisco
  transport: cli
 	   </code></pre>
   <p>Также у нас имеются в роли <span class="term"><code> roles/cisco_nexus/tasks/main.yml</code></span>
   следующие настроенные задачи:</p>
	   <pre class="screen"><code class="hljs applescript">
<span class="hljs-comment">---</span>
- <span class="hljs-property">name</span>: configure logging parameters
  nxos_config:
    lines:
      - logging server <span class="hljs-number">191.168</span><span class="hljs-number">.1</span><span class="hljs-number">.100</span>
      - logging event link-status default
    provider: <span class="hljs-string">"{{ cli }}"</span>
 	   </code></pre>
   <p>Наш плейбук чрезвычайно прост, так как он требуется всего лишь для определения тех хостов, которые мы бы 
   хотели настраивать при помощи роли <span class="term"><code>cisco_nexus</code></span>:</p>
	   <pre class="screen"><code class="hljs applescript">
<span class="hljs-comment">---</span>
- <span class="hljs-property">name</span>: playbook <span class="hljs-keyword">for</span> cisco_nexus role
  hosts: <span class="hljs-string">"cisco_nexus"</span>
  gather_facts: <span class="hljs-constant">false</span>
  connection: <span class="hljs-keyword">local</span>
  roles:
    - cisco_nexus
 	   </code></pre>
   <p>Когда вы исполните этот плейбук, данный план вложит все определённые в роли 
   <span class="term"><code>cisco_nexus</code></span> задчи и переменные и настроит надлежащим образом все 
   необходимые устройства.</p>
   <p>Для нашей роли <span class="term"><code>spine</code></span> у нас имеется некая дополнительная задача 
   более многословного ведения журнала в <span class="term"><code>roles/spines/tasks/mail.yml</code></span>:</p>
	   <pre class="screen"><code class="hljs sql">
<span class="hljs-comment">---</span>
- name: <span class="hljs-operator"><span class="hljs-keyword">change</span> logging <span class="hljs-keyword">level</span>
  nxos_config:
  <span class="hljs-keyword">lines</span>:
    - logging <span class="hljs-keyword">level</span> local7 <span class="hljs-number">7</span>
  provider: <span class="hljs-string">"{{ cli }}"</span>
 	   </span></code></pre>
   <p>В своём плейбуке мы можем определить, что он содержит обе роли, как <span class="term"><code>cisco_nexus</code></span>,
   так и <span class="term"><code>spiens</code></span>:</p>
	   <pre class="screen"><code class="hljs applescript">
<span class="hljs-comment">---</span>
- <span class="hljs-property">name</span>: playbook <span class="hljs-keyword">for</span> spine role
  hosts: <span class="hljs-string">"spines"</span>
  gather_facts: <span class="hljs-constant">false</span>
  connection: <span class="hljs-keyword">local</span>

  roles:
    - cisco_nexus
    - spines
 	   </code></pre>
   <p>Отметим, что когда мы сделаем это, наша роль <span class="term"><code>cisco_nexus</code></span> будет 
   исполнена вслед за ролью <span class="term"><code>spiens</code></span>:</p>
	   <pre class="screen"><strong><code class="hljs markdown">
TASK [cisco_nexus : configure logging parameters] <span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span>
changed: [nxos-r1]

TASK [spines : change logging level] <span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-emphasis">***</span>
ok: [nxos-r1]
 	   </code></strong></pre>
   <p>Роли Ansible являются гибкими и масштабируемыми. В точности так же как и функции и классы Python. 
   Как только ваш код достигает определённого уровня, почти всегда будет хорошей мыслью разбить его на куски 
   меньшего размера для удобства сопровождения.</p>
     <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
	   <table summary="Замечание" border="0"><tbody><tr><td rowspan="2" align="center" valign="top" width="25">
	   <img alt="[Замечание]" src="%D0%93%D0%BB%D0%B0%D0%B2%D0%B0%205.%20%D0%98%D0%BD%D1%84%D1%80%D0%B0%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0%20%D0%B0%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8%20Python%20-%20%D0%B4%D0%BE%D0%BF%D0%BE%D0%BB%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5%20%D0%B2%D0%BE%D0%BF%D1%80%D0%BE%D1%81%D1%8B%20Ansible%20-%20%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20%D1%81%20%D1%81%D0%B5%D1%82%D1%8F%D0%BC%D0%B8%20%D0%BD%D0%B0%20Python_files/note.png"></td><th align="left">Замечание</th></tr><tr><td align="left" valign="top">
	   <p>Вы можете найти дополнительные примеры ролей в репозитории примеров Git по адресу
	   (<a class="link" href="https://github.com/ansible/ansible-examples" target="_top">https://github.com/ansible/ansible-examples</a>).</p></td></tr></tbody></table>
     </div>
  </div>

  <div class="section">
   <div xmlns="" class="titlepage"><div><div>
    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="07"> </a>Написание вашего собственного пользовательского модуля</h3>
   </div></div></div>
   <p>На данный момент вам может начать казаться, что управление сетевыми средствами во многом зависит от 
   обнаружения правильного модуля для своего устройства. В этой логике несомненно присутствует доля истины. 
   Модули предоставляют некий способ абстрактного взаимодействия между управляемым хостом и самой управляющей 
   машиной, в то время как он делает для вас возможным сосредоточиться на самой логике вашей работы. Вплоть до 
   этого момента мы видели, что все основные производители предоставляют некий широкий диапазон поддержки модулей для 
   Cisco, Juniper и Arista.</p> 
   <p>Рассмотрим в качестве примера модули Cisco Nexus, помимо конкретных задач, таких как управление соседним BGP 
   (<span class="term"><code>nxos_bgp</code></span>) и сервером aaa (<span class="term"><code>nxos_aaa_server</code></span>), 
   большинство производителей также предоставляют способы исполнения произвольного отображения 
   (<span class="term"><code>nxos_config</code></span>) и настройки (<span class="term"><code>nxos_config</code></span>)
   команд. Обычно это охватывает все наши варианты использования.</p>
   <p>Но что если используемое нами в настоящий момент устройство не имеет прямо сейчас никаких модулей, которые 
   мы бы могли найти? В данном разделе мы рассмотрим некоторые способы которыми вы можете устранить такую 
   ситуацию написав свой собственный пользовательский модуль.</p>

   <div xmlns="" class="titlepage"><div><div>
    <h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="0701"> </a>
	<span style="color:#FEFEFE; background-color:#888888; padding:0.5em;">Самый первый пользовательский модуль</span></h4>
   </div></div></div>
   <p>Напимание некоторого пользовательского модуля не обязательно усложнять; на самом деле он даже не обязан 
   быть на Python. Но, поскольку мы уже знакомы с Python, мы будем использовать Python для наших пользовательских 
   модулей. Мы предполагаем, что данный модуль это то, что мы будем применять самостоятельно и в своей команде 
   не обращаясь дополнительно к Ansible, таким образом игнорируя некое документирование и форматирование в этот 
   раз.</p>
   <p>По умолчанию, если вы создаёте некую папку библиотеки в том же самом каталоге, что и ваш плейбук, 
   Ansible включит этот каталог в путь поиска модуля. Все такие модули должны возвращать некий вывод JSON 
   обратно в свой плейбук.</p>
   <p>Возвращаясь к <a class="link" href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch03.html" target="_top">Главе 3, Работа с сетями через API и для достижения 
   целей</a>, мы применяем следующий сценарий Python NXAPI для взаимодействия с устройством NX-OS:</p>
	   <pre class="screen"><code class="hljs python">
<span class="hljs-keyword">import</span> requests
<span class="hljs-keyword">import</span> json

url=<span class="hljs-string">'http://172.16.1.142/ins'</span>
switchuser=<span class="hljs-string">'cisco'</span>
switchpassword=<span class="hljs-string">'cisco'</span>

myheaders={<span class="hljs-string">'content-type'</span>:<span class="hljs-string">'application/json-rpc'</span>}
payload=[
  {
    <span class="hljs-string">"jsonrpc"</span>: <span class="hljs-string">"2.0"</span>,
    <span class="hljs-string">"method"</span>: <span class="hljs-string">"cli"</span>,
    <span class="hljs-string">"params"</span>: {
      <span class="hljs-string">"cmd"</span>: <span class="hljs-string">"show version"</span>,
      <span class="hljs-string">"version"</span>: <span class="hljs-number">1.2</span>
    },
    <span class="hljs-string">"id"</span>: <span class="hljs-number">1</span>
  }
]
response = requests.post(url,data=json.dumps(payload),
headers=myheaders,auth=(switchuser,switchpassword)).json()

print(response[<span class="hljs-string">'result'</span>][<span class="hljs-string">'body'</span>][<span class="hljs-string">'sys_ver_str'</span>])
 	   </code></pre>
   <p>Когда мы его выполним, мы просто получим номер версии системы. Если мы просто изменим самую последнюю строку 
   с тем чтобы она выполняла вывод в формате JSON, мы увидим следующее:</p>
	   <pre class="screen"><code class="hljs markdown">
version = response[<span class="hljs-link_label">'result'</span>][<span class="hljs-link_reference">'body'</span>][<span class="hljs-link_label">'sys_ver_str'</span>]
print json.dumps({"version": version})
 	   </code></pre>
   <p>Затем мы можем воспользоваться в нашем плейбуке встраиваемым модулем действия 
   (<a class="link" href="https://docs.ansible.com/ansible/dev_guide/developing_plugins.html" target="_top">https://docs.ansible.com/ansible/dev_guide/developing_plugins.html</a>), 
   <span class="term"><code>chapter5_14.yml</code></span>, для вызова данного пользовательского модуля:</p>
	   <pre class="screen"><code class="hljs sql">
<span class="hljs-comment">---</span>
- name: Your First Custom Module
  hosts: localhost
  gather_facts: false
  connection: local

  tasks:
    - name: <span class="hljs-operator"><span class="hljs-keyword">Show</span> <span class="hljs-keyword">Version</span>
      <span class="hljs-keyword">action</span>: custom_module_1
      register: <span class="hljs-keyword">output</span>

    - debug:
        <span class="hljs-keyword">var</span>: <span class="hljs-keyword">output</span>
 	   </span></code></pre>
   <p>Отметим, что в точности как и при соединении через <span class="term"><code>ssh</code></span> мы 
   исполняем этот модуль локально при том что этот модуль делает исходящие вызовы API. Когда вы выполните 
   данный плейбук, вы получите следующий вывод:</p>
	   <pre class="screen"><strong><code class="hljs markdown">
$ ansible-playbook chapter5_14.yml
[<span class="hljs-link_reference">WARNING</span>]:<span class="hljs-link_url"> provided hosts list is empty, only localhost is available</span>
PLAY [Your First Custom Module] <span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-emphasis">***</span>

TASK [Show Version] <span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span>
ok: [localhost]

TASK [debug] <span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span>**
ok: [localhost] =&gt; {
 "output": {
 "changed": false,
 "version": "7.3(0)D1(1)"
 }
} 

PLAY RECAP <span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-strong">*****</span><span class="hljs-emphasis">***</span>*
localhost : ok=2 changed=0 unreachable=0 failed=0
 	   </code></strong></pre>
   <p>Как вы можете видеть, вы можете написать любой модуль, который поддерживается API и Ansible успешно примет 
   любой возвращаемый вывод JSON.</p>

   <div xmlns="" class="titlepage"><div><div>
    <h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="0702"> </a>
	<span style="color:#FEFEFE; background-color:#888888; padding:0.5em;">Второй пользовательский модуль</span></h4>
   </div></div></div>
   <p>При построении своего последнего модуля давайте воспользуемся имеющимся в Ansible модулем общего назначения 
   Boilerplate (заготовок кода), как это описывается в документации разработки модуля (<a class="link" href="http://docs.ansible.com/ansible/dev_guide/developing_modules_general.html" target="_top">http://docs.ansible.com/ansible/dev_guide/developing_modules_general.html</a>). Мы изменим самый 
   последний пользовательский модуль в <span class="term"><code>custom_module_2.py</code></span> чтобы 
   воспользоваться проглатыванием входа из своего плейбука.</p>
   <p>Вначале мы импортируем сам код Boilerplate из <span class="term"><code>ansible.module_utils.basic</code></span>:</p>
	   <pre class="screen"><code class="hljs python">
<span class="hljs-keyword">from</span> ansible.module_utils.basic <span class="hljs-keyword">import</span> AnsibleModule

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">'__main__'</span>:
    main()
 	   </code></pre>
   <p>Начиная с этого момента мы можем затем определять свою основную функцию в которой мы поместим наш код. 
   <span class="term"><code>AnsibleModule</code></span> предоставляет множество общего кода для обработки 
   возвращаемых результатов и синтаксического разбора аргументов. В нашем следующем примере мы проведём 
   синтаксический разбор аргументов для <span class="term"><code>host</code></span>, 
   <span class="term"><code>username</code></span> и <span class="term"><code>password</code></span> и 
   сделаем их необходимыми полями:</p>
	   <pre class="screen"><code class="hljs python">
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>:</span>
    module = AnsibleModule(
      argument_spec = dict(
      host = dict(required=<span class="hljs-keyword">True</span>),
      username = dict(required=<span class="hljs-keyword">True</span>),
      password = dict(required=<span class="hljs-keyword">True</span>)
      )
    )
 	   </code></pre>
   <p>Данные значения затем могут быть изъяты и применены в нашем коде:</p>
	   <pre class="screen"><code class="hljs cs">
device = module.<span class="hljs-keyword">params</span>.<span class="hljs-keyword">get</span>(<span class="hljs-string">'host'</span>)
username = module.<span class="hljs-keyword">params</span>.<span class="hljs-keyword">get</span>(<span class="hljs-string">'username'</span>)
password = module.<span class="hljs-keyword">params</span>.<span class="hljs-keyword">get</span>(<span class="hljs-string">'password'</span>)

url=<span class="hljs-string">'http://'</span> + host + <span class="hljs-string">'/ins'</span>
switchuser=username
switchpassword=password
 	   </code></pre>
   <p>Наконец, мы последуем коду выхода и вернём своё значение:</p>
	   <pre class="screen"><code class="hljs python">
module.exit_json(changed=<span class="hljs-keyword">False</span>, msg=str(data))
 	   </code></pre>
   <p>Наш новый плейбук будет выглядеть в точности как самый последний приведённый нами ранее с одним исключением 
   теперь, когда мы можем передавать значения для различных устройств в своём плейбуке:</p>
	   <pre class="screen"><code class="hljs sql">
tasks:
  - name: <span class="hljs-operator"><span class="hljs-keyword">Show</span> <span class="hljs-keyword">Version</span>
    <span class="hljs-keyword">action</span>: custom_module_1 host=<span class="hljs-string">"172.16.1.142"</span> username=<span class="hljs-string">"cisco"</span> <span class="hljs-keyword">password</span>=<span class="hljs-string">"cisco"</span>
    register: <span class="hljs-keyword">output</span>
 	   </span></code></pre>
   <p>После исполнения данный плейбук осуществит в точности тот же самый вывод, как и наш самый последний 
   плейбук; однако отметим, что этот плейбук и модуль может быть передан другим людям для его применения без 
   необходимости знания ими подробностей об нашем модуле.</p>
   <p>Конечно, это работающий, но не завершённый модуль; одной из вещей, которую мы не выполняем, это отсутствие 
   какого бы то ни было контроля ошибок или документирования. Однако, он демонстрирует как просто построить некий 
   пользовательский модуль из уже сделанного нами сценария.</p>
  </div>

  <div class="section">
   <div xmlns="" class="titlepage"><div><div>
    <h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="08"> </a>Выводы</h3>
   </div></div></div>
   <p>В данной главе мы рассмотрели множество вопросов. Основываясь на своих полученных ранее базовых знаниях
   Ansible, мы перешли к более сложным темам, таким как условные зависимости, циклы и шаблоны. Мы рассмотрели 
   как сделать наш плейбук (план) более масштабируемым при помощи переменных хоста, переменных групп, операторов 
   вложения и ролей. Мы также рассмотрели как обезопасить наш плейбук при помощи кладовой (vault) Ansible. 
   Наконец, мы применили Python чтобы сделать собственные пользовательские модули.</p>
   <p>Ansible является очень гибкой структурой Python, которая может применяться для сетевой автоматизации. 
   Он предоставляет другой уровень абстракции, отличающийся от таких сценариев как Pexpect и основанные на API. 
   В зависимости от ваших потребностей и сетевого окружения он может быть идеальной инфраструктурой, которую вы 
   можете применять для сохранения своих времени и энергии.</p>
   <p>В следующей главе мы рассмотрим реализацию сетевой безопасности с помощью Python.</p>
  </div>

 </div>

<!----><script type="text/javascript" src="%D0%93%D0%BB%D0%B0%D0%B2%D0%B0%205.%20%D0%98%D0%BD%D1%84%D1%80%D0%B0%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0%20%D0%B0%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8%20Python%20-%20%D0%B4%D0%BE%D0%BF%D0%BE%D0%BB%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5%20%D0%B2%D0%BE%D0%BF%D1%80%D0%BE%D1%81%D1%8B%20Ansible%20-%20%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20%D1%81%20%D1%81%D0%B5%D1%82%D1%8F%D0%BC%D0%B8%20%D0%BD%D0%B0%20Python_files/FooterAndSidebar.js">
</script><script type="text/javascript"><!--</div id="content"> is inside next code
document.write(FooterAndSidebar);//-->
</script><script src="%D0%93%D0%BB%D0%B0%D0%B2%D0%B0%205.%20%D0%98%D0%BD%D1%84%D1%80%D0%B0%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0%20%D0%B0%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8%20Python%20-%20%D0%B4%D0%BE%D0%BF%D0%BE%D0%BB%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5%20%D0%B2%D0%BE%D0%BF%D1%80%D0%BE%D1%81%D1%8B%20Ansible%20-%20%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20%D1%81%20%D1%81%D0%B5%D1%82%D1%8F%D0%BC%D0%B8%20%D0%BD%D0%B0%20Python_files/f.js" id="eXF-mstptnnw-0" async="" defer="defer"></script><a title="eXTReMe Tracker - Free Website Statistics" id="eXTReMe-Free-mstptnnw" target="_blank" href="http://extremetracking.com/free?login=mstptnnw"><img src="data:image/gif;base64,R0lGODlhKQAmAPcAAAAAAP////C3ueChpqplbMiQmFgXIkwWH9J5jbFnd/PP16+SmmMmUZphjdWyzggACAcEB5pjmmFNZiUIOaWEvZx7xlMrjyoTVq+usqWc8wIAISQYslJNoi0mzSklcFJN1iooVQEANXBvzZ+e7QgITg0NbhwdkBAQSmlptnd3mM/P/ZWVr4+PlI2NkoyMkQwSqRATa4aI2GRr4zlCjDFCpXOM597n//f//11cWlxbWVhXVVpYVmZkYl9dW2poZmlnZWhmZGdlY5SEeyYICIwxMXssLHUrK85aWlElJUojI0MgIAwJCf3n50I+Pk5KSk1JSUtHR0pGRlBMTBUUFEVCQkI/P0A9PUtISEpHRxoZGf/39zo4OEA+PiQjIyIhISopKSkoKCcmJiYlJSsqKnR0dHNzc3Jycm5ubmxsbGRkZGJiYldXV0xMTEtLS0JCQj8/Pz4+Pj09PTw8PDk5OTQ0NDMzMzIyMjExMSsrKyoqKiUlJSMjIyAgIB0dHRwcHBsbGxoaGhkZGRgYGBcXFxUVFRQUFBISEhERERAQEA0NDQwMDAsLCwoKCgkJCQgICAcHBwYGBgUFBQQEBAMDAwICAgEBAf///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAJYALAAAAAApACYAAAj/AM+kGUiwoMGDCBMSPKNmjcOHECNKnEjxYcM2GDNq3Mixo8eMa9i8GUmypMmRcOLIWQnnpEuSbNzQmUmzJs06d6hgecIDSBAsXOrYHFrTzRw8SJMqRToGSxkWGKJKbYEmx5alWJHOsbOnq9evXayUiboihVmzK1ZEdbFDzNe3Xe3k+UO3bt0+OqCukOABBAwPHkyYmIGiQlQzW/zYXZxHD6HHkB9nwbFgLwkSfwdz2MwZRdQyVQgZKkS6EGQ9fBCpXo0oUI/KIEicgCG4s4jbIlCgoICBjJMkB4wkUMJINR8/ipIrF3SFxYrYJ0AENkGDBgoRMWKMGBEjN4UFRwQE/xjPpEhyP4EaqVe/KAoZDCBCyC5RQjCND7cz6Nc/4vYABQMQYAASTCiwRCOBDALJggsC4gMGKYRwwmz1mbDBfSKMkIEKDiDgQAb9xYCBD18AAIACAkAAySCESOKiJJE08V58E8JAm4UdfCDDhjYg8F8F3Hm2ghQAIKEFAZRIQkghkzQ5ySNQrMCCBhPOJtgLG+RYw4Y3DMBEAAPEUAN2Iw4hABMGVDJJIYZU4mYliPyAgQRUnlDCjVjmuKMKXSrwJQW4jUiAFkSYWIkhbb45xYx12ljfCy/oyaOXCvjJwW0YDACmiQAcmqibgTA6IQn0mQCpnhqqgIAWCiBQIA0cNP8QgABDcHroIZwC0IeoJ5D6aKSoZhCBFiqIUIAWCzTABBNIOJLrIbga6gWj8mFWYZ56yjCsAzFwoGkATBDwRSHPRmtiGA+CoIF8FF6JpQUEfPCBBUw4cBsDBTSwABnjlpsrGA/SWa21j5YwgBYNzFvvdRxYwEFvXzjLKbS5FiIFC1OuexkMpb5QggIBKGABvQ5wxoFaJEpsIsWcOoIEAQWoOzDH9V1QKcI2O+AwBxJgwIIU5PrL6RB+LpCCBhpvzPEF9SqghQEKOODBDB6kAHHQE5sLwLEEBPxACOzORgIDWkRggBYIRO1BCTP4LEWJuQLAMgAMBICAxVCB8IAGl13RdsGxDZxwcNQTeLDCAinHLXe0QzBBKwBfXDynBnszQAATrIIAAgNfLjAByuOqnLWJRhJgoiORk7GABBIUALICDEgYHwGzNjBi6IovTjoTDAyNr9NasErnuiFozoAAAwhBYiGiC23AlwMI4DTmTAxQAAERYJwCxmphQAABb2Od+9wG/AdggEh8EbkPZGCMweEskOHD2/3mPjqnDwwxxAO5OlKI+lIIoADpxzz7Cc2Ap/NfaRYoPgTqzoEQjODKtCbBCipubhbM4MQSocEOmigRAQEAOw==" style="border:0;border-radius:4px;height:38px;width:41px;" alt="eXTReMe Tracker - Free Website Statistics"></a><script type="text/javascript" src="%D0%93%D0%BB%D0%B0%D0%B2%D0%B0%205.%20%D0%98%D0%BD%D1%84%D1%80%D0%B0%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0%20%D0%B0%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8%20Python%20-%20%D0%B4%D0%BE%D0%BF%D0%BE%D0%BB%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5%20%D0%B2%D0%BE%D0%BF%D1%80%D0%BE%D1%81%D1%8B%20Ansible%20-%20%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20%D1%81%20%D1%81%D0%B5%D1%82%D1%8F%D0%BC%D0%B8%20%D0%BD%D0%B0%20Python_files/main.js"><!----></script><div class="logabug" style="text-align: center"><a id="AskMdl002" href="javascript:tocall()" onmouseover="this.href=mail" target="_blank"><i class="icon-question"><!----></i>Вопросы? Обсудите их на mdl.ru</a><br><a id="logABugLink2" href="https://bugs.launchpad.net/openstack-manuals/+filebug?field.title=MasteringPythonNetworking&amp;field.comment=%0A%0A-----------------------------------%0ABuilt:%202017-06-29T17:43:47+00:00%0Agit%20SHA:%2013fb30b7c263d715eee84f0ca1a16df79697eb88%0AURL:%20http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch05.html%0Asource%20File:%20file:a35-prades%0Axml:id:%20mastering-python-networking" onmouseover="this.href=mail" target="_blank"><i class="icon-bug"><!----></i>Нашли ошибку? Сообщите о ней на данной странице</a></div><script language="JavaScript">	  var sourceFile = "source File: file:a35-prades";	  var xmlId = "xml:id: mastering-python-networking";	  var lineFeed = "%0A";	  var docUrl = "URL: " + window.location;	  var bugTitle = "MasteringPythonNetworking";	  var buildTime = "Built: 2017-06-29T17:43:47+00:00";	  var gitSha = "git SHA: 13fb30b7c263d715eee84f0ca1a16df79697eb88";	  var fieldComment = encodeURI(buildTime) +  lineFeed + encodeURI(gitSha) + lineFeed + encodeURI(docUrl) + lineFeed + encodeURI(sourceFile) + lineFeed + encodeURI(xmlId);	  logABug(bugTitle,fieldComment);	</script>   <hr><div class="itemizedlist">	<ul class="itemizedlist" type="disc"><p>Дополнительные ссылки:</p>	 <li class="listitem">	 <p><a class="link" href="http://onreader.mdl.ru/KVMVirtualizationCookbook/content/Ch08.html" target="_top">Книга рецептов виртуализации KVM</a> Константин Иванов, Packt Publishing, июнь 2017</p>	 </li><li class="listitem">	 <p><a class="link" href="http://onreader.mdl.ru/MasteringCeph/content/index.html" target="_top">Полное руководство Ceph</a> Ник Фиск, Packt Publishing, май 2017</p>	 </li><li class="listitem">	 <p><a class="link" href="http://onreader.mdl.ru/ContainerizationWithLXC/content/index.html" target="_top"> Контейнеризация при помощи LXC</a> Константин Иванов, Packt Publishing, март 2017</p>	 </li><li class="listitem">	 <p><a class="link" href="http://onreader.mdl.ru/CephCookbook/content/index.html" target="_top">Книга рецептов Ceph</a> Каран Сингх, Packt Publishing, февраль 2016</p>	 </li><li class="listitem">	 <p><a class="link" href="http://onreader.mdl.ru/LearningCeph2ed/content/index.html" target="_top">Изучаем Ceph</a>, 2е изд., Энтони Д`Атри, Вайбхав Бхембре, Каран Сингх, Packt Publishing, октябрь 2017</p>	 </li><li class="listitem">	 <p><a class="link" href="http://onreader.mdl.ru/LearningCeph/content/index.html" target="_top">Изучаем Ceph</a> Каран Сингх, Packt Publishing, январь 2015</p>	 </li><li class="listitem">	 <p><a class="link" href="http://onreader.mdl.ru/MasteringProxmox.2ed/content/index.html" target="_top">Proxmox. Полное руководство</a>. 2е изд., Васим Ахмед, Packt Publishing, май 2016</p>	 </li><li class="listitem">	 <p><a class="link" href="http://onreader.mdl.ru/ProxmoxCookbook/content/index.html" target="_top">Книга рецептов Proxmox. Главы 1-6, Дополнения: Преобразование OpenVZ в LXC, Организация ограждения</a> Васим Ахмед, Packt Publishing, август 2015</p>	 </li><li class="listitem">	 <p><a class="link" href="http://onreader.mdl.ru/VirtualizationComplete/content/index.html" target="_top">Полная виртуализация. Базовая коммерческая редакция</a>: Proxmox-freeNAS-Zentyal-pfSense. Ли Р. Сюрбер, февраль 2016</p>	 </li><li class="listitem">	 <p><a class="link" href="http://onreader.mdl.ru/MasteringAnsible2nd/content/index.html" target="_top">Полное руководство Ansible</a>. 2е изд., Джесс Китинг, май 2017</p>	 </li><li class="listitem">	 <p><a class="link" href="http://onreader.mdl.ru/MasteringZabbix.2ed/content/Ch04.html" target="_top">Zabbix. Полное руководство</a>. 2е изд., Андреа Далле Ваккье, сентябрь 2015</p>	 </li><li class="listitem">	 <p><a class="link" href="http://onreader.mdl.ru/MasteringPythonNetworking/content/index.html" target="_top">Полное руководство работы с сетями на Python</a>. Эрик Чоу, Июнь 2017</p>	 </li>    </ul>   </div>      <hr><div class="legal"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/index.html">Уведомление о правах</a><hr><br><table style="border-style: none;" align="left" cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td style="border-style: none; text-align:left;" valign="top" width="80%">Перевод: Copyright ©&nbsp;2017 &nbsp;<img alt="mdl.ru" src="%D0%93%D0%BB%D0%B0%D0%B2%D0%B0%205.%20%D0%98%D0%BD%D1%84%D1%80%D0%B0%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0%20%D0%B0%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8%20Python%20-%20%D0%B4%D0%BE%D0%BF%D0%BE%D0%BB%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5%20%D0%B2%D0%BE%D0%BF%D1%80%D0%BE%D1%81%D1%8B%20Ansible%20-%20%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20%D1%81%20%D1%81%D0%B5%D1%82%D1%8F%D0%BC%D0%B8%20%D0%BD%D0%B0%20Python_files/mdl-reg.jpg" widht="35" style="border-style: none;" height="12">.<br>All rights reserved.<br>Ссылки обязательны (Refs and links are obligatory).</td><td border="0" style="border-style: none; text-align:right;" valign="top" width="20%"><em><a href="http://www.mdl.ru/">http://www.mdl.ru</a><br> <br><a href="http://onreader.mdl.ru/sddc-mdl-portfolio.pdf">портфолио SD DC</a></em></td></tr><tr><td colspan="2" border="0"> <a href="http://www.mdl.ru/Solutions/Put.htm?Nme=CanonOffer"><img src="%D0%93%D0%BB%D0%B0%D0%B2%D0%B0%205.%20%D0%98%D0%BD%D1%84%D1%80%D0%B0%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0%20%D0%B0%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8%20Python%20-%20%D0%B4%D0%BE%D0%BF%D0%BE%D0%BB%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5%20%D0%B2%D0%BE%D0%BF%D1%80%D0%BE%D1%81%D1%8B%20Ansible%20-%20%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20%D1%81%20%D1%81%D0%B5%D1%82%D1%8F%D0%BC%D0%B8%20%D0%BD%D0%B0%20Python_files/MFUoffer170420-610x315.jpg" "width="610&quot;" heigh="315"></a></td></tr></tbody></table></div><div><div id="leftnavigation" style="padding-top:3px; background-color:white;">	<div class="ui-tabs ui-widget ui-widget-content ui-corner-all" id="tabs"><ul class="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"><li class="ui-state-default ui-corner-top ui-tabs-selected ui-state-active"><a href="#treeDiv" tabindex="1"><span class="contentsTab">Содержание</span></a></li>	<li class="ui-state-default ui-corner-top"><a href="#searchDiv" tabindex="1"><span class="searchTab">Поиск</span></a></li></ul>	<div class="ui-tabs-panel ui-widget-content ui-corner-bottom" id="treeDiv"><img src="%D0%93%D0%BB%D0%B0%D0%B2%D0%B0%205.%20%D0%98%D0%BD%D1%84%D1%80%D0%B0%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0%20%D0%B0%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8%20Python%20-%20%D0%B4%D0%BE%D0%BF%D0%BE%D0%BB%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5%20%D0%B2%D0%BE%D0%BF%D1%80%D0%BE%D1%81%D1%8B%20Ansible%20-%20%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20%D1%81%20%D1%81%D0%B5%D1%82%D1%8F%D0%BC%D0%B8%20%D0%BD%D0%B0%20Python_files/loading.gif" alt="загрузка таблицы содержания..." id="tocLoading" style="display:none;">	<div id="ulTreeDiv" style="" class="thisisthat">	<ul id="tree" class="filetree treeview"><li class="collapsable" tabindex="2"><div class="hitarea collapsable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/index.html#Preface">Предисловие<sup>~</sup></a></span><ul style="display: block;"><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/index.html#Covers">Что охватывает эта книга</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/index.html#You_need">Что вам нужно для этой книги</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/index.html#For_Who">Для кого эта книга</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/index.html#Conventions">Соглашения</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/index.html#Feedback">Обратная связь с читателями</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/index.html#Support">Поддержка пользователей</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/index.html#DownloadingExamples">Загрузка кодов примеров</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/index.html#Errata">Опечатки</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/index.html#Piracy">Незаконное тиражирование</a></span></li><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/index.html#Questions">Вопросы</a></span></li></ul></li><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch01.html">Глава 1. Обзор комплекта протокола TCP/IP и языка Python</a></span><ul style="display: none;"><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch01.html#01">Обзор Интернета</a></span><ul style="display: none;"><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch01.html#0101">Серверы, хосты и сетевые компоненты</a></span></li><li class="expandable lastExpandable" tabindex="2"><div class="hitarea expandable-hitarea lastExpandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch01.html#0102">Появление центров обработки данных</a></span><ul style="display: none;"><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch01.html#010201">Корпоративные центры обработки данных</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch01.html#010202">Облачные центры обработки данных</a></span></li><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch01.html#010203">Граничные центры обработки данных</a></span></li></ul></li></ul></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch01.html#02">Модель OSI</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch01.html#03">Модели клиент- сервер</a></span></li><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch01.html#04">Комплекты сетевого протокола</a></span><ul style="display: none;"><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch01.html#0401">TCP</a></span><ul style="display: none;"><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch01.html#040101">Функции и характеристики TCP</a></span></li><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch01.html#040102">Сообщения TCP и обмен данными</a></span></li></ul></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch01.html#0402">UDP</a></span></li><li class="expandable lastExpandable" tabindex="2"><div class="hitarea expandable-hitarea lastExpandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch01.html#0402">IP</a></span><ul style="display: none;"><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch01.html#040201">NAT IP и безопасность</a></span></li><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch01.html#040202">Понятия маршрутизации IP</a></span></li></ul></li></ul></li><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch01.html#05">Обзор языка Python</a></span><ul style="display: none;"><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch01.html#0501">Версии Python</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch01.html#0502">Операционная система</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch01.html#0503">Исполнение программ Python</a></span></li><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch01.html#0504">Встроенные типы Python</a></span><ul style="display: none;"><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch01.html#050401">Тип None</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch01.html#050402">Числа</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch01.html#050403">Последовательности</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch01.html#050404">Соответствия</a></span></li><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch01.html#050405">Множества</a></span></li></ul></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch01.html#0505">Операторы Python</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch01.html#0506">Инструменты управления потоком Python</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch01.html#0507">Функции Python</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch01.html#0508">Классы Python</a></span></li><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch01.html#0509">Модули и пакеты Python</a></span></li></ul></li><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch01.html#06">Выводы</a></span></li></ul></li><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch02.html">Глава 2. Взаимодействие с сетевым устройством на нижнем уровне</a></span><ul style="display: none;"><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch02.html#01">Вызовы CLI</a></span></li><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch02.html#02">Построение виртуальной лаборатории</a></span><ul style="display: none;"><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch02.html#0201">Cisco VIRL</a></span><ul style="display: none;"><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch02.html#020101">Уловки VIRL</a></span></li></ul></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch02.html#0202">Cisco DevNet и dCloud</a></span></li><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch02.html#0203">GNS3</a></span></li></ul></li><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch02.html#03">Библиотека Python Pexpect</a></span><ul style="display: none;"><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch02.html#0301">Установка</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch02.html#0302">Обзор Pexpect</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch02.html#0303">Наша первая программа ожидания</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch02.html#0304">Дополнительная функциональность Pexpect</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch02.html#0305">Pexpect и SSH</a></span></li><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch02.html#0306">СОбираем всё воедино для Pexpect</a></span></li></ul></li><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch02.html#04">Библиотека Python Paramiko</a></span><ul style="display: none;"><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch02.html#0401">Установка Paramiko</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch02.html#0402">Обзор Paramiko</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch02.html#0403">Наша первая программа Paramiko</a></span></li><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch02.html#0404">Дополнительная функциональность Paramiko</a></span><ul style="display: none;"><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch02.html#040401">Paramiko для серверов</a></span></li></ul></li><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch02.html#0405">Собираем всё воедино для Paramiko</a></span></li></ul></li><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch02.html#05">Заглядывая вперёд</a></span><ul style="display: none;"><li class="expandable lastExpandable" tabindex="2"><div class="hitarea expandable-hitarea lastExpandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch02.html#0501">Недостатки Pexpect и Paramiko в сравнении с прочими инструментами</a></span><ul style="display: none;"><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch02.html#050101">Идемпотентное взаимодействие сетевых устройств</a></span></li><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch02.html#050102">Плохая автоматизация ускоряет плохие вещи</a></span></li></ul></li></ul></li><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch02.html#06">Выводы</a></span></li></ul></li><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch03.html">Глава 3. Работа с сетями через API и движимое намерениями проектирование сетей</a></span><ul style="display: none;"><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch03.html#01">Инфраструктура как код Python</a></span><ul style="display: none;"><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch03.html#0101">Сопоставление анализа терминальных данных и структурированного вывода API</a></span></li><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch03.html#0102">Моделирование данных для инфраструктуры как код</a></span></li></ul></li><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch03.html#02">API и ACI Cisco</a></span><ul style="display: none;"><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch03.html#0201">Cisco NX-API</a></span><ul style="display: none;"><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch03.html#020101">Установка лабораторного ПО и подготовка устройства</a></span></li><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch03.html#020102">Примеры NX-API</a></span></li></ul></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch03.html#0202">Cisco и модель YANG</a></span></li><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch03.html#0203">Cisco ACI</a></span></li></ul></li><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch03.html#03">API Python для сетевых сред Juniper</a></span><ul style="display: none;"><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch03.html#0301">Juniper и NETCONF</a></span><ul style="display: none;"><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch03.html#030101">Подготовка устройства</a></span></li><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch03.html#030102">Примеры Juniper NETCONF</a></span></li></ul></li><li class="expandable lastExpandable" tabindex="2"><div class="hitarea expandable-hitarea lastExpandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch03.html#0302">Juniper PyEZ для разработчиков</a></span><ul style="display: none;"><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch03.html#030201">Установка и подготовка</a></span></li><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch03.html#030202">Примеры PyEZ</a></span></li></ul></li></ul></li><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch03.html#04">API Python Arista</a></span><ul style="display: none;"><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch03.html#0401">Управление eAPI Arista</a></span><ul style="display: none;"><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch03.html#040101">Подготовка eAPI</a></span></li><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch03.html#040102">Примеры eAPI</a></span></li></ul></li><li class="expandable lastExpandable" tabindex="2"><div class="hitarea expandable-hitarea lastExpandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch03.html#0402">Библиотека Arista Pyeapi</a></span><ul style="display: none;"><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch03.html#040201">Установка Pyeapi</a></span></li><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch03.html#040202">Примеры PyEZ</a></span></li></ul></li></ul></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch03.html#05">Нейтральные к производителю библиотеки</a></span></li><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch03.html#06">Выводы</a></span></li></ul></li><li class="collapsable" tabindex="2"><div class="hitarea collapsable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch04.html">Глава 4. Инфраструктура автоматизации Python - основы Ansible</a></span><ul style="display: block;"><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch04.html#01">Быстрый пример Ansible</a></span><ul style="display: none;"><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch04.html#0101">Установка управляющего узла</a></span></li><li class="expandable lastExpandable" tabindex="2"><div class="hitarea expandable-hitarea lastExpandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch04.html#0102">Ваш первый плейбук Ansible</a></span><ul style="display: none;"><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch04.html#010201">Авторизация общедоступного ключа</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch04.html#010202">Файл учёта ресурсов</a></span></li><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch04.html#010203">Наш первый плейбук</a></span></li></ul></li></ul></li><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch04.html#02">Преимущества Ansible</a></span><ul style="display: none;"><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch04.html#0201">Отсутствие агента</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch04.html#0202">Идемпотентность</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch04.html#0203">Простота и расширяемость</a></span></li><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch04.html#0204">Поддержка производителями</a></span></li></ul></li><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch04.html#03">Архитектура Ansible</a></span><ul style="display: none;"><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch04.html#0301">YAML</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch04.html#0302">Учёт ресурсов</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch04.html#0303">Переменные</a></span></li><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch04.html#0304">Шаблоны Jinja2</a></span></li></ul></li><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch04.html#04">Сетевые модули Ansible</a></span><ul style="display: none;"><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch04.html#0401">Локальные соединения и факты</a></span></li><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch04.html#0402">Параметры provider</a></span></li></ul></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch04.html#05">Пример Cisco Ansible</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch04.html#06">Пример Juniper Ansible</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch04.html#07">Пример Arista Ansible</a></span></li><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch04.html#08">Выводы</a></span></li></ul></li><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch05.html">Глава 5. Инфраструктура автоматизации Python - дополнительные вопросы Ansible</a></span><ul style="display: none;"><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch05.html#01">Условные зависимости Ansible</a></span><ul style="display: none;"><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch05.html#0101">Оператор when</a></span></li><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch05.html#0102">Условные зависимости сетевого модуля</a></span></li></ul></li><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch05.html#02">Циклы Ansible</a></span><ul style="display: none;"><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch05.html#0201">Стандартные циклы</a></span></li><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch05.html#0202">Циклы по словарям</a></span></li></ul></li><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch05.html#03">Шаблоны</a></span><ul style="display: none;"><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch05.html#0301">Шаблоны Jinja2</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch05.html#0302">Циклы Jinja2</a></span></li><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch05.html#0303">Условные зависимости Jinja2</a></span></li></ul></li><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch05.html#04">Группы и переменные хостов</a></span><ul style="display: none;"><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch05.html#0401">Переменные групп</a></span></li><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch05.html#0402">Переменные хостов</a></span></li></ul></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch05.html#05">Кладовая Ansible</a></span></li><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch05.html#06">Включения и роли Ansible</a></span><ul style="display: none;"><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch05.html#0601">Оператор включения</a></span></li><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch05.html#0602">Роли Ansible</a></span></li></ul></li><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch05.html#07">Написание вашего собственного пользовательского модуля</a></span><ul style="display: none;"><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch05.html#0701">Самый первый пользовательский модуль</a></span></li><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch05.html#0702">Второй пользовательский модуль</a></span></li></ul></li><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch05.html#08">Выводы</a></span></li></ul></li><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch06.html">Глава 6. Сетевая безопасность с помощью Python</a></span><ul style="display: none;"><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch06.html#01">Установка лаборатории</a></span></li><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch06.html#02">Python Scapy</a></span><ul style="display: none;"><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch06.html#0201">Установка Scapy</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch06.html#0202">Примеры взаимодействия</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch06.html#0203">Снифинг</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch06.html#0204">Сканирование порта TCP</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch06.html#0205">Сборка ping</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch06.html#0206">Обычные атаки</a></span></li><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch06.html#0207">Ресурсы Scapy</a></span></li></ul></li><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch06.html#03">Списки доступа</a></span><ul style="display: none;"><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch06.html#0301">Реализация списков доступа при помощи Ansible</a></span></li><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch06.html#0302">Списки доступа MAC</a></span></li></ul></li><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch06.html#04">Поиск в системных журналах</a></span><ul style="display: none;"><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch06.html#0401">Поиск при помощи регулярных выражений</a></span></li></ul></li><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch06.html#05">Прочие инструменты</a></span><ul style="display: none;"><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch06.html#0501">Частные VLAN</a></span></li><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch06.html#0501">UFW через Python</a></span></li></ul></li><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch06.html#06">Выводы</a></span></li></ul></li><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch07.html">Глава 7. Мониторинг сетей при помощи Python - Часть 1</a></span><ul style="display: none;"><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch07.html#01">Установка лаборатории</a></span></li><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch07.html#02">SNMP</a></span><ul style="display: none;"><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch07.html#0201">Установка</a></span></li><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch07.html#0202">PySNMP</a></span></li></ul></li><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch07.html#03">Визуализация Python</a></span><ul style="display: none;"><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch07.html#0301">Matplotlib</a></span><ul style="display: none;"><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch07.html#030101">Установка</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch07.html#030102">Первый пример Matplotlib</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch07.html#030103">Результаты Matplotlib для SNMP</a></span></li><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch07.html#030104">Дополнительные ресурсы Matplotlib</a></span></li></ul></li><li class="expandable lastExpandable" tabindex="2"><div class="hitarea expandable-hitarea lastExpandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch07.html#0302">Pygal</a></span><ul style="display: none;"><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch07.html#030201">Установка</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch07.html#030202">Первый пример Pygal</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch07.html#030203">Результаты Pygal для SNMP</a></span></li><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch07.html#030204">Дополнительные ресурсы Pygal</a></span></li></ul></li></ul></li><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch07.html#04">Python для Cacti</a></span><ul style="display: none;"><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch07.html#0401">Установка</a></span></li><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch07.html#0402">Сценарий Python как источник входных данных</a></span></li></ul></li><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch07.html#05">Выводы</a></span></li></ul></li><li class="collapsable" tabindex="2"><div class="hitarea collapsable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch08.html">Глава 8. Мониторинг сетей при помощи Python - Часть 2</a></span><ul style="display: block;"><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch08.html#01">Graphviz</a></span><ul style="display: none;"><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch08.html#0101">Установка лаборатории</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch08.html#0102">Установка</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch08.html#0103">Примеры Graphviz</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch08.html#0104">Python в примерах Graphviz</a></span></li><li class="expandable lastExpandable" tabindex="2"><div class="hitarea expandable-hitarea lastExpandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch08.html#0105">Отображение LLDP соседей</a></span><ul style="display: none;"><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch08.html#010501">Получение информации</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch08.html#010502">Сценарий Python синтаксического анализа</a></span></li><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch08.html#010503">Окончательный плейбук</a></span></li></ul></li></ul></li><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch08.html#02">Основанный на потоках мониторинг</a></span><ul style="display: none;"><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch08.html#0201">Синтаксический анализ NetFlow при помощи Python</a></span><ul style="display: none;"><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch08.html#020101">Сокет и структура Python</a></span></li></ul></li><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch08.html#0202">Мониторинг обмена ntop</a></span><ul style="display: none;"><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch08.html#020201">Расширение Python для ntop</a></span></li></ul></li><li class="expandable lastExpandable" tabindex="2"><div class="hitarea expandable-hitarea lastExpandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch08.html#0203">sFlow</a></span><ul style="display: none;"><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch08.html#020301">SFlowtool и sFlow-RT с применением Python</a></span></li></ul></li></ul></li><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch08.html#03">Elasticsearch (стек ELK)</a></span><ul style="display: none;"><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch08.html#0301">Установка хостинга службы ELK</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch08.html#0302">Формат logstash</a></span></li><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch08.html#0303">Вспомогательный сценарий Python для форматирования logstash</a></span></li></ul></li><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch08.html#04">Выводы</a></span></li></ul></li><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch09.html">Глава 9. Построение сетевых веб служб с применением Python</a><sup>...</sup></span><ul style="display: none;"><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch09.html#01">Сравнение веб инфраструктур Python</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch09.html#02">Flask и установка лаборатории</a></span></li><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch09.html#03">Введение в Flask</a></span><ul style="display: none;"><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch09.html#0301">Клиент HTTPie</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch09.html#0302">Маршрутизация URL</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch09.html#0303">Переменные URL</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch09.html#0304">Генерация URL</a></span></li><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch09.html#0305">Возврат jsonify</a></span></li></ul></li><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch09.html#04">API статического содержимого</a></span><ul style="display: none;"><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch09.html#0401">Flask-SQLAlchemy</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch09.html#0402">API содержимого сети</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch09.html#0403">API устройств</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch09.html#0404">API идентификаторов устройств</a></span></li><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch09.html#0405">Возврат jsonify</a></span></li></ul></li><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch09.html#05">API динамического содержимого</a></span><ul style="display: none;"><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch09.html#0501">Асинхронные операции</a></span></li></ul></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch09.html#06">Безопасность</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch09.html#07">Дополнительные ресурсы</a></span></li><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch09.html#08">Выводы</a></span></li></ul></li><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch10.html">Глава 10. Основы OpenFlow</a><sup>~</sup></span><ul style="display: none;"><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch10.html#01">Установка лаборатории</a></span></li><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch10.html#02">Введение в OpenFlow</a></span><ul style="display: none;"><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch10.html#0201">Основные операции</a></span></li><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch10.html#0202">Сопоставление OpenFlow 1.0 и 1.3</a></span></li></ul></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch10.html#03">Mininet</a></span></li><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch10.html#04">Контроллер Ryu при помощи Python</a></span><ul style="display: none;"><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch10.html#0401">Команды Open vSwitch</a></span></li><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch10.html#0402">Приложение межсетевого экрана Ryu</a></span></li></ul></li><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch10.html#05">Коммутатор OpenFlow 2 уровня</a></span><ul style="display: none;"><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch10.html#0501">Планирование вашего приложения</a></span></li><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch10.html#0502">Компоненты приложения</a></span></li></ul></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch10.html#06">Контроллер POX</a></span></li><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch10.html#07">Выводы</a></span></li></ul></li><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch11.html">Глава 11. Дополнительные темы OpenFlow</a><sup>~</sup></span><ul style="display: none;"><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch11.html#01">Установка</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch11.html#02">Работа с OpenFlow при помощи Riu</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch11.html#03">Изучение пакета</a></span></li><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch11.html#04">Статический маршрутизатор</a></span><ul style="display: none;"><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch11.html#0401">Топология Mininet</a></span></li><li class="expandable lastExpandable" tabindex="2"><div class="hitarea expandable-hitarea lastExpandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch11.html#0402">Код контроллера Riu</a></span><ul style="display: none;"><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch11.html#040201">Установка потока Riu</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch11.html#040202">Создание пакета Riu</a></span></li><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch11.html#040203">Конечный результат</a></span></li></ul></li></ul></li><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch11.html#05">Маршрутизатор с API</a></span><ul style="display: none;"><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch11.html#0501">Kонтроллер Riu с API</a></span></li><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch11.html#0502">Примеры использования API</a></span></li></ul></li><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch11.html#06">Маршрутизатор BGP при помощи OpenFlow</a></span><ul style="display: none;"><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch11.html#0601">Установка исследуемого маршрутизатора</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch11.html#0602">Python с библиотекой диктора BGP</a></span></li><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch11.html#0603">Приложение Ryu BGP</a></span></li></ul></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch11.html#07">Межсетевой экран при помощи OpenFlow</a></span></li><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch11.html#08">Выводы</a></span></li></ul></li><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch12.html">Глава 12. OpenStack, OpenDaylight и NFV</a><sup>~</sup></span><ul style="display: none;"><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch12.html#01">OpenStack</a></span><ul style="display: none;"><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch12.html#0101">Обзор OpenStack</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch12.html#0102">Сетевая среда OpenStack</a></span></li><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch12.html#0103">Попробуйте OpenStack</a></span></li></ul></li><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch12.html#02">OpenDaylight</a></span><ul style="display: none;"><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch12.html#0201">Обзор программирования OpenDaylight</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch12.html#0202">Пример OpenDaylight</a></span></li><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch12.html#0203">Попробуйте OpenStack</a></span></li></ul></li><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch12.html#03">Выводы</a></span></li></ul></li><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch13.html">Глава 13. Гибридные SDN</a><sup>~</sup></span><ul style="display: none;"><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch13.html#01">Подготовка сетевой среды</a></span><ul style="display: none;"><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch13.html#0101">Ваше знакомство с имеющимися инфраструктурами и инструментами</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch13.html#0102">Стандартизация сетевой среды</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch13.html#0103">Создание минимально жизнеспособных продуктов</a></span></li><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch13.html#0104">Непреклонное экспериментирование</a></span></li></ul></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch13.html#02">Развёртывание Grenfield</a></span></li><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch13.html#03">Резервный контроллер</a></span><ul style="display: none;"><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch13.html#0301">Пример со множественным контроллером</a></span></li></ul></li><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch13.html#04">Пример миграции BGP</a></span><ul style="display: none;"><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch13.html#0401">Сегментация миграции</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch13.html#0402">Установка VIRL и Mininet</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch13.html#0403">Настройка устройства Cisco</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch13.html#0404">Диктор Ryu BGP</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch13.html#0405">Mininet и маршрутизатор REST</a></span></li><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch13.html#0406">Результат и проверка</a></span></li></ul></li><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch13.html#05">Ещё пример BGP</a></span><ul style="display: none;"><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch13.html#0501">Опрос JSONRPC поверх WebSocket</a></span></li></ul></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch13.html#06">Интеграция мониторинга</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch13.html#07">Безопасное соединение TLS</a></span></li><li class="expandable" tabindex="2"><div class="hitarea expandable-hitarea"></div><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch13.html#08">Выбор физического коммутатора</a></span><ul style="display: none;"><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch13.html#0801">Лаборатория коммутаторов OpenFlow</a></span></li><li tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch13.html#0802">Имеющиеся на рынке коммутаторы</a></span></li><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch13.html#0803">Коммутаторы Whitebox</a></span></li></ul></li><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ch13.html#09">Выводы</a></span></li></ul></li><li class="last" tabindex="2"><span class="file"><a href="http://onreader.mdl.ru/MasteringPythonNetworking/content/Ix01.html">Указатель<sup>-</sup></a></span></li></ul>	</div></div>		<div class="ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide" id="searchDiv">	 <div id="search"><form onsubmit="Verifie(ditaSearch_Form);return false" name="ditaSearch_Form" class="searchForm">	  <fieldset class="searchFieldSet"><legend>Поиск</legend><center><input id="textToSearch" name="textToSearch" class="searchText" type="text"> &nbsp; <input onclick="Verifie(ditaSearch_Form)" class="searchButton" value="Go" id="doSearch" type="button"></center></fieldset></form>	 </div>	<div id="searchResults"><center>		</center></div>	<p class="searchHighlight"><a href="#" onclick="toggleHighlight()">Подсветка поиска (Вкл/Выкл)</a>	</p>	</div></div></div></div>

</div></body><div style="display:none" id="sp_console_event"></div></html>