modules.require(["i-bem__dom_init","jquery","next-tick"],function(e,t,i){t(function(){i(e)})}),modules.define("form",["i-bem__dom"],function(e,t){e(t.decl({block:this.name,modName:"type",modVal:"quickpay-form"},{onSetMod:{js:function(){var e=this;this.__base.apply(this,arguments),this._requiredFields=["writer"],this._bTargetsInput=this.findBlockOn(this.elem("control","name","targets"),"input");var t=this.findBlockOn(this.elem("control","name","writer"),"radio-button");t.on("change",function(){return e._onWriterChange()});var i=this.findBlockOn(this.elem("control","name","comment"),"checkbox");if(i){var n=this.findBlockOn(this.elem("control","name","comment-hint"),"visibility");i.on("change",function(){n.toggleMod("hidden","yes")})}}},_isRequiredEmpty:function(e){return"buyer"===e.writer?!1:""===e.targets},_getRequiredInputs:function(e){return"seller"===e.writer?[this._bTargetsInput]:[]},_onWriterChange:function(){var e=this.findBlockOn(this.elem("control","name","writer"),"radio-button"),t=this.findBlockOn(this.elem("control","name","targets"),"visibility"),i=this.findBlockOn(this.elem("control","name","targets-hint"),"visibility");this._bTargetsInput.hideErrorTip(),"seller"===e.val()?(t.delMod("hidden"),i.setMod("hidden","yes")):(t.setMod("hidden","yes"),i.delMod("hidden"))}}))}),modules.define("input",["i-bem__dom","lodash","basis"],function(e,t,i,n,o){e(o.decl({name:this.name,modName:"filter",modVal:"yes"},{onSetMod:{js:function(){this.__base.apply(this,arguments),this._filterOnKeypress()}},_filterOnKeypress:function(){var e=this,t=(this.params.filter,this._getFilter());this.elem("control").keypress(function(n){var o=n.which,s=String.fromCharCode(o);e.filterChars(n,t);if(e.params.showErrorTipOnFilter)if(n.isDefaultPrevented()){var r=e.params.defaultErrorTipContent;i.each(e.params.errorTips,function(e){-1!==e.letters.indexOf(s)&&(r=e.errorTipContent)}),e.showErrorTip({content:r})}else e.hideErrorTip()})},_getFilter:function(){var e,t=this,n=this.params.filter;if(i.isArray(n)){var o=[];i.forEach(n,function(e){var i=t.__self._filters[e]||e;o.push(i)}),e=o.join("")}else e=this.__self._filters[n]||n;return e}},{_filters:n.filters}))}),BEM.DOM.decl("radiobox",{onSetMod:{js:{inited:function(){this._val=this.findElem(this.elem("radio","checked","yes"),"control").val(),this.elem("control").each(function(e,t){var i=$(t),n=this.__self._getRadioByElem(i);i.isFocused()&&this.setMod(n,"focused","yes"),i.prop("checked")&&this.setMod(n,"checked","yes")}.bind(this))}},disabled:{yes:function(){this.setMod(this.elem("radio"),"disabled","yes")},"":function(){this.delMod(this.elem("radio"),"disabled")}}},onElemSetMod:{radio:{focused:{yes:function(e){this.delMod(this.elem("radio","focused","yes"),"focused");var t=this.findElem(e,"control");t.isFocused()||t.focus(),this.afterCurrentEvent(function(){this.trigger("focus",{current:e})})},"":function(e){this.afterCurrentEvent(function(){this.trigger("blur",{prev:e})})}},checked:{yes:function(e){var t=this.elem("radio","checked","yes"),i=this.findElem(e,"control"),n=this._val;this._willSwitch=!0,this.delMod(t,"checked"),this._willSwitch=!1,i.prop("checked",!0),this._val=i.val(),this.trigger("change",{current:e,currentVal:this._val,prev:t,prevVal:n})},"":function(e){var t=this.findElem(e,"control"),i=this._val;t.prop("checked",!1),this._val=void 0,this._willSwitch||this.trigger("change",{current:$(),currentVal:void 0,prev:e,prevVal:i})}},hovered:function(e){return!this.isDisabled(e)},pressed:function(e){return!this.isDisabled(e)},disabled:function(e,t,i){e.find(this.buildSelector("control")).prop("disabled","yes"===i),"yes"===i&&this.delMod(e,"hovered").delMod(e,"pressed")}}},isDisabled:function(e){return this.hasMod(e,"disabled","yes")},val:function(e){if("undefined"==typeof e)return this._val;var t=this;return this.elem("control").each(function(i,n){return n.value===e?(t.setMod(t.__self._getRadioByElem($(n)),"checked","yes"),!1):void 0}),t},name:function(e){var t=this.elem("control");return arguments.length?(t.attr("name",e),this):t.attr("name")},getCurrent:function(){return this.findElem("radio","checked","yes")},uncheckAll:function(){return this.delMod(this.elem("radio","checked","yes"),"checked"),this},_onRadioEnter:function(e){this.setMod(e.data.domElem,"hovered","yes")},_onRadioLeave:function(e){this.delMod(e.data.domElem,"hovered")},_onRadioClick:function(e,t){this.isDisabled(e)||this.setMod(e,"focused","yes")},_onChange:function(e){this.setMod(this.__self._getRadioByElem(e.data.domElem),"checked","yes")},_onPointerpress:function(e){var t=e.data.domElem;this.setMod(t,"pressed","yes").bindToDoc("pointerrelease",function(){this.delMod(t,"pressed").unbindFromDoc("pointerrelease")})}},{live:function(){this.liveBindTo("radio","pointerclick",function(e){this._onRadioClick(e.data.domElem,e)}).liveBindTo("control","change",function(e){this._onChange(e)}).liveBindTo("radio","pointerover pointerout",function(e){e.data.domElem[0].contains(e.relatedTarget)||("pointerover"===e.type?this._onRadioEnter(e):this._onRadioLeave(e))}).liveBindTo("control","focusin focusout",function(e){var t=this.__self._getRadioByElem(e.data.domElem);this.setMod(t,"focused","focusin"===e.type?"yes":""),parseInt(BEM.blocks["i-ua"].ios,10)>=8&&e.preventDefault()}).liveBindTo("radio","pointerpress",function(e){this.hasMod(e.data.domElem,"disabled")||this._onPointerpress(e)})},_getRadioByElem:function(e){return e.closest(this.buildSelector("radio"))}}),BEM.DOM.decl({block:"radio-button",baseBlock:"radiobox"},{onElemSetMod:{radio:{pressed:{yes:function(){this.delMod(this.elem("radio","pressed","yes"),"pressed")}}}},_onPointerPress:function(e){this._pressedRadio=e.data.domElem,this.isDisabled(this._pressedRadio)||(this.setMod(this._pressedRadio,"pressed","yes"),this.bindToDoc("pointerrelease",this._onPointerRelease))},_onPointerRelease:function(e){var t=this._pressedRadio;delete this._pressedRadio,this.delMod(t,"pressed"),this.afterCurrentEvent(function(){var i=this.findElem(t,"control");i.prop("checked")||!t.is(e.target)&&!t.find(e.target).length||i.trigger("change").focus()}),this.unbindFromDoc("pointerrelease")}},{live:function(){return this.liveBindTo("radio","pointerpress",function(e){this._onPointerPress(e)}),this.__base()}}),modules.define("visibility",["i-bem__dom","jquery","lodash"],function(e,t,i,n){e(t.decl({block:"visibility",modName:"animate",modsVal:"slide"},{toggle:function(e,t){var i=this,o=n.isBoolean(e)?e:this.hasMod("hidden","yes");this.domElem.slideToggle(500,function(){i._toggle(o);var e=n.isFunction(t);e&&t()})},show:function(){var e=this;this.domElem.slideDown(500,function(){e._toggle(!0)})},hide:function(){var e=this;this.domElem.slideUp(500,function(){e._toggle(!1)})},_toggle:function(e){this.toggleMod("hidden","","yes",e),this.domElem.removeAttr("style")}}))}),modules.define("tooltiper",["i-bem__dom","BEMHTML","lodash","jquery"],function(e,t,i,n,o){e(t.decl({block:this.name},{onSetMod:{js:function(){this.__base.apply(this,arguments),this._tooltips={}}},showErrorTip:function(e){var t=this._tooltips.hint,i=t?t.hasMod("shown"):!1,o=e,s="",r="";n.isObject(e)&&(o=e.content||o,s=e.unclosable||"",r=e.custom||""),i&&t.delMod("shown"),this.showTip({type:"error",theme:"error",unclosable:s,custom:r,content:o})},hideErrorTip:function(){this.hideTip({type:"error"})},showHintTip:function(e){this.showTip({type:"hint",theme:e.theme,unclosable:e.unclosable||"",custom:e.custom,content:e.content})},hideHintTip:function(){this.hideTip({type:"hint"})},showTip:function(e){var t=e.type,i=e.content||"",n=e.owner||this,o="error"===t?"error":"normal",s=e.theme||o,r=this.hasMod("customTip")?this.getMod("customTip"):"";r=e.custom||r,this._tooltips[t]?this._updateTip(t,Object.assign(e,{tooltipTheme:s,customTip:r})):this._createTip(t,Object.assign(e,{tooltipTheme:s,customTip:r,tipContent:i,tooltipOwner:n})),i&&this._tooltips[t].setContent(i),this._tooltips[t].setOwner(n).setMod("shown","yes")},hideTip:function(e){this._tooltips[e.type]&&this._tooltips[e.type].delMod("shown")},_updateTip:function(e,t){t.tooltipTheme!==this._tooltips[e].getMod("theme")&&this._tooltips[e].setMod("theme",t.tooltipTheme).findBlockOn("popup").setMod("theme",t.tooltipTheme),t.unclosable!==this._tooltips[e].getMod("unclosable")&&this._tooltips[e].setMod("unclosable",t.unclosable),t.customTip!==this.getMod("customTip")&&this._tooltips[e].setMod("custom",t.customTip)},_createTip:function(e,n){var s="error"===e?"no":"yes",r=this.params.tipOffset||(this.hasMod("outer-icon")?39:3),a=this.params.tipAxis||"top",c=this.params.watchScroll?"yes":"no",l=this.params.tooltipSize?this.params.tooltipSize:this.getMod("size"),d=i.apply({block:"tooltip",mods:{theme:n.tooltipTheme,size:l,autoclosable:s,"watch-scroll":c,unclosable:n.unclosable,custom:n.customTip},js:{offset:r,directions:this.params.tipDirections||["right"],axis:a},content:[{elem:"tail"},n.tipContent]});this._tooltips[e]=t.before(n.tooltipOwner.domElem,o(d)).bem("tooltip")}}))}),modules.define("native-input",["i-bem__dom"],function(e,t){e(t.decl(this.name,{val:function(e){var t=this.domElem.val();return"undefined"==typeof e?t:void(e!==t&&(this.domElem.val(e),this.trigger("change",e)))}}))}),modules.define("widget-shop",["i-bem__dom","yamoney-lib","jquery"],function(e,t,i,n){e(t.decl(this.name,{onSetMod:{js:function(){this._bSum=this.findBlockOn(this.elem("sum-input"),"input"),this._bPayments=this.findBlockInside("radio-button"),this._MIN_SUM_AC=1.02,this._setCustomValidation()}},_setCustomValidation:function(){var e=this,t=this._bSum.findBlockInside("validation");t.setCustomRule(function(){return e._sumCustomValidation()})},_sumCustomValidation:function(){var e=n.Deferred();return this._sumIsValid()?e.resolve():(this._bSum.showErrorTip({content:BEM.I18N("widget-shop","widget-shop-small-sum-error"),unclosable:"yes"}),e.reject())},_sumIsValid:function(){return!(this._bPayments&&"AC"===this._bPayments.val()&&i.utils.toNum(this._bSum.val(),0)<this._MIN_SUM_AC)}}))}),modules.define("form",["i-bem__dom","BEMHTML","jquery","basis","lodash"],function(e,t,i,n,o,s){e(t.decl({block:this.name,modName:"id",modVal:"confirm"},{onSetMod:{js:function(){var e=this;this.__base.apply(this,arguments),this.serverErrorsData={firstName:BEM.I18N("personal-info","personal-info-first-name-wrong"),snils:BEM.I18N("additional-doc","additional-doc-snils-wrong"),inn:BEM.I18N("additional-doc","additional-doc-itn-wrong"),oms:BEM.I18N("additional-doc","additional-doc-oms-wrong"),lastName:BEM.I18N("personal-info","personal-info-second-name-wrong"),docNumber:BEM.I18N("personal-info","personal-info-passport-wrong"),docIssueDate:BEM.I18N("personal-info","personal-info-issue-date-wrong"),phoneNumber:BEM.I18N("personal-info","personal-info-phone-number-wrong-new"),birthDay:BEM.I18N("personal-info","personal-info-birth-date-wrong")},this._goalPrefix="quickpay-confirm",o.customYandexMetricsGoal(this._goalPrefix+"-ident-"+(this.params.requiredIdent?"yes":"no")),o.customYandexMetricsGoal(this._goalPrefix+"-data-"+(this.params.requiredData?"yes":"no")),this.params.needAddress&&this._handleAddressFields(),this._handleFormSubmit(),this.copyEnabled=this.findBlockInside("checkbox"),this.copyEnabled&&(this.identInputs={lastName:this._getInputBlock("lastName"),firstName:this._getInputBlock("firstName"),middleName:this._getInputBlock("middleName"),phoneNumber:this._getInputBlock("phoneNumber")},this.additionalInputs={lastName:this._getInputBlock("user-lastname"),firstName:this._getInputBlock("user-firstname"),middleName:this._getInputBlock("user-fathersname"),phoneNumber:this._getInputBlock("user-phone")},this.copyInputs=Object.keys(this.identInputs),this.copyInputs.forEach(function(t){e._pairInputs(e.identInputs[t],e.additionalInputs[t])}),this._handleCopyCheckbox())}},_handleFormSubmit:function(){var e=this;this.domElem.on("submit",function(t){if(o.customYandexMetricsGoal(e._goalPrefix+"-submit"),!e.params.requiredIdent&&e.validate()){var i=s.pick(e.serializeForm(),e.params.formParamsList);window.location=e.params.formAction+"?"+n.param(i),t.preventDefault()}})},_pairInputs:function(e,t){var i=this;e&&t&&e.on("change",function(){i.copyEnabled.isChecked()&&i._copyValues(e,t)})},_copyValues:function(e,t){t.val(e.val())},_handleCopyCheckbox:function(){var e=this;this.copyEnabled.on("change",function(){o.customYandexMetricsGoal(e._goalPrefix+"-copy-"+(e.copyEnabled.isChecked()?"yes":"no")),e.copyInputs.forEach(function(t){var i=e.additionalInputs[t],n=e.identInputs[t];i&&n&&e.copyEnabled.isChecked()&&(e._copyValues(n,i),i.hideErrorTip())})})},_handleAddressFields:function(){var e=this,t=this._getInputBlock("user-address");if(t){var i=["user-city"].map(function(t){return e._getInputBlock(t,"native-input")});t.on("change",function(){i.forEach(function(i){e._copyValues(t,i)})})}},_getInputBlock:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"input";return this.findBlockInside({block:t,modName:"name",modVal:e})},onResponseSuccess:function(e){var t=s.get(e,"result.status"),i=["technicalError","rejected"],o=s.includes(i,t);if(o)return void this._showErrorMessage();var r=this.params.formAction,a=s.pick(this.serializeForm(),this.params.formParamsList);n.post(r,Object.assign({},a,{processIdent:"complete"})).then(function(e){window.location=e.urlToRedirect})},_showErrorMessage:function(){this._requestId=null;var e=this.findBlockInside(this.elem("error"),"visibility");e.setMod("hidden","no")},onResponseError:function(){this._showErrorMessage()},onRetry:function(e){this._requestId||(this._requestId=s.get(e,"result.requestId",""));var t={retryParams:{requestId:this._requestId,processIdent:!0,userStatusReqId:this._requestId}};this.__base(t)}}))}),modules.define("input",["i-bem__dom","basis","formatter","lodash"],function(e,t,i,n,o){e(t.decl({name:"input",modName:"has-mask",modVal:"yes"},{onSetMod:{js:function(){var e=this;this.__base.apply(this,arguments),this.bindTo("control","keyup",function(){e.val(e.elem("control").val())}),this.formatter=this._formatter()}},_formatter:function(){if(!n.isBrowserCompatible())return!1;var e=this.params,t=e.format?this.__self._formats[e.format]:null,i=o.extend({persistent:!1},t,e.formatterOptions);o.forEach(i.inputTypes,function(e){n.addInptType(e["char"],new RegExp(e.pattern))});var s=this.elem("control"),r=new n(s.get(0),{pattern:i.pattern,persistent:i.persistent});return r.resetPattern(i.pattern),r}},{_formats:i.maskFormats}))}),modules.define("formatter",function(e){!function(){!function(e,t){"function"==typeof define&&define.amd?define([],function(){return e.returnExportsGlobal=t()}):"object"===("undefined"==typeof exports?"undefined":babelHelpers["typeof"](exports))?module.exports=t():e.Formatter=t()}(this,function(){var e=navigator.userAgent.toLowerCase(),t=-1!==e.indexOf("android"),i=-1!==e.indexOf("chrome"),n=function(){var e={},t=4,i=new RegExp("{{([^}]+)}}","g"),n=function(e){for(var t,n=[];t=i.exec(e);)n.push(t);return n};return e.parse=function(e){var i={inpts:{},chars:{}},o=n(e),s=e.length,r=0,a=0,c=0,l=function(e){for(var n=e.length,o=0;n>o;o++)i.inpts[a]=e.charAt(o),a++;r++,c+=e.length+t-1};for(c;s>c;c++)r<o.length&&c===o[r].index?l(o[r][1]):i.chars[c-r*t]=e.charAt(c);return i.mLength=c-r*t,i},e}(),o=function(){var e={};"undefined"!=typeof navigator?navigator.userAgent:null;return e.extend=function(e){for(var t=1;t<arguments.length;t++)for(var i in arguments[t])e[i]=arguments[t][i];return e},e.addChars=function(e,t,i){return e.substr(0,i)+t+e.substr(i,e.length)},e.removeChars=function(e,t,i){return e.substr(0,t)+e.substr(i,e.length)},e.isBetween=function(e,t){return t.sort(function(e,t){return e-t}),e>t[0]&&e<t[1]},e.addListener=function(e,t,i){return"undefined"!=typeof e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent("on"+t,i)},e.preventDefault=function(e){return e.preventDefault?e.preventDefault():e.returnValue=!1},e.getClip=function(e){return!e.clipboardData||i&&t?window.clipboardData?window.clipboardData.getData("Text"):null:e.clipboardData.getData("Text")},e.getMatchingKey=function(e,t,i){for(var n in i){var o=i[n];if(e===o.which&&t===o.keyCode)return n}},e.isDelKeyDown=function(t,i){var n={backspace:{which:8,keyCode:8},"delete":{which:46,keyCode:46}};return e.getMatchingKey(t,i,n)},e.isDelKeyPress=function(t,i){var n={backspace:{which:8,keyCode:8,shiftKey:!1},"delete":{which:0,keyCode:46}};return e.getMatchingKey(t,i,n)},e.isSpecialKeyPress=function(t,i){var n={tab:{which:0,keyCode:9},enter:{which:13,keyCode:13},end:{which:0,keyCode:35},home:{which:0,keyCode:36},leftarrow:{which:0,keyCode:37},uparrow:{which:0,keyCode:38},rightarrow:{which:0,keyCode:39},downarrow:{which:0,keyCode:40},F5:{which:0,keyCode:116}};return e.getMatchingKey(t,i,n)},e.isModifier=function(e){return e.ctrlKey||e.altKey||e.metaKey},e.forEach=function(e,t,i){if(e.hasOwnProperty("length"))for(var n=0,o=e.length;o>n&&t.call(i,e[n],n,e)!==!1;n++);else for(var s in e)if(e.hasOwnProperty(s)&&t.call(i,e[s],s,e)===!1)break},e}(),s=function(e,t){function i(i){var o=[],s=[];t.forEach(i,function(i){t.forEach(i,function(t,i){var r=e.parse(t),a=n(i);return o.push(a),s.push(r),!1})});var r=function(e){var i;return t.forEach(o,function(t,n){return t.test(e)?(i=n,!1):void 0}),void 0===i?null:s[i]};return{getPattern:r,patterns:s,matchers:o}}var n=function(e){return"*"===e?/.*/:new RegExp(e)};return i}(n,o),r=function(){var e={};return e.get=function(e){if("number"==typeof e.selectionStart)return{begin:e.selectionStart,end:e.selectionEnd};var t=document.selection.createRange();if(t&&t.parentElement()===e){var i=e.createTextRange(),n=e.createTextRange(),o=e.value.length;return i.moveToBookmark(t.getBookmark()),n.collapse(!1),i.compareEndPoints("StartToEnd",n)>-1?{begin:o,end:o}:{begin:-i.moveStart("character",-o),end:-i.moveEnd("character",-o)}}return{begin:0,end:0}},e.set=function(e,t){if("object"!==("undefined"==typeof t?"undefined":babelHelpers["typeof"](t))&&(t={begin:t,end:t}),e.setSelectionRange)e.focus(),e.setSelectionRange(t.begin,t.end);else if(e.createTextRange){var i=e.createTextRange();i.collapse(!0),i.moveEnd("character",t.end),i.moveStart("character",t.begin),i.select()}},e}(),a=function(e,t,i){function n(t,n){var s=this;if(s.el=t,!s.el)throw new TypeError("Must provide an existing element");if(s.opts=i.extend({},o,n),"undefined"!=typeof s.opts.pattern&&(s.opts.patterns=s._specFromSinglePattern(s.opts.pattern),delete s.opts.pattern),"undefined"==typeof s.opts.patterns)throw new TypeError("Must provide a pattern or array of patterns");s.patternMatcher=e(s.opts.patterns),s._updatePattern(),s.hldrs={},s.focus=0,i.addListener(s.el,"keydown",function(e){s._keyDown(e)}),i.addListener(s.el,"keypress",function(e){s._keyPress(e)}),i.addListener(s.el,"paste",function(e){s._paste(e)}),s.opts.persistent&&(s._processKey("",!1),s.el.blur(),i.addListener(s.el,"focus",function(e){s._focus(e)}),i.addListener(s.el,"click",function(e){s._focus(e)}),i.addListener(s.el,"touchstart",function(e){s._focus(e)}))}var o={persistent:!1,repeat:!1,placeholder:" "},s={9:/[0-9]/,a:/[A-Za-z]/,"*":/[A-Za-z0-9]/};return n.addInptType=function(e,t){s[e]=t},n.prototype.resetPattern=function(i){this.opts.patterns=i?this._specFromSinglePattern(i):this.opts.patterns,this.sel=t.get(this.el),this.val=this.el.value,this.delta=0,this._removeChars(),this.patternMatcher=e(this.opts.patterns);var n=this.patternMatcher.getPattern(this.val);this.mLength=n.mLength,this.chars=n.chars,this.inpts=n.inpts,this._processKey("",!1,!0)},n.prototype._updatePattern=function(){var e=this.patternMatcher.getPattern(this.val);e&&(this.mLength=e.mLength,this.chars=e.chars,this.inpts=e.inpts)},n.prototype._keyDown=function(e){var t=e.which||e.keyCode;return t&&i.isDelKeyDown(e.which,e.keyCode)?(this._processKey(null,t),i.preventDefault(e)):void 0},n.prototype._keyPress=function(e){var t,n;return t=e.which||e.keyCode,n=i.isSpecialKeyPress(e.which,e.keyCode),i.isDelKeyPress(e.which,e.keyCode)||n||i.isModifier(e)?void 0:(this._processKey(String.fromCharCode(t),!1),i.preventDefault(e))},n.prototype._paste=function(e){var t=i.getClip(e);if(null!=t)return this._processKey(t,!1),i.preventDefault(e);var n=this;window.setTimeout(function(){n._processKey("",!1,!0)},0)},n.prototype._focus=function(){var e=this;setTimeout(function(){var i=t.get(e.el),n=i.end>e.focus,o=0===i.end;(n||o)&&t.set(e.el,e.focus)},0)},n.prototype._processKey=function(e,n,o){if(this.sel=t.get(this.el),this.val=this.el.value,this.delta=0,this.sel.begin!==this.sel.end)this.delta=-1*Math.abs(this.sel.begin-this.sel.end),this.val=i.removeChars(this.val,this.sel.begin,this.sel.end);else if(n&&46===n)this._delete();else if(n&&this.sel.begin-1>=0)this.val=i.removeChars(this.val,this.sel.end-1,this.sel.end),this.delta-=1;else if(n)return!0;n||(this.val=i.addChars(this.val,e,this.sel.begin),this.delta+=e.length),this._formatValue(o)},n.prototype._delete=function(){for(;this.chars[this.sel.begin];)this._nextPos();this.sel.begin<this.val.length&&(this._nextPos(),this.val=i.removeChars(this.val,this.sel.end-1,this.sel.end),this.delta=-1)},n.prototype._nextPos=function(){this.sel.end++,this.sel.begin++},n.prototype._formatValue=function(e){this.newPos=this.sel.end+this.delta,this._removeChars(),this._updatePattern(),this._validateInpts(),this._addChars(),this.el.value=this.val.substr(0,this.mLength),"undefined"!=typeof e&&e!==!1||t.set(this.el,this.newPos)},n.prototype._removeChars=function(){this.sel.end>this.focus&&(this.delta+=this.sel.end-this.focus);for(var e=0,t=0;t<=this.mLength;t++){var n,o=this.chars[t],s=this.hldrs[t],r=t+e;r=t>=this.sel.begin?r+this.delta:r,n=this.val.charAt(r),(o&&o===n||s&&s===n)&&(this.val=i.removeChars(this.val,r,r+1),e--)}this.hldrs={},this.focus=this.val.length},n.prototype._validateInpts=function(){for(var e=0;e<this.val.length;e++){var t=this.inpts[e],n=!s[t],o=!n&&!s[t].test(this.val.charAt(e)),r=this.inpts[e];(n||o)&&r&&(this.val=i.removeChars(this.val,e,e+1),this.focusStart--,this.newPos--,this.delta--,e--)}},n.prototype._addChars=function(){if(this.opts.persistent){for(var e=0;e<=this.mLength;e++)this.val.charAt(e)||(this.val=i.addChars(this.val,this.opts.placeholder,e),this.hldrs[e]=this.opts.placeholder),this._addChar(e);for(;this.chars[this.focus];)this.focus++}else for(var t=0;t<=this.val.length;t++){if(this.delta<=0&&t===this.focus)return!0;this._addChar(t)}},n.prototype._addChar=function(e){var t=this.chars[e];return t?(i.isBetween(e,[this.sel.begin-1,this.newPos+1])&&(this.newPos++,this.delta++),e<=this.focus&&this.focus++,this.hldrs[e]&&(delete this.hldrs[e],this.hldrs[e+1]=this.opts.placeholder),void(this.val=i.addChars(this.val,t,e))):!0},n.prototype._specFromSinglePattern=function(e){return[{"*":e}]},n}(s,r,o);return a})}(),Formatter.isBrowserCompatible=function(){var e=navigator.userAgent.toLowerCase(),t=-1!==e.indexOf("android"),i=-1!==e.indexOf("firefox/"),n=-1!==e.indexOf("chrome"),o=-1!==e.indexOf("iemobile"),s=-1!==e.indexOf("windows phone"),r=0;n&&(r=parseInt(window.navigator.appVersion.match(/Chrome\/(\d+)\./)[1],10));var a=-1!==e.indexOf("opera mobi/"),c=!(a||t&&i||t&&n&&38>r||o&&s);return c},e(Formatter)}),modules.define("input",["i-bem__dom","lodash"],function(e,t,i){e(t.decl({block:"input",modName:"international-phone",modVal:"yes"},{onSetMod:{js:function(){var e=this;this.__base.apply(this,arguments),this._currentPhoneType="russian";var t=i.get(this,"params.formatterOptions.pattern"),n=i.get(this,"params.formatterOptions.internationalPattern");this.on("change",function(){e._isRussianPhone(e.val())?e._setPattern(t,"russian"):e._setPattern(n,"international")})}},_isRussianPhone:function(e){return!!/^\+7\s?[34589]/.exec(e)},_setPattern:function(e,t){t!==this._currentPhoneType&&(this._currentPhoneType=t,this.formatter.resetPattern(e))}}))}),modules.define("input",["i-bem__dom"],function(e,t){e(t.decl({name:"input",modName:"type",modVal:"adulthood"},{onSetMod:{js:function(){this.__base.apply(this,arguments),this._checkBirthDate(),this._adulthoodIsValid=!0}},_checkBirthDate:function(){var e=this,t=this.bValidation;t.on("error",function(t,i){i&&"adulthood"===i.type&&(e._adulthoodIsValid=!1)})}}))}),modules.define("input",["i-bem__dom"],function(e,t){e(t.decl({name:"input",modName:"type",modVal:"adulthood"},{onSetMod:{js:function(){this.__base.apply(this,arguments),this._minAge=this.params.minAge||18,this._bPopup=this.findBlockInside({block:"popup2",modName:"target",modVal:"anchor"}),this._bIcon=this.findBlockInside({block:"icon",modName:"name",modVal:this._minAge+"-year"}),this._bPopup.setAnchor(this._bIcon.domElem),this._popupVisibilityHandler()}},_popupVisibilityHandler:function(){var e=this;this._bIcon.bindTo("click",function(){var t=e._bPopup.hasMod("autoclosable","yes"),i=e._bPopup.hasMod("visible","yes");t||i||e._bPopup.setMod("autoclosable","yes"),e._bPopup.setMod("visible","yes")}),this.on("blur",function(){e._adulthoodIsValid?e._bIcon.setMod("name",e._minAge+"-year"):(e._showWarning(),e._bPopup.delMod("autoclosable")),e._adulthoodIsValid=!0}),this.on("focus",function(){e._bPopup.delMod("visible")})},_showWarning:function(){this._bIcon.setMod("name",this._minAge+"-year-red"),this._bPopup.setMod("visible","yes")}}))}),BEM.DOM.decl({block:"popup2",modName:"target"},{onSetMod:{js:{inited:function(){var e=this.__self.AVAILABLE_DIRECTIONS;this.params.directions.forEach(function(t){if(-1===e.indexOf(t))throw new Error("Can't init popup with \""+t+'" direction. Available directions: '+e.join(", "))}),this.__base.apply(this,arguments),this._lastPopupDrawingCss={left:void 0,top:void 0,zIndex:void 0,display:void 0},this._lastTailDrawingCss={left:void 0,top:void 0}}},visible:{yes:function(){this.__base.apply(this,arguments),this.bindToWin("scroll resize",this._onWinScollAndResize).setMod("outside","yes").redraw().delMod("outside")},"":function(){this.__base.apply(this,arguments),this.unbindFromWin("scroll resize")}}},setContent:function(){return this.__base.apply(this,arguments).redraw()},redraw:function(){function e(e,t){var i=!1;return Object.keys(t).forEach(function(n){var o=t[n];e[n]!==o&&(e[n]=o,i=!0)}),i}if(!this.hasMod("visible","yes")&&!this.hasMod("outside","yes"))return this;var t=this._calcBestDrawingParams();return this.setMod("direction",t.direction),e(this._lastPopupDrawingCss,this._calcDrawingCss(t))&&this.domElem.css(this._lastPopupDrawingCss),e(this._lastTailDrawingCss,this._calcTailDrawingCss(t))&&this.elem("tail").css(this._lastTailDrawingCss),this},_calcDrawingCss:function(e){return{left:e.left,top:e.top}},_calcTailDrawingCss:function(e){return{left:e.tail.left,top:e.tail.top}},calcPossibleDrawingParams:function(){var e=this._calcTargetDimensions(),t=this._calcViewportDimensions(),i=this._calcOffsets();return this.params.directions.map(function(n){var o={direction:n,width:0,height:0,left:0,top:0};return this._checkMainDirection(n,"bottom")?(o.top=e.top+e.height+i.main,o.height=t.bottom-o.top-i.viewport):this._checkMainDirection(n,"top")?(o.height=e.top-t.top-i.main-i.viewport,o.top=e.top-o.height-i.main):(this._checkSecondaryDirection(n,"center")?(o.height=t.bottom-t.top-2*i.viewport,o.top=e.top+(e.height-o.height)/2):this._checkSecondaryDirection(n,"bottom")?(o.height=e.top+e.height-t.top-i.secondary-i.viewport,o.top=e.top+e.height-o.height-i.secondary):this._checkSecondaryDirection(n,"top")&&(o.top=e.top+i.secondary,o.height=t.bottom-o.top-i.viewport),this._checkMainDirection(n,"left")?(o.width=e.left-t.left-i.main-i.viewport,o.left=e.left-o.width-i.main):(o.left=e.left+e.width+i.main,o.width=t.right-o.left-i.viewport)),this._checkSecondaryDirection(n,"right")?(o.width=e.left+e.width-t.left-i.secondary-i.viewport,o.left=e.left+e.width-o.width-i.secondary):this._checkSecondaryDirection(n,"left")?(o.left=e.left+i.secondary,o.width=t.right-o.left-i.viewport):this._checkSecondaryDirection(n,"center")&&this._checkMainDirection(n,"top","bottom")&&(o.width=t.right-t.left-2*i.viewport,o.left=e.left+e.width/2-o.width/2),o},this)},_calcBestDrawingParams:function(){for(var e,t,i,n,o,s,r=this._calcPopupDimensions(),a=this._calcTargetDimensions(),c=this._calcViewportDimensions(),l=this.params.directions,d=l.length,h=0;d>h&&(e=l[h],t=this._calcPos(e,a,r),i=this._calcViewportFactor(t,c,r),(0===h||i>s||!s&&this.hasMod("direction",e))&&(n=e,s=i,o=t),!(s>this.__self.VIEWPORT_ACCURACY_FACTOR));h++);return{direction:n,left:o.left,top:o.top,tail:this._calcTailPos(n,a,r,o)}},_calcPopupDimensions:function(){var e=this.domElem.outerWidth(),t=this.domElem.outerHeight();return{width:e,height:t,innerWidth:this.domElem.innerWidth(),innerHeight:this.domElem.innerHeight(),area:e*t}},_calcTailDimension:function(){var e=this.elem("tail");return e.length>0&&"none"!==e.css("display")?this.elem("tail").outerWidth():0},_calcTargetDimensions:function(){},_calcViewportDimensions:function(){var e=BEM.DOM.win,t=e.scrollTop(),i=e.scrollLeft(),n=e.width(),o=e.height();return{top:t,left:i,bottom:t+o,right:i+n}},_calcPos:function(e,t,i){var n={},o=this._calcOffsets();return this._checkMainDirection(e,"bottom")?n.top=t.top+t.height+o.main:this._checkMainDirection(e,"top")?n.top=t.top-i.height-o.main:this._checkMainDirection(e,"left")?n.left=t.left-i.width-o.main:this._checkMainDirection(e,"right")&&(n.left=t.left+t.width+o.main),this._checkSecondaryDirection(e,"right")?n.left=t.left+t.width-i.width-o.secondary:this._checkSecondaryDirection(e,"left")?n.left=t.left+o.secondary:this._checkSecondaryDirection(e,"bottom")?n.top=t.top+t.height-i.height-o.secondary:this._checkSecondaryDirection(e,"top")?n.top=t.top+o.secondary:this._checkSecondaryDirection(e,"center")&&(this._checkMainDirection(e,"top","bottom")?n.left=t.left+t.width/2-i.width/2:this._checkMainDirection(e,"left","right")&&(n.top=t.top+t.height/2-i.height/2)),n},_calcTailPos:function(e,t,i,n){var o={},s=this._calcTailDimension()/2;return this._checkMainDirection(e,"bottom")?o.top=-s:this._checkMainDirection(e,"top")?o.top=Math.floor(i.innerHeight-s):this._checkMainDirection(e,"left")?o.left=Math.floor(i.innerWidth-s):this._checkMainDirection(e,"right")&&(o.left=-s),this._checkSecondaryDirection(e,"right")?o.left=i.innerWidth-Math.ceil(Math.min(i.innerWidth,t.width)/2)-s:this._checkSecondaryDirection(e,"left")?o.left=Math.ceil(Math.min(i.innerWidth,t.width)/2)-s:this._checkSecondaryDirection(e,"bottom")?o.top=i.innerHeight-Math.ceil(Math.min(i.innerHeight,t.height)/2)-s:this._checkSecondaryDirection(e,"top")?o.top=Math.ceil(Math.min(i.innerHeight,t.height)/2)-s:this._checkSecondaryDirection(e,"center")&&(this._checkMainDirection(e,"top","bottom")?o.left=Math.ceil(i.innerWidth/2)-s:o.top=Math.ceil(i.innerHeight/2)-s),o},_calcViewportFactor:function(e,t,i){var n=this.params.viewportOffset,o=Math.max(e.left,t.left+n),s=Math.min(e.left+i.width,t.right-n),r=Math.max(e.top,t.top+n),a=Math.min(e.top+i.height,t.bottom-n);return s>o&&a>r?(s-o)*(a-r)/i.area:0},_calcOffsets:function(){var e=this.params,t=Math.round(this._calcTailDimension()*Math.SQRT1_2);return{main:Math.max(e.mainOffset,t),secondary:e.secondaryOffset,viewport:e.viewportOffset}},_checkMainDirection:function(e,t,i){return 0===e.indexOf(t)||i&&0===e.indexOf(i)},_checkSecondaryDirection:function(e,t){return e.indexOf("-"+t)>0},_checkDirection:function(e,t){return e.indexOf(t)>=0},_onWinScollAndResize:function(e){this.redraw()},getDefaultParams:function(){return $.extend(this.__base.apply(this,arguments),{mainOffset:0,secondaryOffset:0,viewportOffset:0,directions:this.__self.AVAILABLE_DIRECTIONS})}},{VIEWPORT_ACCURACY_FACTOR:.99,AVAILABLE_DIRECTIONS:["bottom-left","bottom-center","bottom-right","top-left","top-center","top-right","right-top","right-center","right-bottom","left-top","left-center","left-bottom"]}),function(e){function t(e,t){return e.addClass("i-bem "+t).bem(t)}BEM.DOM.decl({block:"popup2",modName:"target",modVal:"anchor"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._anchor=null,this._anchorParents=null,this._destructor=null,this._isAnchorVisible=void 0,this._updateIsAnchorVisible=e.throttle(this._updateIsAnchorVisible,this.__self.UPDATE_TARGET_VISIBILITY_THROTTLING_INTERVAL,this);
}},visible:{yes:function(){if(!this._anchor)throw new Error("Can't show popup without anchor");this._anchorParents=this._anchor.parents(),this._bindToAnchorParents(),this.__base.apply(this,arguments)},"":function(){this.__base.apply(this,arguments),this._unbindFromAnchorParents(),this._anchorParents=null,this._isAnchorVisible=void 0}}},destruct:function(){this._unbindFromDestructor(),this.__base.apply(this,arguments)},setAnchor:function(e){return this._unbindFromAnchorParents()._unbindFromParentPopup()._unbindFromDestructor(),this._anchor=e instanceof BEM.DOM?e.domElem:e,this._destructor=t(this._anchor,"_"+this.__self.getName()+"-destructor"),this._isAnchorVisible=void 0,this._bindToDestructor(),this.hasMod("visible","yes")?(this._anchorParents=this._anchor.parents(),this._recaptureZIndex()._bindToAnchorParents()._bindToParentPopup().redraw()):(this._anchorParents=null,this._zIndexGroupLevel=null),this},_calcTargetDimensions:function(){var e=this._anchor,t=this._getOffsetOf(e);return{left:t.left,top:t.top,width:e.outerWidth(),height:e.outerHeight()}},_getOffsetOf:function(e){var t=e.offset();return"pageYOffset"in window&&(t.top-=window.pageYOffset-(document.documentElement.scrollTop||document.body.scrollTop),t.left-=window.pageXOffset-(document.documentElement.scrollLeft||document.body.scrollLeft)),t},_calcDrawingCss:function(t){return"undefined"==typeof this._isAnchorVisible&&(this._isAnchorVisible=this._calcIsAnchorVisible()),e.extend(this.__base(t),{display:this._isAnchorVisible?"":"none"})},_calcIsAnchorVisible:function(){var t=this._anchor,i=this._getOffsetOf(t),n=i.left,o=i.top,s=n+t.outerWidth(),r=o+t.outerHeight(),a=this.getMod("direction"),c=Math.floor(this._checkDirection(a,"top")?o:r),l=Math.floor(this._checkDirection(a,"left")?n:s),d=!0;return this._anchorParents.each(function(t,i){if("BODY"===i.tagName)return!1;i=e(i);var n=/scroll|hidden|auto/,o=n.test(i.css("overflow-y")),s=n.test(i.css("overflow-x"));if(o||s){var r=this._getOffsetOf(i),a=Math.floor(r.top);if(a>c||a+i.outerHeight()<c)return d=!1;var h=Math.floor(r.left);return d=l>=h&&h+i.outerWidth()>=l}}.bind(this)),d},_calcZIndexGroupLevel:function(){var e=this.__base.apply(this,arguments);return this._destructor.findBlocksOutside("z-index-group").reduce(function(e,t){return e+Number(t.getMod("level"))},e)},_bindToAnchorParents:function(){return this.bindTo(this._anchorParents,"scroll",this._onAnchorParentsScroll)},_unbindFromAnchorParents:function(){return this._anchorParents&&this.unbindFrom(this._anchorParents,"scroll"),this},_onAnchorParentsScroll:function(){this.redraw()._updateIsAnchorVisible()},_onWinScollAndResize:function(){this.__base.apply(this,arguments),this._updateIsAnchorVisible()},_updateIsAnchorVisible:function(){if(this.domElem){var e=this._calcIsAnchorVisible();e!==this._isAnchorVisible&&(this._isAnchorVisible=e,this.redraw())}},_bindToDestructor:function(){return this._destructor.on("destruct",this._onPopupAnchorDestruct,this),this},_unbindFromDestructor:function(){return this._destructor&&this._destructor.un("destruct",this._onPopupAnchorDestruct,this),this},_onPopupAnchorDestruct:function(){this.domElem&&BEM.DOM.destruct(this.domElem)},_getParentPopup:function(){return void 0===this._parentPopup&&(this._parentPopup=this.findBlockOutside(this._anchor,this.__self.getName())),this._parentPopup}},{UPDATE_TARGET_VISIBILITY_THROTTLING_INTERVAL:100});var i=BEM.DOM;i.decl("_popup2-destructor",{destruct:function(){this.trigger("destruct"),this.__base.apply(this,arguments)}})}(jQuery),BEM.DOM.decl({block:"popup2",modName:"theme",modVal:"normal"},{getDefaultParams:function(){return $.extend(this.__base(),{mainOffset:5,viewportOffset:5})}}),BEM.DOM.decl({block:"popup2",modName:"autoclosable",modVal:"yes"},{onSetMod:{visible:{yes:function(){this.__self._visiblePopupsStack.unshift(this),this.afterCurrentEvent(function(){this.domElem&&this.bindToDoc("pointerclick",this._onDocClick)}),this.__base.apply(this,arguments)},"":function(){var e=this.__self._visiblePopupsStack;e.splice(e.indexOf(this),1),this.unbindFromDoc("pointerclick").__base.apply(this,arguments)}}},_onDocClick:function(e){this.hasMod("target","anchor")&&(this._anchor[0]===e.target||this._anchor.find(e.target).length>0)||(this._preventHideByClick?this._preventHideByClick=null:this.delMod("visible"))}},{live:function(){return BEM.DOM.doc.on("keydown",this._onDocKeyPress.bind(this)),this.__base()},_visiblePopupsStack:[],_onDocKeyPress:function(e){BEM.blocks.keycodes.is(e.keyCode,"ESC")&&this._visiblePopupsStack.length&&this._visiblePopupsStack[0].delMod("visible")}}),modules.define("input",["i-bem__dom","BEMHTML","message"],function(e,t,i){e(t.decl({block:this.name,modName:"notice",modVal:"simple"},{onSetMod:{js:function(){this.__base.apply(this,arguments),this.un("focus",this.hideErrorTip,this),this.on("blur",this.hideHintTip,this)}},showErrorTip:function(e){this._showTip(e,"error")},_showTip:function(e,t){var n=e&&e.content||e,o=e&&e.unclosable||"",s=this.findBlockInside({block:"message",modName:"type",modVal:t});if(s)s.setContent(n);else{var r=i.apply({block:"message",mods:{type:t,slidable:"yes",unclosable:o},content:n});s=this._insertTip(r,t)}"error"===t&&this.hideHintTip(),s.toggleMessage("show")},showHintTip:function(e){this._showTip(e,"hint")},_insertTip:function(e,t){var i=this.domElem.append(e);return BEM.DOM.init(i),this.findBlockInside({block:"message",modName:"type",modVal:t})},hideErrorTip:function(){this.hideTip("error")},hideHintTip:function(){this.hideTip("hint")},hideTip:function(e){var t=this.findBlockInside({block:"message",modName:"type",modVal:e});t&&!t.hasMod("unclosable")&&t.toggleMessage("hide")}}))}),modules.define("message",["i-bem__dom"],function(e,t){e(t.decl(this.name,{setContent:function(e){this.domElem.html(e)},toggleMessage:function(e){var t=this,i=this.hasMod("slidable")?"slide":"simple",n="hide"===e,o={show:{simple:"show",slide:"slideDown"},hide:{simple:"hide",slide:"slideUp"}},s=o[e][i];this.domElem[s]({complete:function(){t.toggleMod("hidden","yes",n),t.trigger(s)}})}}))}),BEM.DOM.decl("tabs-panes",{onElemSetMod:{pane:{active:{yes:function(e,t,i){var n=this.findPane("active","yes");n.attr("aria-expanded",!1),e.attr("aria-expanded",!0),this.delMod(n,"active")}}}},_onControlChange:function(e,t){return-1===t.currentIndex?void this.delMod(this.findPane().eq(t.prevIndex),"active"):void this.setMod(this.findPane().eq(t.currentIndex),"active","yes")},findPane:function(e,t){return this.domElem.children(this.buildSelector("pane",e,t))}},{getSupportedControls:function(){return["tabs"]},live:function(){this.getSupportedControls().forEach(function(e){BEM.blocks[e]&&this.liveInitOnBlockEvent("change",e,function(e,t){this._onControlChange(e,t)})},this)}}),modules.define("tabs-panes",["i-bem__dom","lodash","yamoney-lib"],function(e,t,i,n){e(t.decl("tabs-panes",{onElemSetMod:{pane:{active:{yes:function(e,t,i){var n=this.findPane("active","yes");n.attr("aria-expanded",!1),e.attr("aria-expanded",!0),this.delMod(n,"active")}}}},_onControlChange:function(e,t){this.__base.apply(this,arguments);var o,s=this,r=this.domElem.eq(1),a=s.findPane(),c=a.eq(t.currentIndex);r.attr("show-all-tab-index")&&(o=n.utils.toNum(r.attr("show-all-tab-index"),0)),s.setMod(c,"active","yes"),(o||0===o)&&(t.currentIndex===o?i.forEach(a,function(e){s.togglePane($(e),!0)}):t.prevIndex===o&&i.forEach(a,function(e){s.togglePane($(e),!1)}))},togglePane:function(e,t){var i=this.findElem(e,"out-tab"),n=this.findElem(e,"in-tab");this.toggleMod(e,"state","visible",t),i.length&&this.toggleMod(i,"state","visible",t),n.length&&this.toggleMod(n,"state","","visible",t)}}))}),BEM.DOM.decl("tabs-menu",{onSetMod:{js:{inited:function(){this._linksCache=[],this._isSwitching=!1}}},onElemSetMod:{tab:{active:{yes:function(e){var t=this.getActive();this._isSwitching=!0,this.delMod(t,"active"),this._isSwitching=!1,this.trigger("change",{current:e,prev:t,currentIndex:this.indexOfTab(e),prevIndex:this.indexOfTab(t)})},"":function(e){this._isSwitching||this.trigger("change",{current:$(),prev:e,currentIndex:-1,prevIndex:this.indexOfTab(e)})}},disabled:function(e,t,i){var n=this._getLink(e).setMod("disabled",i);this.hasMod(e,"interactive","yes")&&(n.domElem.removeAttr("tabindex"),"yes"===i?e.attr("aria-disabled",!0):e.removeAttr("aria-disabled"))}}},getActive:function(){return this.findElem("tab","active","yes")},getTab:function(e){return this.elem("tab","interactive","yes").eq(e)},indexOfTab:function(e){return $.inArray(e.get(0),this.elem("tab","interactive","yes"))},_getTabByElem:function(e){return e.closest(this.buildSelector("tab"))},_getLink:function(e){var t=$.inArray(e.get(0),this.elem("tab"));return this._linksCache[t]||(this._linksCache[t]=this.findBlockInside(e,"link"))},_activateRelative:function(e){var t=this.elem("tab","interactive","yes").not(this.findElem("tab","disabled","yes")),i=$.inArray(this.getActive().get(0),t)+e;0>i||i>t.length||this.setMod(t.eq(i),"active","yes")},_onTabClick:function(e){this.setMod(this._getTabByElem($(e.target)),"active","yes")},_onTabKeyDown:function(e){if(!(e.shiftKey||e.ctrlKey||e.altKey||e.metaKey)){var t=BEM.blocks.keycodes;t.is(e.keyCode,"RIGHT","DOWN")?(e.preventDefault(),this._activateRelative(1)):t.is(e.keyCode,"LEFT","UP")&&(e.preventDefault(),this._activateRelative(-1))}}},{live:function(){this.liveBindTo("tab","pointerclick",function(e){this.hasMod($(e.data.domElem),"disabled")||this._onTabClick(e)}).liveBindTo("tab","keydown",function(e){this._onTabKeyDown(e)})}}),BEM.DOM.decl("tabs-menu",{onElemSetMod:{tab:{active:{yes:function(e){var t=this.getActive();if(this.__base.apply(this,arguments)===!1)return!1;e.attr("tabindex",0);try{e.focus()}catch(i){}t.removeAttr("tabindex")}},disabled:function(e,t,i){this.__base.apply(this,arguments),"yes"===i&&this.hasMod(e,"active","yes")?e.attr("tabindex",0):e.removeAttr("tabindex")}}},_onTabEnter:function(e,t){this.setMod(e,"hovered","yes")},_onTabLeave:function(e,t){this.delMod(e,"hovered")}},{live:function(){return this.liveBindTo("tab","pointerover pointerout",function(e){var t=e.data.domElem;this.hasMod(t,"disabled")||t[0].contains(e.relatedTarget)||("pointerover"===e.type?this._onTabEnter(t,e):this._onTabLeave(t,e))}),this.__base()}}),BEM.DOM.decl("tabs",{getCount:function(){return this.elem("tab").length},activate:function(e){return this},deactivate:function(){return this},getActive:function(){return-1},disable:function(e){return this},enable:function(e){return this},isDisabled:function(e){},_onControlChange:function(e,t){}},{getSupportedControls:function(){return["tabs-menu","radio-button"]},live:function(){this.getSupportedControls().forEach(function(e){BEM.blocks[e]&&this.liveInitOnBlockInsideEvent("change",e,function(e,t){this._onControlChange(e,t)})},this)}}),modules.define("tabs",["i-bem__dom"],function(e,t){e(t.decl({block:"tabs"},{},{getSupportedControls:function(){var e=["select"];return this.__base.apply(this,arguments).concat(e)}}))}),BEM.DOM.decl({block:"tabs",modName:"control",modVal:"menu"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._tabsMenu=this.findBlockOn("control","tabs-menu")}}},activate:function(e){return this._tabsMenu.setMod(this._tabsMenu.getTab(e),"active","yes"),this},deactivate:function(){return this._tabsMenu.delMod(this._tabsMenu.getActive(),"active","yes"),this},disable:function(e){return this._tabsMenu.setMod(this._tabsMenu.getTab(e),"disabled","yes"),this},enable:function(e){return this._tabsMenu.delMod(this._tabsMenu.getTab(e),"disabled"),this},getActive:function(){return this._tabsMenu.indexOfTab(this._tabsMenu.getActive())},isDisabled:function(e){return this._tabsMenu.hasMod(this._tabsMenu.getTab(e),"disabled","yes")},_onControlChange:function(e,t){t.current.attr("aria-selected",!0),t.prev.attr("aria-selected",!1),this.trigger("change",{currentIndex:t.currentIndex,prevIndex:t.prevIndex})}}),modules.define("b-page",["i-bem__dom"],function(e,t){e(t.decl({block:this.name,modName:"pageId",modVal:"quickpay-constructor"},{onSetMod:{js:function(){this.__base.apply(this,arguments),this._initHandlers()}},_initHandlers:function(){var e=this,t=this.findBlockInside("tabs");t.on("change",function(){e.findBlocksInside({block:"tooltip",modName:"shown",modVal:"yes"}).forEach(function(e){e.findBlockOn("popup").hide()})})}}))}),modules.define("quickpay-constructor",["i-bem__dom"],function(e,t){e(t.decl({block:this.name},{onSetMod:{js:function(){var e=this;this.__base.apply(this,arguments),this._bForm=this.findBlockOn(this.elem("form"),"form"),this._bForm&&(this._$previewContainer=this.elem("preview"),this._type=this.params.type||"button",this._bForm.on("state-change",function(t,i){e.buildPreview(i)}))}},_getWidgetType:function(){var e={button:"small",form:"shop"};return e[this._type]},_getIframeSrc:function(e){var t=Object.keys(e).map(function(t){return"paymentType"!==t?t+"="+encodeURIComponent(e[t]):void 0});return this.params.baseUrl+"?"+t.join("&")},_getMetrikaData:function(e,t){return Object.keys(e).reduce(function(t,i){return"account"===i?t:(t["quickpay."+i]=e[i],t)},{"quickpay.type":t})}}))}),modules.define("quickpay-constructor",["i-bem__dom","BEMHTML","jquery","lodash"],function(e,t,i,n,o){e(t.decl({block:this.name,modName:"type",modVal:"form"},{onSetMod:{js:function(){this.__base.apply(this,arguments)}},buildPreview:function(e){this._$previewContainer.empty();var o=n(i.apply(this._createPreviewBemJson(e))).appendTo(this._$previewContainer);t.init(n(i.apply(this._getSourceCodeBemJson(e,this.findBlockInside("widget-shop").domElem)))).appendTo(this._$previewContainer),t.init(o)},_createPreviewBemJson:function(e){var t=this._getWidgetType();return{block:"quickpay-constructor-preview",elem:"widget",elemMods:{type:t},widgetOptions:this.getWidgetOptions(e),widgetType:t}},_getSourceCodeBemJson:function(e,t){return{block:"quickpay-constructor-preview",elem:"source-code",rows:this.params.isTouch?6:8,placeholder:BEM.I18N("form","constructor-preview-placeholder-form"),sourceCode:this.getSourceCode(e,t),label:BEM.I18N("quickpay-constructor","constructor-preview-label-form"),metrikaData:this._getMetrikaData(e,"form")}},getSourceCode:function(e,t){if("seller"===e.writer&&!e.targets)return!1;var i=this._getIframeSrc(e),n=t.outerWidth(!0),o=t.outerHeight(!0);return'<iframe src="'+i+'" width="'+n+'" height="'+o+'" frameborder="0" allowtransparency="true" scrolling="no"></iframe>'},getWidgetOptions:function(e){var t=[];return e["payment-type-choice"]&&t.push("AC"),e["mobile-payment-type-choice"]&&t.push("MC"),{paymentType:e.paymentType,isPreview:!0,isAdapt:!1,isTouch:this.params.isTouch||!1,widgetType:"shop",enabledMethods:t,alwaysPresentMethod:"PC",writer:o.escape(e.writer||"").toLowerCase(),targets:e.targets||"",targetsEscaped:o.escape(e.targets||""),enableComment:"on"===e.comment,commentHint:e.hint,targetsHint:o.escape(e["targets-hint"]||""),defaultSum:o.escape(e["default-sum"]||""),buttonText:e["button-text"]}}}))}),modules.define("quickpay-constructor",["i-bem__dom","BEMHTML","jquery","lodash"],function(e,t,i,n,o){e(t.decl({block:this.name,modName:"type",modVal:"button"},{onSetMod:{js:function(){this._paymentTypes=this.params.paymentTypes,this.__base.apply(this,arguments)}},buildPreview:function(e){var o=this,s=Object.keys(this._paymentTypes).reduce(function(t,i){return e[i]?t+1:t},0),r=Object.keys(this._paymentTypes).map(function(t){if(e[t]){var i=o._getPreviewDataObject(e,t);return o._createOnePreviewBemJson(i,t,s)}});this._$previewContainer.empty(),t.init(n(i.apply(r)).appendTo(this._$previewContainer))},_getPreviewDataObject:function(e,t){var i=o.merge({},e);return Object.keys(this._paymentTypes).forEach(function(e){e!==t&&delete i[e]}),i.paymentType=this._paymentTypes[t],i},_createOnePreviewBemJson:function(e,t,i){return{block:"quickpay-constructor-preview",metrikaData:this._getMetrikaData(e,"button"),baseUrl:this.params.baseUrl,placeholder:BEM.I18N("form","constructor-preview-placeholder-"+t),widgetOptions:this.getWidgetOptions(e),widgetType:this._getWidgetType(),rows:this._getSourceCodeRows(this.params.isTouch,i),sourceCode:this.getSourceCode(e),label:BEM.I18N("quickpay-constructor","constructor-preview-label-button-"+t)}},_getSourceCodeRows:function(e,t){if(e)return 6;var i={0:0,1:8,2:5,3:3};return i[t]},getSourceCode:function(e){if(e["default-sum"]&&e.targets){var t=this.params.sizes,i=this._getIframeSrc(e),n=t[e["button-size"]][0],o=t[e["button-size"]][1];return'<iframe src="'+i+'" width="'+n+'" height="'+o+'" frameborder="0" allowtransparency="true" scrolling="no"></iframe>'}return!1},getWidgetOptions:function(e){return{paymentType:e.paymentType,text:e["button-text"],size:e["button-size"],color:e["button-color"],isPreview:!0,isTouch:this.params.isTouch||!1}}}))}),modules.define("form",["i-bem__dom","basis"],function(e,t,i){e(t.decl({block:this.name,modName:"handler",modVal:"quickpay-constructor"},{onSetMod:{js:function(){var e=this;this.__base.apply(this,arguments),this._requiredFields=this._requiredFields||this.params.requiredFields||[],this._bSumInput=this.findBlockOn(this.elem("control","name","default-sum"),"input"),this._initHandlers(),setTimeout(function(){return e._onFormChange(!1)},0)}},getFormData:function(){return this.domElem.serializeArray().reduce(function(e,t){return e[t.name]=t.value,e},{})},_onFormChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!0,t=this.getFormData(),i=e?this._checkRequired(t):!0,n=!0;i&&(n=this.validate()),n&&this.trigger("state-change",t),this._lastFormData=t},validate:function(){var e=this.setDefaultValidationParams(),t=this.findBlocksInside("validation"),i=!0;return t.forEach(function(t){var n=t.findBlockOn("input"),o=t.validate(e);o.done(function(){n&&n.hideErrorTip()}).fail(function(){i=!1})}),i},_checkRequired:function(e){var t=this;if(this._isRequiredEmpty(e)){var n=Object.keys(e).reduce(function(i,n){return e[n]===t._lastFormData[n]?i:i.concat(n)},[]);if(n.length&&!this._requiredFields.includes(n[0])){var o=this._getRequiredInputs(e),s=0;o.forEach(function(e){e.val()||(s++,e.showErrorTip({content:BEM.I18N("form","constructor-field-required")}))}),s>0&&i.customYandexMetricsGoal("quickpay_constructor_error_required")}return!1}return!0},_isRequiredEmpty:function(e){var t=this.__base.apply(this,arguments);return void 0!==t?t:this._requiredFields.some(function(t){return!e[t]})},_getRequiredInputs:function(){var e=this.__base.apply(this,arguments);return void 0!==e?e:this.findBlocksInside({block:"input",modName:"required",modVal:"yes"})},_initHandlers:function(){var e=this;"yes"===this._bSumInput.getMod("show-hint")&&this._bSumInput.on("focus click",function(){e._bSumInput.showHintTip({content:e._bSumInput.params.hintText})});var t=this.findBlockOn(this.elem("section-additional-data"),"form-additional-data"),i=this.elem("section-additional-data-opener");i.on("click",function(){t.toggleMod("state","open")});var n=this.findBlockOn(this.elem("control","name","mobile-payment-type"),"checkbox");n&&n.on("change",function(){var e=n.findBlockOn("tooltiper");n.isChecked()?e.showHintTip({content:BEM.I18N("form","constructor-mobile-hint")}):e.hideHintTip()});var o=this.findBlockOn(this.elem("control","name","button-text"),"select");o.on("change",function(){return e._onFormChange()});var s=this.elem("control");s.on("change input select",function(){return e._onFormChange()}),this.on("external-change",function(){return e._onFormChange(!1)})}}))}),modules.define("input",["i-bem__dom"],function(e,t,i){e(i.decl({name:this.name,modName:"selectable",modVal:"yes"},{onSetMod:{js:function(){this.__base.apply(this,arguments),this.elem("control").on("click",function(){this.select()})}}}))}),modules.define("quickpay-constructor-preview-widget",["i-bem__dom","basis"],function(e,t,i){e(t.decl({block:this.name},{onSetMod:{js:function(){var e=this;this.__base.apply(this,arguments);var t=this.findBlockOn("input");t.elem("control").on("click",function(){t.val()&&i.customYandexMetricsGoal("quickpay_constructor_success",e.params.metrikaData)})}}}))}),modules.define("domik-opener",["i-bem__dom"],function(e,t){e(t.decl({block:"domik-opener"},{onSetMod:{js:function(){this.__base.apply(this,arguments);var e=this.findBlockOutside("b-page"),t=e.findBlockInside("user");t&&this.domElem.on("click",function(e){t._domik.open(),e.preventDefault()})}}}))}),modules.define("quickpay-constructor-connector",["i-bem__dom","form","next-tick","lodash"],function(e,t,i,n,o){e(t.decl({block:"quickpay-constructor-connector"},{onSetMod:{js:function(){var e=this;this.__base.apply(this,arguments),this._constructorData={},i.on(this.domElem,"state-change",function(t,i){e._constructorData=i});var t=this.findBlockInside("tabs"),o=this.findBlockInside("tabs-panes");t.on("change",function(){n(function(){var t=o.findPane("active","yes").bem("pane");e.populateForm(t.findBlockInside({block:"form",modName:"handler",modVal:"quickpay-constructor"}))})})}},populateForm:function(e){if(e){var t=this._constructorData;if(!o.isEmpty(t)){var i=this._getCommonControlsList();i.forEach(function(i){var n=e.findBlockOn(e.elem("control","name",i.name),i.type);if(n)switch(i.type){case"checkbox":var o=[].concat(i.name).concat(i.dataNames).some(function(e){return t[e]});o?n.setMod("checked","yes"):n.delMod("checked");break;default:n.val(t[i.name])}}),e.trigger("external-change")}}},_getCommonControlsList:function(){return[{name:"targets",type:"input"},{name:"default-sum",type:"input"},{name:"button-text",type:"select"},{name:"fio",type:"checkbox"},{name:"phone",type:"checkbox"},{name:"mail",type:"checkbox"},{name:"address",type:"checkbox"},{name:"card-payment-type",type:"checkbox",dataNames:["any-card-payment-type","payment-type-choice"]},{name:"mobile-payment-type",type:"checkbox",dataNames:["mobile-payment-type-choice"]},{name:"successURL",type:"input"}]}}))}),"undefined"!=typeof BEM&&BEM.I18N&&(BEM.I18N.decl("b-page",{about:"About the service",card2card:"Online transfer to a bank card","card2card-description":"Transfer money between cards issued by any Russian bank. It's a fast and simple way to get money to your family, pay friends back, or replenish your credit card balance",contacts:"Contacts","default-og-description":"Payment service: payments and transfers, bank cards, and e-money",error:"Error","fastpay-promo":"Yandex.Billing","gibdd-promo":"Find and pay GIBDD traffic fines online. Check for outstanding fines by the number of your license or by vehicle registration certificate","insurance-choose-company":"Choose insurance company","insurance-form":"Specify your details","payment-topup-me-description":"I have a ready-made Yandex.Money page for accepting transfers. Select a card or Wallet on Yandex, confirm the payment, and that's it: I'll get the money in a minute. Awesome.",pin:"Gift code","portal-addresses":"List of the addressed the portal provides services for",prepaid:"Add money to a Wallet",reg:"Open a Wallet on Yandex.Money",settings:"Settings","shop-facebook-description":"I'm paying with Yandex.Money and invite all to join me","shop-seo-efos-description":function(e){return"You can add money to "+e.title+" account from a bank card, with Yandex.Money, or in cash. Without registering on our site."},"shop-seo-efos-title":function(e){return"Paying for "+e.title+" services from a bank card or using Yandex.Money"},"shop-seo-internet-description":function(e){return"You can pay for the internet "+e.title+" from a bank card, with Yandex.Money, or in cash. Without registration."},"shop-seo-internet-title":function(e){return"Pay for your home internet "+e.title+" from a bank card or with Yandex.Money"},"shop-seo-phone-description":function(e){return"You can pay invoice for "+e.title+" services on our site. Without registration, pay from bank cards, with Yandex.Money, or in cash."},"shop-seo-phone-title":function(e){return"Pay for landline "+e.title+" from bank card or with Yandex.Money"},"shop-seo-tv-description":function(e){return"You can pay for "+e.title+" services from a bank card, with Yandex.Money, or in cash. Online and without registration."},"shop-seo-tv-title":function(e){return"Pay for "+e.title+" from a bank card or with Yandex.Money"},"tax-promo":"Taxes—find and pay taxes online on the Yandex.Money site","tax-promo-description":"Check, if you have any taxes due. You only need to know your INN. You can pay instantly—with a bank card, using Yandex.Money, or by cash.","tax-promo-title":"Taxes - check and pay taxes online on Yandex.Money site","user-cards":"Bank Cards","virtual-about":"Yandex.Money Virtual Card","western-union":"Transfer through Western Union",withdraw:"Transfers from Wallet","yacard-about":"Yandex.Money bank card",yakassa:"Yandex.Checkout",yamoney:"Yandex.Money"},{lang:"en"}),BEM.I18N.decl("code",{"custom-form-line-1":'<form method="POST" action="https://money.yandex.ru/quickpay/confirm.xml">',"custom-form-line-10":'    <input type="hidden" name="need-fio" value="true">',"custom-form-line-11":'    <input type="hidden" name="need-email" value="true">',"custom-form-line-12":'    <input type="hidden" name="need-phone" value="false">',"custom-form-line-13":'    <input type="hidden" name="need-address" value="false">',"custom-form-line-14":'    <label><input type="radio" name="paymentType" value="PC">With Yandex.Money</label>',"custom-form-line-15":'    <label><input type="radio" name="paymentType" value="AC">With bank card</label>',"custom-form-line-16":'    <input type="submit" value="Transfer">',"custom-form-line-17":"</form>","custom-form-line-2":'    <input type="hidden" name="receiver" value="41001xxxxxxxxxxxx">',"custom-form-line-3":'    <input type="hidden" name="formcomment" value="‘Ironman’ Project: Arc Reactor">',"custom-form-line-4":'    <input type="hidden" name="short-dest" value="‘Ironman’ Project: Arc Reactor">',"custom-form-line-5":'    <input type="hidden" name="label" value="$order_id">',"custom-form-line-6":'    <input type="hidden" name="quickpay-form" value="donate">',"custom-form-line-7":'    <input type="hidden" name="targets" value="transaction {order_id}">',"custom-form-line-8":'    <input type="hidden" name="sum" value="4568.25" data-type="number">',"custom-form-line-9":'    <input type="hidden" name="comment" value="Requires remote control.">'},{lang:"en"}),BEM.I18N.decl("form",{"add-protection-code":function(e){return"Use secret code "+e.code+" for "+e.days+" days"},"captcha-response":"Code from the image","card-topup-action-refill":"Add","card-topup-empty-sum":"Specify the amount you need to add to your Wallet.","card-topup-secure":"The details are protected according to PCI DSS standard","card-topup-sum-commission":function(e){return"Your card will be debited this amount and commission—"+e.commission+"%"},"change-code":"change","empty-field":"You need to fill out this field","light-identification-birth-date":"Date of birth","light-identification-birth-date-empty":"Specify date","light-identification-birth-date-hint":"If you are under 18, the details won't be verified. Pay using another method","light-identification-birth-date-placeholder":"dd.mm.yyyy","light-identification-birth-date-wrong":"Please specify real date, as in your ID","light-identification-description":"By the law, we need your Russian passport details to make the payment. If you cannot provide these details, you are under 18, or you don't have a Russian passport, pay using another method.","light-identification-first-name":"First name","light-identification-first-name-empty":"Specify first name as in passport","light-identification-first-name-wrong":"Specify first name as in passport","light-identification-issue-date":"Issue date","light-identification-issue-date-empty":"Specify date of issue","light-identification-issue-date-placeholder":"DD.MM.YYYY","light-identification-issue-date-wrong":"Something is wrong with the passport's date of issue","light-identification-middle-name":"Middle name","light-identification-middle-name-wrong":"Specify middle name as in passport","light-identification-passport":"Russian passport","light-identification-passport-empty":"Specify your ID's series and number","light-identification-passport-placeholder":"Series and number","light-identification-passport-wrong":"This field requires 10 digits without gaps or other characters. Please double check it","light-identification-phone":"Phone number","light-identification-phone-number":"Phone number","light-identification-phone-number-empty":"Specify your phone number","light-identification-phone-number-wrong":"Something is wrong. Check the phone number","light-identification-second-name":"Last name","light-identification-second-name-empty":"Specify last name as in passport","light-identification-second-name-wrong":"Specify last name as in passport","light-identification-title":"Adding personal details","other-phrase":"Other image","p2p-title":"Money transfer","payment-AC-remember-card":"Save card","payment-cash-phone-hint":"Specify country code first.<br/>You will get a payment code to this number","payment-commission-sum":"Commission amount","payment-cps-phone-empty":"Please specify your phone number","payment-cps-phone-hint":"Specify country code first.<br/>You will get a payment code to this number","payment-cps-phone-label":"Phone number","payment-cps-phone-wrong":"Something is wrong. Please check this number","payment-gift-empty-email":"Specify where to send the code","payment-gift-fail":"It didn't work. Click again","payment-gift-limit-exceeded":"You've reached the limit for sending the gift (maximum 3)","payment-gift-send":"Send","payment-gift-wrong-email":"Something is wrong. Double check it","payment-p2p-bind-card":"Save card","payment-p2p-protection-code":"Protect with security code","payment-p2p-protection-code-hint":"Only the one who knows the code can accept your transfer. Tell it to your recipient separately; the code will be saved to your History","payment-p2p-receiver-email":"Recipient's email address","payment-p2p-receiver-email-empty":"Please specify email address of the transfer recipient","payment-p2p-receiver-email-wrong":"Something is wrong with this address. Please check it.","payment-p2p-sender-email":"Your email","payment-p2p-sender-email-empty":"Please specify email address. We will send information about the transfer to it","payment-p2p-sender-email-wrong":"Something is wrong with this address. Please check it.","payment-p2p-show-receiver-message":"Add message to the recipient","payment-p2p-to-my-account":"To your account","payment-sber-pay-method-info-offline":function(e){return"Next you will be able to confirm payment with a text message via Sberbank's "+this.keyset("basis").key("func-call",{pass:"Mobile Bank",func:e.sberMobileLink})+"."},"payment-sber-pay-method-info-online":"Next you will be redirected to Sberbank Online. To complete paying, log into your account.","payment-sber-pay-method-label":"Payment with","payment-sber-pay-method-offline":"Text message confirmation","payment-sber-pay-method-online":"Sberbank Online","payment-sber-phone-hint-offline":"Specify your phone number linked to Sberbank's Mobile Bank","payment-sber-phone-hint-online":"Specify your phone number","protection-period-invalid":"The code's validity period should be a number from 1 to 365","receiver-message":"Message to the recipient","search-inner-button":"Search","search-tr-text":"Store, company, good, or service","send-app-sms-phone-hint":"+7 921 1234567","send-app-sms-phone-label":"Get a link to the app","send-app-sms-sms-was-sended":"We sent you a text message with a link to the app","send-app-sms-some-reason-send-fail":"Please try again. If the error persists, write to us.","send-app-sms-submit":"Get","send-app-sms-wrong-format-telephone":"Something is wrong here. Double-check the phone number and try again.","shop-offer-link-description":"By clicking 'Pay', you agree with","shop-offer-link-text":"the terms and conditions of using the service","something-failed":"Something went wrong",sum:"Amount","topup-another-cause":"Something went wrong. Try adding money using another method or enter another amount",
"topup-from-card-ac-yacard-message":"For transfers, we recommend you choose your Wallet: if you transfer from your Yandex.Money card, you will be charged additional commission amounting 3% + ₽45, but no less than ₽100","topup-illegal-cvc":"Incorrect card details","topup-illegal-sum":"Specify amount less than 15,000 rubles. Keep in mind the Wallet's limits: reviewed users can keep up to 60,000 rubles and identified users can keep up to 500,000 rubles on their Wallets","topup-receiver-limit-exceeded":"Your Wallet is full. Money cannot be credited. Make a transfer to a bank card","topup-save-card":"Save card","topup-to-small-sum":"The amount is too small","transfer-form":"From","transfer-to":"To","wallet-empty-error":"Specify your account number, phone number, or email address","wallet-number":"Wallet number, phone number, or email address","wrong-format-field":"You filled out the field incorrectly. Try again.","empty-phone":"Specify your phone number","confirm-form-address":"Address","confirm-form-continue":"Proceed","confirm-form-email":"Email address","confirm-form-ident-info":"You are anonymous: to transfer money, you need to provide your passport details.","confirm-form-ident-not-russian":function(e){return"If your passport is not Russian, you need to complete the full process of "+this.keyset("basis").key("func-call",{pass:"identification",func:e.link})+"."},"confirm-form-ident-title":"Your passport details","confirm-form-identification-spinner-text":"One minute. Checking your application...","confirm-form-transfer-from-me":"Transfer from your name","confirm-form-transfer-info":"The person you are transferring money to will get these details.","confirm-form-transfer-title":"Details for transfer","confirm-form-validation-firstname":"Specify the name of the person for whom you are transferring money","confirm-form-validation-lastname":"Specify the last name of the person you are transferring money for","confirm-form-validation-middlename":"Specify the middle name of the person you are transferring money for","constructor-additional-data-label":"Advanced settings","constructor-button-text-label":"Button text","constructor-button-text-val-1":"Transfer","constructor-button-text-val-2":"Send","constructor-button-text-val-3":"Give","constructor-button-text-val-4":"Donate","constructor-buttons-card-hint":"If a transfer amounts ₽100, ₽98 will be credited to the Wallet","constructor-buttons-card-text":"Bank card, you pay the commission (2%)","constructor-buttons-label":"Buttons","constructor-buttons-mobile-hint":"The phone owner pays the commission (from 7.95%)","constructor-buttons-mobile-text":"Balance of phone number serviced by Beeline, MTS, Tele2","constructor-buttons-wallet-hint":"If a transfer amounts ₽100, ₽99.5 will be credited to the Wallet","constructor-buttons-wallet-text":"Wallet, you pay commission (0.5%)","constructor-color-label":"Color","constructor-field-required":"This field is obligatory: the code won't appear without it","constructor-mobile-hint":"The transfer by direct carrier billing is now made without the purpose. Commentary, full name, and other details are also not transmitted","constructor-preview-placeholder-any-card-payment-type":"The code for the button will appear here (specify purpose and amount)","constructor-preview-placeholder-form":"You form's code will appear here","constructor-preview-placeholder-mobile-payment-type":"The code for the button with mobile phone will appear here (specify purpose and amount)","constructor-preview-placeholder-yamoney-payment-type":"The code for the button with Wallet will appear here (specify purpose and amount)","constructor-redirect-hint":"If required, we will return the person back to your site.","constructor-redirect-label":"Link for redirecting","constructor-redirect-placeholder":"http://","constructor-redirect-space-forbiden":"You cannot use spaces in the link address","constructor-redirect-wrong-format":"Invalid format","constructor-size-color-label":"Design of the button","constructor-size-label":"Size","constructor-sum-descr":"Maximum—₽15,000","constructor-sum-hint-button":"The person making the transfer cannot alter the amount","constructor-sum-hint-form":"A person will see this amount in the form and will be able to change it","constructor-sum-label":"Amount","constructor-sum-label-form":"Amount to be prompted","constructor-sum-placeholder":"0.00","constructor-sum-too-big":"Via the form, you can maximum send 15,000 rubles","constructor-sum-too-small":"Too small (minimum—2 rubles)","constructor-sum-wrongformat":"Invalid amount format","constructor-target-form-buyer":"The sender will specify","constructor-target-form-buyer-placeholder":"Give a prompt, what to specify","constructor-target-form-seller":"I will specify","constructor-target-form-seller-placeholder":"For instance, contribution for competition","constructor-target-label":"Purpose of payment","constructor-target-placeholder":"For instance, contribution for competition","constructor-transfers-form-label":"Transfer method","constructor-transfers-form-wallet-text":"Wallet—always presents; you pay the commission (0.5%)","constructor-user-data-address":"Delivery address","constructor-user-data-comment":"Comments","constructor-user-data-comment-placeholder":"Give a prompt, what to specify","constructor-user-data-email":"Email address","constructor-user-data-fio":"Full name","constructor-user-data-hint":"We can request all these at the moment of transfer and send you via email.","constructor-user-data-label":"What to ask from the sender","constructor-user-data-phone":"Mobile phone"},{lang:"en"}),BEM.I18N.decl("input",{"illegal-login-symbol":"Username invalid. Use up to 30 symbols. Permitted symbols: Roman characters, numbers, hyphens, periods. Your username should start with a letter and end with a letter or a number. Do not put a hyphen next to a period.","invalid-password":"Something is wrong with the password. Please try a different one.","invalid-phone-number":"The field is filled out incorrectly. Try again.","login-occupied":"Please come up with a different username. You can't use your existing Yandex username for your merchant account.","nonidentical-passwords":"Passwords do not match. Try again.","passwd-like-login":"Your password cannot be the same as your username.","passwd-like-phone-number":"Your password cannot be the same as your phone number.","too-weak-passwd":"Password too simple. We recommend combining both uppercase and lowercase letters, special symbols and numbers."},{lang:"en"}),BEM.I18N.decl("page-layout",{applications:"Yandex.Money on your phone","try-to-search":"If you want to find something, use Yandex.Money search by goods and services","confirm-blocked-error-text":"Operations for your account are suspended","confirm-blocked-error-title":"Something is wrong","confirm-money-error-text":"Add money to your Wallet or select other payment method.","confirm-money-error-title":"Not enough money","confirm-sum-error-text":"Specify it by yourself or contact the owner of the form (or button).","confirm-sum-error-title":"Amount is not provided","confirm-targets-error-text":"Specify it manually or contact the owner of the form (button).","confirm-targets-error-title":"Transfer destination is not specified","confirm-unknown-error-text":"Contact the owner of the form (button). The request contains incorrect parameters.","confirm-unknown-error-title":"Something is wrong","quickpay-anonym-lantern":function(e){return"You face pretty narrow limits: you cannot keep more than ₽15,000& and cannot accept transfers from other Wallets. This is because your Wallet is anonymous. "+this.keyset("basis").key("func-call",{pass:"Upgrade status",func:e.link})},"quickpay-constructor-no-site":function(e){return"If you do not have a site, use your "+this.keyset("basis").key("func-call",{pass:"ready-made fundraising page",func:e.link})+"."},"quickpay-constructor-sub-title":"They help raising money to your Wallet. Select form or button, get HTML code and embed it into your site.","quickpay-constructor-title":"Forms and buttons for your site","quickpay-no-login-lantern":"To create a button or form, you need a Wallet to credit the money to.","quickpay-wallet-create":"Start a Wallet"},{lang:"en"}),BEM.I18N.decl("personal-info",{"personal-info-account":"Wallet number","personal-info-address":"Address","personal-info-area":"District of regional significance","personal-info-area-empty":"Field cannot be empty","personal-info-birth-date":"Date of birth","personal-info-birth-date-empty":"Please specify date","personal-info-birth-date-hint":function(e){return"If you are under 18, you cannot fill out this form: you need to complete "+this.keyset("basis").key("func-call",{pass:"identification",func:e.link})+"."},"personal-info-birth-date-hint-light":function(e){return"If you are under "+e.minAge+", the details won't be verified. Pay using another method"},"personal-info-birth-date-placeholder":"dd.mm.yyyy","personal-info-birth-date-wrong":"Please enter actual date, as in your ID","personal-info-birth-place":"Place of birth","personal-info-birth-place-empty":"Field cannot be empty","personal-info-birth-place-wrong":"Invalid format","personal-info-block":"Block, building number","personal-info-block-empty":"Field cannot be empty","personal-info-building":"Block number","personal-info-city":"City","personal-info-city-empty":"Please fill out this field","personal-info-country-residence":"Country of residence","personal-info-country-residence-empty":"Field cannot be empty","personal-info-doc-issue-date":"Date issued","personal-info-doc-issue-date-empty":"Specify date of issue","personal-info-doc-issue-date-wrong":"Specify date of issue","personal-info-doc-issuer":"Issued by","personal-info-doc-issuer-code":"Issuer subdivision code","personal-info-doc-issuer-code-empty":"Field cannot be empty","personal-info-doc-issuer-empty":"Please fill out this field","personal-info-doc-number":"Series and number of the Russian passport","personal-info-doc-number-empty":"Specify date and you ID's series and number","personal-info-doc-number-placeholder":"10 digits without spaces","personal-info-doc-number-wrong":"Invalid format","personal-info-document":"Valid ID","personal-info-first-name":"First name","personal-info-first-name-empty":"Specify first name as in passport","personal-info-first-name-wrong":"Specify first name as in passport","personal-info-flat":"Apt.","personal-info-house":"House","personal-info-house-empty":"Field cannot be empty","personal-info-inn":"INN (Taxpayer Identification Number)","personal-info-inn-empty":"Field cannot be empty","personal-info-inn-placeholder":"12 digits","personal-info-inn-wrong-format":"Invalid format","personal-info-issue-date":"Date issued","personal-info-issue-date-empty":"Specify date","personal-info-issue-date-placeholder":"dd.mm.yyyy","personal-info-issue-date-wrong":"Please specify real date, as in your ID","personal-info-last-name":"Last name","personal-info-last-name-empty":"Specify last name as in passport","personal-info-last-name-wrong":"Specify last name as in passport","personal-info-middle-name":"Middle name","personal-info-middle-name-wrong":"Specify middle name as in passport","personal-info-name-wrong-language":"You can only fill this form out with Cyrillic letters. Check your keyboard layout","personal-info-nationality":"Citizenship","personal-info-number-inn":"INN (TIN)","personal-info-number-oms":"OMS","personal-info-number-snils":"SNILS","personal-info-oms":"OMS","personal-info-oms-empty":"Field cannot be empty","personal-info-oms-placeholder":"16 digits","personal-info-oms-wrong-format":"Invalid format","personal-info-passport":"Russian passport","personal-info-passport-empty":"Fill in the field","personal-info-passport-issue-place":"Issued by","personal-info-passport-new":"Passport series and number","personal-info-passport-placeholder":"Series and number","personal-info-passport-placeholder-new":"12 34 567890","personal-info-passport-wrong":"This field requires 10 digits without gaps or other characters. Please double check it","personal-info-phone":"Phone number","personal-info-phone-light":"Phone number","personal-info-phone-number":"Phone number","personal-info-phone-number-empty":"Specify your phone number","personal-info-phone-number-new":"Mobile phone","personal-info-phone-number-placeholder":"+7 900 1234567","personal-info-phone-number-wrong":"Something is wrong. Check the phone number","personal-info-phone-number-wrong-new":"Please specify phone number","personal-info-phone-wrong":"Incorrect phone number","personal-info-place":"House","personal-info-postal-code":"Postal code","personal-info-postal-code-hint":"Your actual postal code","personal-info-region":"Region","personal-info-region-empty":"Field cannot be empty","personal-info-require-birth-date":"Specify date of birth","personal-info-require-birth-place":"Specify place of birth","personal-info-required-address":"Specify address","personal-info-required-city":"Specify city","personal-info-required-doc-issue-date-placeholder":"dd.mm.yyyy","personal-info-required-doc-issued-by":"Specify the ID issuer","personal-info-required-post-code":"Specify postal code","personal-info-second-doc":"Second document","personal-info-second-name":"Last name","personal-info-second-name-empty":"Specify last name as in passport","personal-info-second-name-wrong":"Specify last name as in passport","personal-info-snils":"SNILS","personal-info-snils-empty":"Field cannot be empty","personal-info-snils-placeholder":"10 digits","personal-info-snils-wrong-format":"Invalid format","personal-info-street":"Street","personal-info-street-empty":"Field cannot be empty","personal-info-subarea":"District of regional significance"},{lang:"en"}),BEM.I18N.decl("quickpay-constructor",{"constructor-button-form":"Form Construction Kit","constructor-button-title":"Button Construction Kit","constructor-preview-label-button-any-card-payment-type":"Code for button with card","constructor-preview-label-button-mobile-payment-type":"Code for button with mobile phone","constructor-preview-label-button-yamoney-payment-type":"Code for button with Wallet","constructor-preview-label-form":"Code of your form:","constructor-preview-label-form-custom":"Form code:","custom-form-example-item-title1":"Project name:","custom-form-example-item-title2":"Number of Wallet in Yandex.Money:","custom-form-example-item-title3":"Payment purpose:","custom-form-example-item-title4":"Total:","custom-form-example-item-title5":"Sender's commentary:","custom-form-example-item-value1":"Ironman","custom-form-example-item-value2":"41001xxxxxxxxxxxx","custom-form-example-item-value3":"for building Arc Reactor","custom-form-example-item-value4":"4,568.25 rub.","custom-form-example-item-value5":"Love to see it with remote control.","custom-form-example-text":"Tony Stark the crowdfunder<br/>raises money for his project.","custom-form-example-title":"For example","custom-form-more-link":"Parameters and details","custom-form-subtitle":"Developers can create a form or button with individual design, additional features, and HTTP notifications about incoming transfers. Simply use our parameters.","custom-form-title":"Our parameters, your code","help-content":function(e){return"There you can find everything about fees, limits, and email notifications. "+this.keyset("basis").key("func-call",{pass:"View Help ",func:e.link})},"help-title":"Look through our Help","quickpay-card-text-create-wallet":"Start a Wallet","quickpay-card-text-login":"I have a Wallet"},{lang:"en"}),BEM.I18N.decl("quickpay-constructor-tab",{"description-custom-dev":"This option is for developers.","description-custom-size":"You can change and adjust everything: set of fields, size of buttons, design.","description-size-button":"Color and size","description-size-button-text":"May be selected","description-size-form":"Size","description-size-form-text":"Depends on the number of fields","description-sum":"Amount","description-sum-button-text":"Set by you, cannot be changed","description-sum-form-text":"Sender can change","description-trans":"Transfer methods","description-trans-button-text":"Three possible buttons: with a Wallet, card, or mobile phone balance","description-trans-button-text-anonym":"We have a button with a Wallet and a card","description-trans-form-text":"Wallet, card, and mobile phone balance on one form","description-trans-form-text-anonym":"Wallet and card on one form","title-button":"Button","title-custom":"Custom","title-form":"Form"},{lang:"en"}),BEM.I18N.decl("widget-shop",{"comment-label":"Comments","comment-label-desc":"(optional)","currency-label":"rub.","sum-label":"Amount","targets-label":"Purpose of payment","widget-shop-button-text-01":"Pay","widget-shop-button-text-02":"Buy","widget-shop-button-text-03":"Transfer","widget-shop-button-text-04":"Give","widget-shop-button-text-11":"Transfer","widget-shop-button-text-12":"Send","widget-shop-button-text-13":"Give","widget-shop-button-text-14":"Donate","widget-shop-empty-field-error":"Please fill in the field","widget-shop-payment-type":"Payment method","widget-shop-small-sum-error":"The amount is too small","widget-shop-wrong-sum-error":"You've specified amount in the incorrect format"},{lang:"en"}),BEM.I18N.decl("widget-small",{"button-text-01":"Transfer","button-text-02":"Buy","button-text-03":"Transfer","button-text-04":"Donate","button-text-05":"Give","button-text-06":"Support","button-text-11":"Transfer","button-text-12":"Send","button-text-13":"Give","button-text-14":"Donate"},{lang:"en"}),BEM.I18N.lang("en"));