<!DOCTYPE html>
<!--[if IE 6]>
<html id="ie6" lang="ru-RU">
<![endif]-->
<!--[if IE 7]>
<html id="ie7" lang="ru-RU">
<![endif]-->
<!--[if IE 8]>
<html id="ie8" lang="ru-RU">
<![endif]-->
<!--[if !(IE 6) | !(IE 7) | !(IE 8)  ]><!-->
<html class=" js csstransforms csstransforms3d csstransitions" lang="ru-RU"><!--<![endif]--><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">
<meta name="robots" content="index, follow">
<meta name="keywords" content="">
<title>Полное практическое руководство по Docker: с нуля до кластера на AWS (часть 4) | LinuxSpace</title>
<script data-rocketoptimized="true" data-rocketsrc="https://mc.yandex.ru/metrika/watch.js" async="" type="text/javascript"></script><script data-rocketoptimized="true" data-rocketsrc="https://ssl.google-analytics.com/ga.js" async="" type="text/javascript"></script><script type="text/javascript">
//<![CDATA[
window.__cfRocketOptions = {byc:0,p:0,petok:"73d33857c06c8347e6535aa1b084aeb62cc1b65f-1509477972-1800"};
//]]>
</script>
<script type="text/javascript" src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D0%BF%D1%80%D0%B0%D0%BA%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Docker%20%20%D1%81%20%D0%BD%D1%83%D0%BB%D1%8F%20%D0%B4%D0%BE%20%D0%BA%D0%BB%D0%B0%D1%81%D1%82%D0%B5%D1%80%D0%B0%20%D0%BD%D0%B0%20AWS%20%28%D1%87%D0%B0%D1%81%D1%82%D1%8C%204%29%20_%20LinuxSpace_files/rocket.js"></script>
<link rel="profile" href="http://gmpg.org/xfn/11">
<link rel="pingback" href="https://www.linuxspace.org/xmlrpc.php">
<link href="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D0%BF%D1%80%D0%B0%D0%BA%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Docker%20%20%D1%81%20%D0%BD%D1%83%D0%BB%D1%8F%20%D0%B4%D0%BE%20%D0%BA%D0%BB%D0%B0%D1%81%D1%82%D0%B5%D1%80%D0%B0%20%D0%BD%D0%B0%20AWS%20%28%D1%87%D0%B0%D1%81%D1%82%D1%8C%204%29%20_%20LinuxSpace_files/font-awesome.css" rel="stylesheet">
<script data-rocketoptimized="true" type="text/rocketscript">
	var templateDir = "https://www.linuxspace.org/wp-content/themes/MaxiNews"; 
	var templateBase = "https://www.linuxspace.org/wp-content/themes/MaxiNews";

			var logoURL = "https://www.linuxspace.org/wp-content/themes/MaxiNews/images/logo.png";
	
</script>

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<!--[if lte IE 6]>
	<style>#top, #bottom, #left, #right { display: none; }</style>
<![endif]-->
<!--[if IE]> 
	<script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<!--[if lte IE 7]> 
	<script src="js/IE8.js" type="text/javascript"></script>
<![endif]-->
<!--[if lt IE 7]>  
	<link rel="stylesheet" type="text/css" media="all" href="css/ie6.css"/>
<![endif]-->

<meta name="description" content="Docker — это программное обеспечение, которое позволит быстро и легко запускать выполнение процесса в контейнере, который больше похож на&nbsp; виртуальную машину, только более портативную, потребляющую больше ресурсов и с дружелюбным интерфейсом.">
<meta name="keywords" content="docker, linux,">

<link rel="alternate" type="application/rss+xml" title="LinuxSpace » Лента" href="https://www.linuxspace.org/feed">
<link rel="alternate" type="application/rss+xml" title="LinuxSpace » Лента комментариев" href="https://www.linuxspace.org/comments/feed">
<link rel="alternate" type="application/rss+xml" title="LinuxSpace » Лента комментариев к «Полное практическое руководство по Docker: с нуля до кластера на AWS (часть 4)»" href="https://www.linuxspace.org/archives/14911/feed">
<script data-rocketoptimized="true" type="text/rocketscript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"https:\/\/www.linuxspace.org\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.4.2"}};
			!function(a,b,c){function d(a){var c,d=b.createElement("canvas"),e=d.getContext&&d.getContext("2d"),f=String.fromCharCode;return e&&e.fillText?(e.textBaseline="top",e.font="600 32px Arial","flag"===a?(e.fillText(f(55356,56806,55356,56826),0,0),d.toDataURL().length>3e3):"diversity"===a?(e.fillText(f(55356,57221),0,0),c=e.getImageData(16,16,1,1).data.toString(),e.fillText(f(55356,57221,55356,57343),0,0),c!==e.getImageData(16,16,1,1).data.toString()):("simple"===a?e.fillText(f(55357,56835),0,0):e.fillText(f(55356,57135),0,0),0!==e.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag"),unicode8:d("unicode8"),diversity:d("diversity")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag&&c.supports.unicode8&&c.supports.diversity||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel="stylesheet" id="bwp-syntax-group-css" href="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D0%BF%D1%80%D0%B0%D0%BA%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Docker%20%20%D1%81%20%D0%BD%D1%83%D0%BB%D1%8F%20%D0%B4%D0%BE%20%D0%BA%D0%BB%D0%B0%D1%81%D1%82%D0%B5%D1%80%D0%B0%20%D0%BD%D0%B0%20AWS%20%28%D1%87%D0%B0%D1%81%D1%82%D1%8C%204%29%20_%20LinuxSpace_files/a.css" type="text/css" media="all">
<link rel="stylesheet" id="mytheme-oswald-css" href="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D0%BF%D1%80%D0%B0%D0%BA%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Docker%20%20%D1%81%20%D0%BD%D1%83%D0%BB%D1%8F%20%D0%B4%D0%BE%20%D0%BA%D0%BB%D0%B0%D1%81%D1%82%D0%B5%D1%80%D0%B0%20%D0%BD%D0%B0%20AWS%20%28%D1%87%D0%B0%D1%81%D1%82%D1%8C%204%29%20_%20LinuxSpace_files/css_002.css" type="text/css" media="all">
<link rel="stylesheet" id="mytheme-armata-css" href="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D0%BF%D1%80%D0%B0%D0%BA%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Docker%20%20%D1%81%20%D0%BD%D1%83%D0%BB%D1%8F%20%D0%B4%D0%BE%20%D0%BA%D0%BB%D0%B0%D1%81%D1%82%D0%B5%D1%80%D0%B0%20%D0%BD%D0%B0%20AWS%20%28%D1%87%D0%B0%D1%81%D1%82%D1%8C%204%29%20_%20LinuxSpace_files/css_003.css" type="text/css" media="all">
<script data-rocketoptimized="true" type="text/rocketscript" data-rocketsrc="https://www.linuxspace.org/wp-includes/js/jquery/jquery.js?ver=1.11.3"></script>
<script data-rocketoptimized="true" type="text/rocketscript" data-rocketsrc="https://www.linuxspace.org/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.2.1"></script>
<script data-rocketoptimized="true" type="text/rocketscript" data-rocketsrc="https://www.linuxspace.org/wp-content/plugins/bwp-minify/min/?f=wp-content/plugins/better-wordpress-syntax-based-on-geshi/js/bwp-syntax.js,wp-content/plugins/wp-google-analytics/wp-google-analytics.js,wp-content/themes/MaxiNews/js/twitter.js,wp-content/themes/MaxiNews/supersized/js/supersized.3.2.7.min.js,wp-content/themes/MaxiNews/supersized/js/supersized.shutter.js"></script>
<script data-rocketoptimized="true" type="text/rocketscript" data-rocketsrc="https://ajax.aspnetcdn.com/ajax/jquery.validate/1.9/jquery.validate.min.js?ver=4.4.2"></script>
<link rel="https://api.w.org/" href="https://www.linuxspace.org/wp-json/">
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://www.linuxspace.org/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://www.linuxspace.org/wp-includes/wlwmanifest.xml">
<link rel="prev" title="Полное практическое руководство по Docker: с нуля до кластера на AWS (часть 3)" href="https://www.linuxspace.org/archives/14901">
<link rel="next" title="Анализ сетевого пространства Северной Кореи" href="https://www.linuxspace.org/archives/15059">
<meta name="generator" content="WordPress 4.4.2">
<link rel="canonical" href="https://www.linuxspace.org/archives/14911">
<link rel="shortlink" href="https://www.linuxspace.org/?p=14911">
<link rel="alternate" type="application/json+oembed" href="https://www.linuxspace.org/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fwww.linuxspace.org%2Farchives%2F14911">
<link rel="alternate" type="text/xml+oembed" href="https://www.linuxspace.org/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fwww.linuxspace.org%2Farchives%2F14911&amp;format=xml">
<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
<style type="text/css">body { font-size: 14px; }</style>
<style type="text/css">h1 { font-size: 40px; }</style>
<style type="text/css">h2 { font-size: 30px; }</style>
<style type="text/css">h3 { font-size: 24px; }</style>
<style type="text/css">h4 { font-size: 20px; }</style>
<style type="text/css">h5 { font-size: 16px; }</style>
<style type="text/css">h6 { font-size: 14px; }</style>
<style type="text/css">body { background-color: #ccc0cc; }</style>
<link href="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D0%BF%D1%80%D0%B0%D0%BA%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Docker%20%20%D1%81%20%D0%BD%D1%83%D0%BB%D1%8F%20%D0%B4%D0%BE%20%D0%BA%D0%BB%D0%B0%D1%81%D1%82%D0%B5%D1%80%D0%B0%20%D0%BD%D0%B0%20AWS%20%28%D1%87%D0%B0%D1%81%D1%82%D1%8C%204%29%20_%20LinuxSpace_files/css.css" rel="stylesheet" type="text/css"><style type="text/css">#page-tagline .slogan { font-family: 'Armata','Helvetica Neue',Arial,Helvetica,Geneva,sans-serif; font-weight: lighter; }</style>
<script type="text/javascript" data-rocketoptimized="true" data-rocketsrc="https://www.linuxspace.org/wp-includes/js/wp-emoji-release.min.js?ver=4.4.2"></script></head>
<body id="top" class="single single-post postid-14911 single-format-standard">
<div id="login-with-ajax-block">
<div id="register-form" style="display: none;">
<div class="title">
<h3>Register</h3>
</div>
[ajax_register]
</div>
<div style="display:none">
<div id="login-form">
<div class="title">
<h3>Login</h3>
</div>
[ajax_login]
</div>
</div>
</div>
<div id="pageloader"></div>
<div id="main-wrap-content">
<div id="content">

<section id="main-content">

<header class="container_wrap" id="header">
<div class="top_menu_container">
<div id="top_menu">
<ul id="menu-top-menu" class="menu"><li id="menu-item-5163" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-5163"><a href="#">Категории</a>
<ul style="display: block; opacity: 0; visibility: hidden;" class="sub-menu">
<li id="menu-item-5165" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-5165"><a href="https://www.linuxspace.org/archives/category/news">Новости</a></li>
<li id="menu-item-5166" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-5166"><a href="https://www.linuxspace.org/archives/category/bezopasnost">Безопасность</a></li>
<li id="menu-item-5164" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-5164"><a href="https://www.linuxspace.org/archives/category/mans">How-to</a></li>
<li id="menu-item-5220" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-5220"><a href="https://www.linuxspace.org/archives/category/servers-2">Servers</a></li>
<li id="menu-item-5219" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-5219"><a href="https://www.linuxspace.org/archives/category/cryptography">Cryptography</a></li>
<li id="menu-item-5221" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-5221"><a href="https://www.linuxspace.org/archives/category/usefulness-2">Usefulness</a></li>
</ul>
</li>
</ul>
<div id="top-search-field">
<div class="search">
<form id="search-form" method="get" action="https://www.linuxspace.org">
<input name="s" autocomplete="off" autocorrect="off" id="search_field_block" value="Search…" onfocus="if(this.value==this.defaultValue)this.value='';" onblur="if(this.value=='')this.value=this.defaultValue;" type="text">
</form>
</div>
</div>
<div id="links-menu">
<ul id="menu-top-right" class="menu"><li id="menu-item-6059" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6059"><a href="https://www.linuxspace.org/%d0%bd%d0%be%d0%b2%d0%be%d1%81%d1%82%d0%b8">Новости</a></li>
<li id="menu-item-6026" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6026"><a href="https://www.linuxspace.org/team">Команда</a></li>
<li id="menu-item-6027" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6027"><a href="https://www.linuxspace.org/o-proekte">О проекте</a></li>
</ul>
</div>
<div id="top-social">
<ul class="social_bookmarks">
<li><a class="rss-icon" href="http://www.linuxspace.org/feed"><img src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D0%BF%D1%80%D0%B0%D0%BA%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Docker%20%20%D1%81%20%D0%BD%D1%83%D0%BB%D1%8F%20%D0%B4%D0%BE%20%D0%BA%D0%BB%D0%B0%D1%81%D1%82%D0%B5%D1%80%D0%B0%20%D0%BD%D0%B0%20AWS%20%28%D1%87%D0%B0%D1%81%D1%82%D1%8C%204%29%20_%20LinuxSpace_files/rss.png" alt="rss"></a></li>
<li><a class="twitter-icon" href="https://twitter.com/linuxspace"><img src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D0%BF%D1%80%D0%B0%D0%BA%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Docker%20%20%D1%81%20%D0%BD%D1%83%D0%BB%D1%8F%20%D0%B4%D0%BE%20%D0%BA%D0%BB%D0%B0%D1%81%D1%82%D0%B5%D1%80%D0%B0%20%D0%BD%D0%B0%20AWS%20%28%D1%87%D0%B0%D1%81%D1%82%D1%8C%204%29%20_%20LinuxSpace_files/twitter.png" alt="twitter"></a></li>
<li><a class="facebook-icon" href="http://www.facebook.com/linuxspace"><img src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D0%BF%D1%80%D0%B0%D0%BA%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Docker%20%20%D1%81%20%D0%BD%D1%83%D0%BB%D1%8F%20%D0%B4%D0%BE%20%D0%BA%D0%BB%D0%B0%D1%81%D1%82%D0%B5%D1%80%D0%B0%20%D0%BD%D0%B0%20AWS%20%28%D1%87%D0%B0%D1%81%D1%82%D1%8C%204%29%20_%20LinuxSpace_files/facebook.png" alt="facebook"></a></li>
</ul>
</div>
</div>
</div>
<div id="header-content">
<div class="full" style="margin-bottom: 30px;">
<div class="full" style="margin-bottom: 0;">
<div class="logo">
<a href="https://www.linuxspace.org/">
<img src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D0%BF%D1%80%D0%B0%D0%BA%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Docker%20%20%D1%81%20%D0%BD%D1%83%D0%BB%D1%8F%20%D0%B4%D0%BE%20%D0%BA%D0%BB%D0%B0%D1%81%D1%82%D0%B5%D1%80%D0%B0%20%D0%BD%D0%B0%20AWS%20%28%D1%87%D0%B0%D1%81%D1%82%D1%8C%204%29%20_%20LinuxSpace_files/logo.png" alt="Logo">
</a>
</div>
<div class="header-quote">
<article>
<span><p>The important thing is to not stop questioning.</p>
</span>
<cite>- Albert Einstien</cite>
</article>
</div>
<div id="header-adv">
</div>
</div>
<div class="main_menu">
<div>
<ul id="menu-main-menu" class="menu"><li id="menu-item-5162" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-5162"><a href="https://www.linuxspace.org/archives/category/news">Новости</a></li>
<li id="menu-item-5161" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-5161"><a href="https://www.linuxspace.org/archives/category/bezopasnost">Безопасность</a></li>
<li id="menu-item-5160" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-5160"><a href="https://www.linuxspace.org/archives/category/mans">How-to</a></li>
<li id="menu-item-5223" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-5223"><a href="https://www.linuxspace.org/archives/category/servers-2">Servers</a></li>
<li id="menu-item-5222" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-5222"><a href="https://www.linuxspace.org/archives/category/cryptography">Cryptography</a></li>
<li id="menu-item-5224" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-5224"><a href="https://www.linuxspace.org/archives/category/usefulness-2">Usefulness</a></li>
</ul> </div>
</div>
</div>
</div>
</header>



<div id="container">

<div class="container_wrap" id="main">

<div class="container">
<div class="post-title-preview" style="margin-left: 30px;">
<div class="full" style="margin-bottom: 10px;">
<span class="post-category-info" itemprop="category"><a href="https://www.linuxspace.org/archives/category/mans" rel="category tag">How-to</a></span>
</div>
</div>
<div class="post-image-box full-post-image" style="margin-left: 30px;">
<img src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D0%BF%D1%80%D0%B0%D0%BA%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Docker%20%20%D1%81%20%D0%BD%D1%83%D0%BB%D1%8F%20%D0%B4%D0%BE%20%D0%BA%D0%BB%D0%B0%D1%81%D1%82%D0%B5%D1%80%D0%B0%20%D0%BD%D0%B0%20AWS%20%28%D1%87%D0%B0%D1%81%D1%82%D1%8C%204%29%20_%20LinuxSpace_files/-1.jpg" class="attachment-homepage_post_image size-homepage_post_image wp-post-image" alt="четвертая" height="460" width="1024">
</div>
<div class="two_third_rounded first" id="normal-thumb-blog" style="margin-bottom: 0;">
<div id="post-14911" class="post-14911 post type-post status-publish format-standard has-post-thumbnail hentry category-mans">
<div class="rounded-box-page">
<div class="post-content">
<div class="full" style="margin-bottom: 10px;">
<h1 class="post-title-span">Полное практическое руководство по Docker: с нуля до кластера на AWS (часть 4)</h1>
<div class="post-title-preview">
<div class="full" style="margin-top: 20px; margin-bottom: 10px;">
<span class="post-meta"><span class="views-count">1 104 | </span><a class="post-date-info" itemprop="dateCreated" href="https://www.linuxspace.org/archives/date/2016/09">Sep 27, 2016</a> | <span itemprop="author"> <a href="https://www.linuxspace.org/archives/author/mainredactor" title="Записи Michail Kvant" rel="author">Michail Kvant</a> </span> | <a href="https://www.linuxspace.org/archives/14911#respond">No comment</a> | <a href="https://www.linuxspace.org/archives/category/mans" rel="category tag">How-to</a></span>
</div>
</div>
</div>
<div class="full" style="margin-bottom: 0;">
<div class="post-title">
<div class="post-full">
<div class="full" style="margin-bottom: 0;">
<p>Docker — это программное обеспечение, которое позволит быстро и легко
 запускать выполнение процесса в контейнере, который больше похож 
на&nbsp; виртуальную машину, только более портативную, потребляющую 
больше ресурсов и с дружелюбным интерфейсом.</p>
<p>Инструкция состоит&nbsp; из четырех частей. В четвертой части рассматриваются следующие темы:</p>
<p style="padding-left: 30px">—&nbsp; Docker Compose</p>
<p style="padding-left: 30px">—&nbsp; AWS Elastic Container Service</p>
<h3>&nbsp;Docker Compose</h3>
<p>До этого момента мы изучали клиент Докера. Но в экосистеме Докера 
есть несколько других инструментов с открытым исходным кодом, которые 
хорошо взаимодействуют с Докером. Некоторые из них это:</p>
<p style="padding-left: 30px">1. <a href="https://docs.docker.com/machine/">Docker Machine</a>&nbsp;позволяет создавать Докер-хосты на своем компьютере, облачном провайдере или внутри дата-центра.</p>
<p style="padding-left: 30px">2. <a href="https://docs.docker.com/compose/">Docker Compose</a>&nbsp;— инструмент для определения и запуска много-контейнерных приложений.</p>
<p style="padding-left: 30px">3. <a href="https://docs.docker.com/swarm/">Docker Swarm</a> — нативное решение для кластеризации.</p>
<p>В этом разделе мы поговорим об одном из этих инструментов — <strong>Docker Compose</strong>, и узнаем, как он может упростить работу с несколькими контейнерами.</p>
<p>У Docker Compose довольно интересная предыстория. Примерно два года 
назад компания OrchardUp запустила инструмент под названием Fig. Идея 
была в том, чтобы создавать изолированные рабочие окружения с помощью 
Докера. Проект очень хорошо восприняли на <a href="https://news.ycombinator.com/item?id=7132044">Hacker News</a>&nbsp;– я смутно помню, что читал о нем, но не особо понял его смысла.</p>
<p><a href="https://news.ycombinator.com/item?id=7133449">Первый комментарий</a>&nbsp;на самом деле неплохо объясняет, зачем нужен Fig и что он делает:</p>
<p style="border-left: 2px solid #ccc;margin-left: 20px;padding-left: 10px">На
 самом деле, смысл Докера в следующем: запускать процессы. Сегодня у 
Докера есть неплохое API для запуска процессов: расшаренные между 
контейнерами (иными словами, запущенными образами) разделы или 
директории (shared volumes), перенаправление портов с хост-машины в 
контейнер, вывод логов, и так далее. Но больше ничего: Докер сейчас 
работает только на уровне процессов.<br>
Не смотря на то, что в нем содержатся некоторые возможности оркестрации 
нескольких контейнеров для создания единого “приложения”, в Докере нет 
ничего, что помогало бы с управлением такими группами контейнеров как 
одной сущностью. И вот зачем нужен инструмент вроде Fig: чтобы 
обращаться с группой контейнеров как с единой сущностью. Чтобы думать о 
“запуске приложений” (иными словами, “запуске оркестрированного кластера
 контейнеров”) вместо “запуска контейнеров”.</p>
<p>Оказалось, что многие пользователи Докера согласны с такими мыслями. 
Постепенно, Fig набрал популярность, Docker Inc. заметили, купили 
компанию и назвали проект Docker Compose.</p>
<p>Итак, зачем используется <em>Compose</em>? Это инструмент для простого определения и запуска многоконтейнерных Докер-приложений. В нем есть файл <code class="bwp-syntax-inline">docker-compose.yml</code>, и с его помощью можно одной командой поднять приложение с набором сервисов.</p>
<p>Давайте посмотрим, сможем ли мы создать файл&nbsp;<code class="bwp-syntax-inline">docker-compose.yml</code>&nbsp;для нашего приложения SF-Foodtrucks и проверим, способен ли он на то, что обещает.</p>
<p>Но вначале нужно установить Docker Compose. Есть у вас Windows или 
Mac, то Docker Compose уже установлен — он идет в комплекте с Docker 
Toolbox. На Linux можно установить Docker Compose следуя&nbsp;<a href="https://docs.docker.com/compose/install/">простым инструкциям</a> на сайте документации. Compose написан на Python, поэтому можно сделать просто <code class="bwp-syntax-inline">pip <span style="color: #c20cb9; font-weight: bold;">install</span> docker-compose</code>. Проверить работоспособность так:</p>
<p style="background-color: #585858;padding: 10px"><span style="color: #ffffff"><span style="color: #33cccc">$ <span style="color: #ffffff">docker-compose version</span><br>
<span style="color: #ffffff"> docker-compose version 1.7.1, build 0a9ab35</span><br>
<span style="color: #ffffff"> docker-py version: 1.8.1</span><br>
<span style="color: #ffffff"> CPython version: 2.7.9</span><br>
<span style="color: #ffffff"> OpenSSL version: OpenSSL 1.0.1j 15 Oct 2014</span><br>
</span></span></p>
<p>Теперь можно перейти к следующему шагу, то есть созданию файла 
docker-compose.yml. Синтаксис yml-файлов очень простой, и в репозитории 
уже есть пример, который мы будем использовать</p>
<p style="background-color: #585858;padding: 10px"><span style="color: #ffffff"><span style="color: #33cccc"><span style="color: #ffffff">version: “<span style="color: #ffcc99">2</span>“</span><br>
<span style="color: #ffffff"> services:</span><br>
<span style="color: #ffffff"> es:</span><br>
<span style="color: #ffffff"> image: elasticsearch</span><br>
<span style="color: #ffffff"> web:</span><br>
<span style="color: #ffffff"> image: prakhar1989/foodtrucks-web</span><br>
<span style="color: #ffffff"><span style="color: #33cccc"> command</span>: python app.py</span><br>
<span style="color: #ffffff"> ports:</span><br>
<span style="color: #ffffff"> – “<span style="color: #ffcc99">5000:5000</span>“</span><br>
<span style="color: #ffffff"> volumes:</span><br>
<span style="color: #ffffff"> – .:/code</span><br>
</span></span></p>
<p>Давайте я разберу это подробнее. На родительском уровне мы задали название неймспейса для наших сервисов: <code class="bwp-syntax-inline">es</code>&nbsp;и&nbsp;<code class="bwp-syntax-inline">web</code>. К каждому сервису можно добавить дополнительные параметры, среди которых <code class="bwp-syntax-inline">image</code> — обязательный. Для <code class="bwp-syntax-inline">es</code> мы указываем доступный на Docker Hub образ <code class="bwp-syntax-inline">elasticsearch</code>. Для Flask-приложения — тот образ, который мы создали самостоятельно в начале этого раздела.</p>
<p>С помощью других параметров вроде <code class="bwp-syntax-inline"><span style="color: #7a0874; font-weight: bold;">command</span></code> и <code class="bwp-syntax-inline">ports</code>&nbsp;можно предоставить информацию о контейнере. <code class="bwp-syntax-inline">volumes</code> отвечает за локацию монтирования, где будет находиться код в контейнере <code class="bwp-syntax-inline">web</code>.
 Это опциональный параметр, он полезен, если нужно обращаться к логам и 
так далее. Подробнее о параметрах и возможных значениях можно <a href="https://docs.docker.com/compose/compose-file">прочитать в документации</a>.</p>
<p style="border-left: 2px solid #ccc;margin-left: 20px;padding-left: 10px">Замечание: Нужно находиться в директории с&nbsp;файлом <code class="bwp-syntax-inline">docker-compose.yml</code> чтобы запускать большую часть команд Compose.</p>
<p>Отлично! Файл готов, давайте посмотрим на&nbsp;<code class="bwp-syntax-inline">docker-compose</code>&nbsp;в
 действии. Но вначале нужно удостовериться, что порты свободны. Так что 
если у вас запущены контейнеры Flask и ES, то пора их остановить:</p>
<p style="background-color: #585858;padding: 10px"><span style="color: #ffffff"><span style="color: #33cccc">$ <span style="color: #ffffff">docker stop $(docker ps -q)</span><br>
<span style="color: #ffcc99"> 39a2f5df14ef</span><br>
<span style="color: #ffcc99"> 2a1b77e066e6</span><br>
<span style="color: #ffffff"> s</span></span></span></p>
<p>Теперь можно запускать docker-compose. Перейдите в директорию с приложением Foodtrucks и выполните команду docker-compose up.</p>
<p style="background-color: #585858;padding: 10px"><span style="color: #ffffff"><span style="color: #33cccc">$ <span style="color: #ffffff">docker stop $docker-compose up</span><br>
<span style="color: #ffffff"> Creating network “foodtrucks_default” with the default driver</span><br>
<span style="color: #ffffff"> Creating foodtrucks_es_1</span><br>
<span style="color: #ffffff"> Creating foodtrucks_web_1</span><br>
<span style="color: #ffffff"> Attaching to foodtrucks_es_1, foodtrucks_web_1</span><br>
<span style="color: #ffffff"> es_1 | [2016-01-11 03:43:50,300][INFO ][node ] [Comet] version[2.1.1], pid[1], build[40e2c53/2015-12-15T13:05:55Z]</span><br>
<span style="color: #ffffff"> es_1 | [2016-01-11 03:43:50,307][INFO ][node ] [Comet] initializing …</span><br>
<span style="color: #ffffff"> es_1 | [2016-01-11 03:43:50,366][INFO ][plugins ] [Comet] loaded [], sites []</span><br>
<span style="color: #ffffff"> es_1 | [2016-01-11 03:43:50,421][INFO 
][env ] [Comet] using [1] data paths, mounts 
[[/usr/share/elasticsearch/data (/dev/sda1)]], net usable_space [16gb], 
net total_space [18.1gb], spins? [possibly], types [ext4]</span><br>
<span style="color: #ffffff"> es_1 | [2016-01-11 03:43:52,626][INFO ][node ] [Comet] initialized</span><br>
<span style="color: #ffffff"> es_1 | [2016-01-11 03:43:52,632][INFO ][node ] [Comet] starting …</span><br>
<span style="color: #ffffff"> es_1 | [2016-01-11 03:43:52,703][WARN 
][common.network ] [Comet] publish address: {0.0.0.0} is a wildcard 
address, falling back to first non-loopback: {172.17.0.2}</span><br>
<span style="color: #ffffff"> es_1 | [2016-01-11 03:43:52,704][INFO ][transport ] [Comet] publish_address {172.17.0.2:9300}, bound_addresses {[::]:9300}</span><br>
<span style="color: #ffffff"> es_1 | [2016-01-11 03:43:52,721][INFO ][discovery ] [Comet] elasticsearch/cEk4s7pdQ-evRc9MqS2wqw</span><br>
<span style="color: #ffffff"> es_1 | [2016-01-11 03:43:55,785][INFO 
][cluster.service ] [Comet] new_master 
{Comet}{cEk4s7pdQ-evRc9MqS2wqw}{172.17.0.2}{172.17.0.2:9300}, reason: 
zen-disco-join(elected_as_master, [0] joins received)</span><br>
<span style="color: #ffffff"> es_1 | [2016-01-11 03:43:55,818][WARN 
][common.network ] [Comet] publish address: {0.0.0.0} is a wildcard 
address, falling back to first non-loopback: {172.17.0.2}</span><br>
<span style="color: #ffffff"> es_1 | [2016-01-11 03:43:55,819][INFO ][http ] [Comet] publish_address {172.17.0.2:9200}, bound_addresses {[::]:9200}</span><br>
<span style="color: #ffffff"> es_1 | [2016-01-11 03:43:55,819][INFO ][node ] [Comet] started</span><br>
<span style="color: #ffffff"> es_1 | [2016-01-11 03:43:55,826][INFO ][gateway ] [Comet] recovered [0] indices into cluster_state</span><br>
<span style="color: #ffffff"> es_1 | [2016-01-11 03:44:01,825][INFO 
][cluster.metadata ] [Comet] [sfdata] creating index, cause [auto(index 
api)], templates [], shards [5]/[1], mappings [truck]</span><br>
<span style="color: #ffffff"> es_1 | [2016-01-11 03:44:02,373][INFO ][cluster.metadata ] [Comet] [sfdata] update_mapping [truck]</span><br>
<span style="color: #ffffff"> es_1 | [2016-01-11 03:44:02,510][INFO ][cluster.metadata ] [Comet] [sfdata] update_mapping [truck]</span><br>
<span style="color: #ffffff"> es_1 | [2016-01-11 03:44:02,593][INFO ][cluster.metadata ] [Comet] [sfdata] update_mapping [truck]</span><br>
<span style="color: #ffffff"> es_1 | [2016-01-11 03:44:02,708][INFO ][cluster.metadata ] [Comet] [sfdata] update_mapping [truck]</span><br>
<span style="color: #ffffff"> es_1 | [2016-01-11 03:44:03,047][INFO ][cluster.metadata ] [Comet] [sfdata] update_mapping [truck]</span><br>
<span style="color: #999999"> web_1 | * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)</span></span></span></p>
<p>Перейдите по IP чтобы увидеть приложение. Круто, да? Всего лишь пара 
строк конфигурации и несколько Докер-контейнеров работают в унисон. 
Давайте остановим сервисы и перезапустим в detached mode:</p>
<p style="background-color: #585858;padding: 10px"><span style="color: #ffffff">web_1 | * Running on http://0.0.0.0:5000/ <span style="color: #999999">(Press CTRL+C to quit)</span><br>
Killing foodtrucks_web_1 … <span style="color: #999999">done</span><br>
Killing foodtrucks_es_1 … <span style="color: #999999">done</span></span></p>
<p style="background-color: #585858;padding: 10px"><span style="color: #ffffff"><span style="color: #33cccc">$ <span style="color: #ffffff">docker-compose up -d</span><br>
<span style="color: #ffffff"> Starting foodtrucks_es_1</span><br>
<span style="color: #ffffff"> Starting foodtrucks_web_1</span></span></span></p>
<p style="background-color: #585858;padding: 10px"><span style="color: #ffffff"><span style="color: #33cccc"> $ <span style="color: #ffffff">docker-compose ps</span><br>
<span style="color: #ffffff"> Name Command State Ports</span><br>
———————————————————————————-<br>
<span style="color: #ffffff">foodtrucks_es_1 /docker-entrypoint.sh elas … Up 9200/tcp, 9300/tcp</span><br>
<span style="color: #ffffff"> foodtrucks_web_1 python app.py Up 0.0.0.0:5000-&gt;5000/tcp</span><br>
</span></span></p>
<p>Не удивительно, но оба контейнера успешно запущены. Откуда берутся 
имена? Их Compose придумал сам. Но что насчет сети? Его Compose тоже 
делаем сам? Хороший вопрос, давайте выясним.<br>
Для начала, остановим запущенные сервисы. Их всегда можно вернуть одной командой:</p>
<p style="background-color: #585858;padding: 10px"><span style="color: #ffffff"><span style="color: #33cccc">$ <span style="color: #ffffff">docker-compose stop</span><br>
<span style="color: #ffffff"> Stopping foodtrucks_web_1 … <span style="color: #999999">done</span></span><br>
<span style="color: #ffffff"> Stopping foodtrucks_es_1 … <span style="color: #999999">done</span></span></span></span></p>
<p>Заодно, давайте удалим сеть <strong>foodtrucks</strong>, которую создали в прошлый раз. Эта сеть нам не потребуется, потому что Compose автоматически сделает все за нас.</p>
<p style="background-color: #585858;padding: 10px"><span style="color: #ffffff"><span style="color: #33cccc">$ </span>docker network rm foodtrucks</span></p>
<p style="background-color: #585858;padding: 10px"><span style="color: #ffffff"><span style="color: #33cccc">$<span style="color: #ffffff"> docker network ls</span><br>
<span style="color: #ffcc99"> NETWORK ID NAME DRIVER</span><br>
<span style="color: #ffffff">4eec273c054e bridge bridge</span><br>
<span style="color: #ffffff"> 9347ae8783bd none null</span><br>
<span style="color: #ffffff"> 54df57d7f493 host host</span><br>
</span></span></p>
<p>Класс! Теперь в этом чистом состоянии можно проверить, способен ли Compose на волшебство.</p>
<p style="background-color: #585858;padding: 10px"><span style="color: #ffffff"><span style="color: #33cccc">$<span style="color: #ffffff"> docker-compose up -d</span><br>
<span style="color: #ffffff"> Recreating foodtrucks_es_1</span><br>
<span style="color: #ffffff"> Recreating foodtrucks_web_1</span></span></span></p>
<p style="background-color: #585858;padding: 10px"><span style="color: #ffffff"><span style="color: #33cccc">$ <span style="color: #ffffff">docker ps</span><br>
<span style="color: #ffcc99"> CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES</span><br>
<span style="color: #ffffff"> f50bb33a3242 prakhar1989/foodtrucks-web “python app.py” 14 seconds ago Up 13 seconds 0.0.0.0:5000-&gt;5000/tcp foodtrucks_web_1</span><br>
<span style="color: #ffffff"> e299ceeb4caa elasticsearch “/docker-entrypoint.s” 14 seconds ago Up 14 seconds 9200/tcp, 9300/tcp foodtrucks_es_1</span></span></span></p>
<p>Пока все хорошо. Проверим, создались ли какие-нибудь сети:</p>
<p style="background-color: #585858;padding: 10px"><span style="color: #ffffff"><span style="color: #33cccc"> $ <span style="color: #ffffff">docker network ls</span><br>
<span style="color: #ffcc99"> NETWORK ID NAME DRIVER</span><br>
<span style="color: #ffffff"> 0c8b474a9241 bridge bridge</span><br>
<span style="color: #ffffff"> 293a141faac3 foodtrucks_default bridge</span><br>
<span style="color: #ffffff"> b44db703cd69 host host</span><br>
<span style="color: #ffffff"> 0474c9517805 none null</span><br>
</span></span></p>
<p>Видно, что Compose самостоятельно создал сеть foodtrucks_default и 
подсоединил оба сервиса в эту сеть, так, чтобы они могли общаться друг с
 другом. Каждый контейнер для сервиса подключен к сети, и оба контейнера
 доступны другим контейнерам в сети. Они доступны по hostname, который 
совпадает с названием контейнера. Давайте проверим, находится ли эта 
информация в /etc/hosts.</p>
<p style="background-color: #585858;padding: 10px"><span style="color: #ffffff"><span style="color: #33cccc">$ <span style="color: #ffffff">docker ps</span><br>
<span style="color: #ffcc99"> CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES</span><br>
<span style="color: #ffffff"> bb72dcebd379 prakhar1989/foodtrucks-web “python app.py” 20 hours ago Up 19 hours 0.0.0.0:5000-&gt;5000/tcp foodtrucks_web_1</span><br>
<span style="color: #ffffff"> 3338fc79be4b elasticsearch “/docker-entrypoint.s” 20 hours ago Up 19 hours 9200/tcp, 9300/tcp foodtrucks_es_1</span><br>
</span></span></p>
<p style="background-color: #585858;padding: 10px"><span style="color: #ffffff"><span style="color: #33cccc">$ <span style="color: #ffffff">docker <span style="color: #33cccc">exec</span> -it bb72dcebd379 bash</span><br>
<span style="color: #ffffff"> root@bb72dcebd379:/opt/flask-app# cat /etc/hosts</span><br>
<span style="color: #ffffff"> 127.0.0.1 localhost</span><br>
<span style="color: #ffffff"> ::1 localhost ip6-localhost ip6-loopback</span><br>
<span style="color: #ffffff"> fe00::0 ip6-localnet</span><br>
<span style="color: #ffffff"> ff00::0 ip6-mcastprefix</span><br>
<span style="color: #ffffff"> ff02::1 ip6-allnodes</span><br>
<span style="color: #ffffff"> ff02::2 ip6-allrouters</span><br>
<span style="color: #ffffff"> 172.18.0.2 bb72dcebd379</span></span></span></p>
<p>Упс! Оказывается, файл понятия не имеет о es. Как же наше приложение работает? Давайте попингуем его по названию хоста:</p>
<p style="background-color: #585858;padding: 10px"><span style="color: #ffffff"><span style="color: #33cccc"> root@bb72dcebd379:</span>/opt/flask-app</span><span style="color: #999999"># ping es</span><br>
<span style="color: #ffffff"> PING es (172.18.0.3) 56(84) bytes of data.</span><br>
<span style="color: #ffffff"> 64 bytes from foodtrucks_es_1.foodtrucks_default (172.18.0.3): icmp_seq=1 ttl=64 time=0.049 ms</span><br>
<span style="color: #ffffff"> 64 bytes from foodtrucks_es_1.foodtrucks_default (172.18.0.3): icmp_seq=2 ttl=64 time=0.064 ms</span><br>
<span style="color: #ffffff"> ^C</span><br>
<span style="color: #ffffff"> — es ping statistics —</span><br>
<span style="color: #ffffff"> 2 packets transmitted, 2 received, 0% packet loss, time 999ms</span><br>
<span style="color: #ffffff"> rtt min/avg/max/mdev = 0.049/0.056/0.064/0.010 ms</span></p>
<p>Вуаля! Работает! Каким-то магическим образом контейнер смог сделать 
пинг хоста es. Оказывается, Docker 1.10 добавили новую сетевую систему, 
которая производит обнаружение сервисов через DNS-сервер. Если 
интересно, то почитайте подробнее о предложении и release notes.</p>
<p>На этом наш тур по Docker Compose завершен. С этим инструментом можно
 ставить сервисы на паузу, запускать отдельные команды в контейнере и 
даже масштабировать систему, то есть увеличивать количество контейнеров.
 Также советую изучать некоторые другие примеры использования Docker 
Compose.</p>
<p>Надеюсь, я продемонстрировал как на самом деле просто управлять 
многоконтейнерной средой с Compose. В последнем разделе мы задеплоим все
 на AWS!</p>
<h3>&nbsp;AWS Elastic Container Service</h3>
<p>В прошлом разделе мы использовали&nbsp;<code class="bwp-syntax-inline">docker-compose</code>&nbsp;чтобы запустить наше приложение локально одной командой:&nbsp;<code class="bwp-syntax-inline">docker-compose up</code>.
 Теперь, когда приложение работает, мы хотим показать его миру, 
заполучить юзеров, поднять кучу денег и купить большой дом в Майами. 
Последние три шага выходят за пределы этого пособия, так что займемся 
выяснением деталей о деплое многоконтейнерного приложения в облако AWS.</p>
<p>Если вы дочитали до этого места, то скорее всего убедились, что 
Docker — довольно крутая технология. И вы не одиноки. Облачные 
провайдеры заметили взрывной рост популярности Докера и стали добавлять 
поддержку в свои сервисы. Сегодня, Докер-приложения можно деплоить на 
AWS,&nbsp;<a href="https://azure.microsoft.com/en-us/documentation/articles/virtual-machines-docker-vm-extension/">Azure</a>,<a href="http://blog.rackspace.com/docker-with-the-rackspace-open-cloud/">Rackspace</a>,&nbsp;<a href="https://www.digitalocean.com/community/tutorials/how-to-use-the-digitalocean-docker-application">DigitalOcean</a>&nbsp;и много других. Мы уже умеем деплоить приложение с одним контейнером на Elastic Beanstalk, а в этом разделе мы изучим AWS <a href="https://aws.amazon.com/ecs/">Elastic Container Service (или ECS)</a>.</p>
<p>AWS ECS — это масштабируемый и гибкий сервис по управлению 
контейнерами, и он поддерживает Докер. С его помощью можно управлять 
кластером на EC2 через простой API. В Beanstalk были нормальные 
настройки по умолчанию, но ECS позволяет настроить каждый аспект 
окружения по вашим потребностям. По этой причине ECS — не самый простой 
инструмент в начале пути.</p>
<p>К счастью, у ECS есть удобный&nbsp;<a href="http://docs.aws.amazon.com/AmazonECS/latest/developerguide/ECS_CLI.html">инструмент командной строки (CLI)</a>&nbsp;с поддержкой Docker Compose и автоматической провизией на ECS! Так как у нас уже есть рабочий файл&nbsp;<code class="bwp-syntax-inline">docker-compose.yml</code>, настройка и запуск на AWS должна быть достаточно легкой. Начнем!</p>
<p>Вначале нужно установить CLI. На момент написания этого пособия 
CLI-утилита не доступна на Windows. Инструкции по установке CLI на Mac и
 Linux хорошо описаны на сайте с <a href="http://docs.aws.amazon.com/AmazonECS/latest/developerguide/ECS_CLI_installation.html">официальной документацией</a>. Установите утилиту, а потом проверьте ее работоспособность так:</p>
<p style="background-color: #585858;padding: 10px"><span style="color: #ffffff"><span style="color: #33cccc">$ <span style="color: #ffffff">ecs-cli –version</span><br>
<span style="color: #ffffff"> ecs-cli version 0.1.0 (*cbdc2d5)</span></span></span></p>
<p>Первый шаг — задать пару ключей для авторизации на инстансах. Зайдите на страницу&nbsp;<a href="https://console.aws.amazon.com/ec2/v2/home?region=us-east-1#KeyPairs:sort=keyName">EC2 Console</a>&nbsp;и
 создайте новый keypair. Скачайте файл и держите его в безопасном месте.
 Еще один момент — имя региона. Я назвал свой ключ&nbsp;<code class="bwp-syntax-inline">ecs</code> и указал регион <code class="bwp-syntax-inline">us-east-<span style="color: #000000;">1</span></code>. Я продолжу повествование с этим допущением.</p>
<p>Теперь настройте CLI:</p>
<p style="background-color: #585858;padding: 10px"><span style="color: #ffffff"><span style="color: #33cccc">$ <span style="color: #ffffff">ecs-cli configure –region us-east-1 –cluster foodtrucks</span><br>
<span style="color: #ffffff"> INFO[0000] Saved ECS CLI configuration for cluster (foodtrucks)</span></span></span></p>
<p>Команда&nbsp;<code class="bwp-syntax-inline">configure</code>&nbsp;с именем региона, в котором хотим разместить наш кластер, и название кластера. Нужно указать <strong>тот же регион</strong>, что использовался прри создании ключей. Если у вас не настроен&nbsp;<a href="https://aws.amazon.com/cli/">AWS CLI</a>, то&nbsp;следуйте <a href="http://docs.aws.amazon.com/cli/latest/userguide/cli-chap-getting-set-up.html">руководству</a>, которое подробно описывает все шаги.</p>
<p>Следующий шаг позволяет утилите создавать шаблон&nbsp;<a href="https://aws.amazon.com/cloudformation/">CloudFormation</a>.</p>
<p style="background-color: #585858;padding: 10px"><span style="color: #ffffff"><span style="color: #33cccc">$ <span style="color: #ffffff">ecs-cli up –keypair ecs –capability-iam –size 2 –instance-type t2.micro</span><br>
<span style="color: #ffffff"> INFO[0000] Created cluster cluster=foodtrucks</span><br>
<span style="color: #ffffff"> INFO[0001] Waiting for your cluster resources to be created</span><br>
<span style="color: #ffffff"> INFO[0001] Cloudformation stack status stackStatus=CREATE_IN_PROGRESS</span><br>
<span style="color: #ffffff"> INFO[0061] Cloudformation stack status stackStatus=CREATE_IN_PROGRESS</span><br>
<span style="color: #ffffff"> INFO[0122] Cloudformation stack status stackStatus=CREATE_IN_PROGRESS</span><br>
<span style="color: #ffffff"> INFO[0182] Cloudformation stack status stackStatus=CREATE_IN_PROGRESS</span><br>
<span style="color: #ffffff"> INFO[0242] Cloudformation stack status stackStatus=CREATE_IN_PROGRESS</span></span></span></p>
<p>Здесь мы указываем названия ключей, которые мы скачали (в моем случае <code class="bwp-syntax-inline">ecs</code>), количество инстансов (<code class="bwp-syntax-inline"><span style="color: #660033;">--size</span></code>) и тип инстансов, на которых хотим запускать контейнеры. Флаг <code class="bwp-syntax-inline"><span style="color: #660033;">--capability-iam</span></code>&nbsp;говорит утилите, что мы понимаем, что эта команда может создать ресурсы IAM.</p>
<p>В последнем шаге мы используем файл <code class="bwp-syntax-inline">docker-compose.yml</code>. Требуется небольшое изменение, так что вместо модификации файла, давайте сделаем копию и назовем ее <code class="bwp-syntax-inline">aws-compose.yml</code>. Содержание <a href="https://github.com/prakhar1989/FoodTrucks/blob/master/aws-compose.yml">этого файла</a>&nbsp;(после изменений):</p>
<p style="background-color: #585858;padding: 10px"><span style="color: #ffffff">es:<br>
image: elasticsearch<br>
cpu_shares: 100<br>
mem_<span style="color: #33cccc">limit</span>: 262144000<br>
web:<br>
image: prakhar1989/foodtrucks-web<br>
cpu_shares: 100<br>
mem_<span style="color: #33cccc">limit</span>: 262144000<br>
ports:<br>
– “<span style="color: #ffcc99">80:5000</span>”<br>
links:<br>
– es</span></p>
<p>Единственные отличия от оригинального файла&nbsp;<code class="bwp-syntax-inline">docker-compose.yml</code>&nbsp;это параметры&nbsp;<code class="bwp-syntax-inline">mem_limit</code> и <code class="bwp-syntax-inline">cpu_shares</code>&nbsp;для каждого контейнера.</p>
<p>Также, мы убрали <code class="bwp-syntax-inline">version</code>&nbsp;и <code class="bwp-syntax-inline">services</code>, так как AWS еще не поддерживает <a href="https://docs.docker.com/compose/compose-file/#version-2">версию 2</a> файлового формата Compose. Так как наше приложение будет работать на инстансах типа <code class="bwp-syntax-inline">t2.micro</code>,
 мы задали 250 мегабайт памяти. Теперь нам нужно опубликовать образ на 
Docker Hub. На момент написания этого пособия, ecs-cli&nbsp;<strong>не поддерживает</strong> команду <code class="bwp-syntax-inline">build</code>. Но Docker Compose <a href="https://docs.docker.com/compose/compose-file/#build">поддерживает</a> ее без проблем.</p>
<p style="background-color: #585858;padding: 10px"><span style="color: #ffffff"><span style="color: #33cccc">$ <span style="color: #ffffff">docker push prakhar1989/foodtrucks-web</span></span></span></p>
<p>Красота! Давайте запустим финальную команду, которая произведет деплой на ECS!</p>
<p style="background-color: #585858;padding: 10px"><span style="color: #ffffff"><span style="color: #33cccc">$<span style="color: #ffffff"> ecs-cli compose –file aws-compose.yml up</span><br>
<span style="color: #ffffff"> INFO[0000] Using ECS task definition TaskDefinition=ecscompose-foodtrucks:2</span><br>
<span style="color: #ffffff"> INFO[0000] Starting container… container=845e2368-170d-44a7-bf9f-84c7fcd9ae29/es</span><br>
<span style="color: #ffffff"> INFO[0000] Starting container… container=845e2368-170d-44a7-bf9f-84c7fcd9ae29/web</span><br>
<span style="color: #ffffff"> INFO[0000] Describe ECS container status 
container=845e2368-170d-44a7-bf9f-84c7fcd9ae29/web desiredStatus=RUNNING
 lastStatus=PENDING taskDefinition=ecscompose-foodtrucks:2</span><br>
<span style="color: #ffffff"> INFO[0000] Describe ECS container status 
container=845e2368-170d-44a7-bf9f-84c7fcd9ae29/es desiredStatus=RUNNING 
lastStatus=PENDING taskDefinition=ecscompose-foodtrucks:2</span><br>
<span style="color: #ffffff"> INFO[0036] Describe ECS container status 
container=845e2368-170d-44a7-bf9f-84c7fcd9ae29/es desiredStatus=RUNNING 
lastStatus=PENDING taskDefinition=ecscompose-foodtrucks:2</span><br>
<span style="color: #ffffff"> INFO[0048] Describe ECS container status 
container=845e2368-170d-44a7-bf9f-84c7fcd9ae29/web desiredStatus=RUNNING
 lastStatus=PENDING taskDefinition=ecscompose-foodtrucks:2</span><br>
<span style="color: #ffffff"> INFO[0048] Describe ECS container status 
container=845e2368-170d-44a7-bf9f-84c7fcd9ae29/es desiredStatus=RUNNING 
lastStatus=PENDING taskDefinition=ecscompose-foodtrucks:2</span><br>
<span style="color: #ffffff"> INFO[0060] Started container… 
container=845e2368-170d-44a7-bf9f-84c7fcd9ae29/web desiredStatus=RUNNING
 lastStatus=RUNNING taskDefinition=ecscompose-foodtrucks:2</span><br>
<span style="color: #ffffff"> INFO[0060] Started container… 
container=845e2368-170d-44a7-bf9f-84c7fcd9ae29/es desiredStatus=RUNNING 
lastStatus=RUNNING taskDefinition=ecscompose-foodtrucks:2</span></span></span></p>
<p>То, что вывод похож на вывод Docker Compose — не совпадение. Аргумент
 –file используется для переопределения файла по умолчанию 
(docker-compose.yml). Если все прошло хорошо, то вы увидите строку 
desiredStatus=RUNNING lastStatus=RUNNING в самом конце.<br>
Круто! Теперь приложение запущено. Как к нему обратиться?</p>
<p style="background-color: #585858;padding: 10px"><span style="color: #ffffff">ecs-cli ps<br>
Name State Ports TaskDefinition<br>
845e2368-170d-44a7-bf9f-84c7fcd9ae29/web RUNNING 54.86.14.14:80-&gt;5000/tcp ecscompose-foodtrucks:2<br>
845e2368-170d-44a7-bf9f-84c7fcd9ae29/es RUNNING ecscompose-foodtrucks:2</span></p>
<p>Откройте&nbsp;<a href="http://54.86.14.14/">http://54.86.14.14</a>&nbsp;в браузере, и увидите Food Trucks во всей своей желто-черной красе! Заодно, давайте взглянем на консоль <a href="https://console.aws.amazon.com/ecs/home?region=us-east-1#/clusters">AWS ECS</a>.</p>
<p><img class="alignnone size-full wp-image-14917" src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D0%BF%D1%80%D0%B0%D0%BA%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Docker%20%20%D1%81%20%D0%BD%D1%83%D0%BB%D1%8F%20%D0%B4%D0%BE%20%D0%BA%D0%BB%D0%B0%D1%81%D1%82%D0%B5%D1%80%D0%B0%20%D0%BD%D0%B0%20AWS%20%28%D1%87%D0%B0%D1%81%D1%82%D1%8C%204%29%20_%20LinuxSpace_files/2.png" alt="2" height="693" width="1920"></p>
<p><img class="alignnone size-full wp-image-14918" src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D0%BF%D1%80%D0%B0%D0%BA%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Docker%20%20%D1%81%20%D0%BD%D1%83%D0%BB%D1%8F%20%D0%B4%D0%BE%20%D0%BA%D0%BB%D0%B0%D1%81%D1%82%D0%B5%D1%80%D0%B0%20%D0%BD%D0%B0%20AWS%20%28%D1%87%D0%B0%D1%81%D1%82%D1%8C%204%29%20_%20LinuxSpace_files/3-1.png" alt="3" height="964" width="1920"></p>
<p>Видно, что был создан ECS-кластер ‘<strong>foodtrucks</strong>‘, и в нем выполняется одна задача с двумя инстансами. Советую поковыряться в этой консоли и изучить разные ее части и опции.</p>
<p>Вот и все. Всего несколько команд — и приложение работает на AWS!</p>
<p>Ссылка на источник: <a href="https://habrahabr.ru/post/310460/#awsecs">https://habrahabr.ru/post/310460/#awsecs</a></p>
<div class="post-title-preview">
<div class="full" style="margin-top: 20px; margin-bottom: 10px;">
<span class="post-meta tags-span">Tags: </span>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="author-area">
<div id="author-content">
<div class="author-top-bar">
<div class="one_half first">
<h1><span>About</span> <a href="https://www.linuxspace.org/archives/author/mainredactor" title="Записи Michail Kvant" rel="author">Michail Kvant</a></h1>
</div>
<div class="one_half">
<div id="author-social">
<ul class="social_bookmarks">
</ul>
</div>
</div>
</div>
<div class="author-image"><img alt="" src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D0%BF%D1%80%D0%B0%D0%BA%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Docker%20%20%D1%81%20%D0%BD%D1%83%D0%BB%D1%8F%20%D0%B4%D0%BE%20%D0%BA%D0%BB%D0%B0%D1%81%D1%82%D0%B5%D1%80%D0%B0%20%D0%BD%D0%B0%20AWS%20%28%D1%87%D0%B0%D1%81%D1%82%D1%8C%204%29%20_%20LinuxSpace_files/2a30382f780af260bbb72c9a596456fb.jpg" srcset="https://secure.gravatar.com/avatar/2a30382f780af260bbb72c9a596456fb?s=200&amp;r=g 2x" class="avatar avatar-100 photo" height="100" width="100"></div>
<div class="author-info-with-image">
<p style="margin-bottom: 0;">Занимаюсь документированием ПО и пишу статьи. Перевожу сложные технические тексты (на работе) и поэзию (на досуге).</p>
</div>
</div>
</div>
</div>
</div>
<div class="post-related">
<div class="one_fourth first ">
<a class="gall-img entry-image inview" href="https://www.linuxspace.org/archives/10326"><img src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D0%BF%D1%80%D0%B0%D0%BA%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Docker%20%20%D1%81%20%D0%BD%D1%83%D0%BB%D1%8F%20%D0%B4%D0%BE%20%D0%BA%D0%BB%D0%B0%D1%81%D1%82%D0%B5%D1%80%D0%B0%20%D0%BD%D0%B0%20AWS%20%28%D1%87%D0%B0%D1%81%D1%82%D1%8C%204%29%20_%20LinuxSpace_files/python-1.jpg" class="attachment-square_image size-square_image wp-post-image" alt="python (1)" height="375" width="600"></a>
<h4><a href="https://www.linuxspace.org/archives/10326">Установка и настройка Flask, Nginx и Gunicorn в Ubuntu 14.04</a></h4>
</div>
<div class="one_fourth ">
<a class="gall-img entry-image inview" href="https://www.linuxspace.org/archives/6076"><img src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D0%BF%D1%80%D0%B0%D0%BA%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Docker%20%20%D1%81%20%D0%BD%D1%83%D0%BB%D1%8F%20%D0%B4%D0%BE%20%D0%BA%D0%BB%D0%B0%D1%81%D1%82%D0%B5%D1%80%D0%B0%20%D0%BD%D0%B0%20AWS%20%28%D1%87%D0%B0%D1%81%D1%82%D1%8C%204%29%20_%20LinuxSpace_files/nvidia_dj_1920x1080_49385-600x600.jpg" class="attachment-square_image size-square_image wp-post-image" alt="nvidia_dj_1920x1080_49385" srcset="https://www.linuxspace.org/wp-content/uploads/2014/09/nvidia_dj_1920x1080_49385-200x200.jpg 200w, https://www.linuxspace.org/wp-content/uploads/2014/09/nvidia_dj_1920x1080_49385-80x80.jpg 80w, https://www.linuxspace.org/wp-content/uploads/2014/09/nvidia_dj_1920x1080_49385-50x50.jpg 50w, https://www.linuxspace.org/wp-content/uploads/2014/09/nvidia_dj_1920x1080_49385-600x600.jpg 600w, https://www.linuxspace.org/wp-content/uploads/2014/09/nvidia_dj_1920x1080_49385-210x210.jpg 210w, https://www.linuxspace.org/wp-content/uploads/2014/09/nvidia_dj_1920x1080_49385-144x144.jpg 144w" sizes="(max-width: 600px) 100vw, 600px" height="600" width="600"></a>
<h4><a href="https://www.linuxspace.org/archives/6076">Установка графического драйвера NVidia в Ubuntu 14.04</a></h4>
</div>
<div class="one_fourth ">
<a class="gall-img entry-image inview" href="https://www.linuxspace.org/archives/5665"><img src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D0%BF%D1%80%D0%B0%D0%BA%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Docker%20%20%D1%81%20%D0%BD%D1%83%D0%BB%D1%8F%20%D0%B4%D0%BE%20%D0%BA%D0%BB%D0%B0%D1%81%D1%82%D0%B5%D1%80%D0%B0%20%D0%BD%D0%B0%20AWS%20%28%D1%87%D0%B0%D1%81%D1%82%D1%8C%204%29%20_%20LinuxSpace_files/a25-600x600.jpg" class="attachment-square_image size-square_image wp-post-image" alt="a25" srcset="https://www.linuxspace.org/wp-content/uploads/2014/05/a25-200x200.jpg 200w, https://www.linuxspace.org/wp-content/uploads/2014/05/a25-80x80.jpg 80w, https://www.linuxspace.org/wp-content/uploads/2014/05/a25-50x50.jpg 50w, https://www.linuxspace.org/wp-content/uploads/2014/05/a25-600x600.jpg 600w, https://www.linuxspace.org/wp-content/uploads/2014/05/a25-210x210.jpg 210w" sizes="(max-width: 600px) 100vw, 600px" height="600" width="600"></a>
<h4><a href="https://www.linuxspace.org/archives/5665">Как сделать MySQL (Master-Slave) репликацию в RHEL, CentOS, Fedora</a></h4>
</div>
<div class="one_fourth ">
<a class="gall-img entry-image inview" href="https://www.linuxspace.org/archives/18413"><img src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D0%BF%D1%80%D0%B0%D0%BA%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Docker%20%20%D1%81%20%D0%BD%D1%83%D0%BB%D1%8F%20%D0%B4%D0%BE%20%D0%BA%D0%BB%D0%B0%D1%81%D1%82%D0%B5%D1%80%D0%B0%20%D0%BD%D0%B0%20AWS%20%28%D1%87%D0%B0%D1%81%D1%82%D1%8C%204%29%20_%20LinuxSpace_files/3064076-doom_20160515165232_1024x460.jpg" class="attachment-square_image size-square_image wp-post-image" alt="DOOM_20160515165232" height="270" width="600"></a>
<h4><a href="https://www.linuxspace.org/archives/18413">Учим искусственный интеллект играть в Doom</a></h4>
</div>
</div>
<div class="full" style="margin-bottom: 0;">
<div class="comment_here">
<div class="comment_input">

<div id="respond" class="comment-respond">
<h3 id="reply-title" class="comment-reply-title">Добавить комментарий <small><a rel="nofollow" id="cancel-comment-reply-link" href="https://www.linuxspace.org/archives/14911#respond" style="display:none;">Отменить ответ</a></small></h3> <form action="https://www.linuxspace.org/wp-comments-post.php" method="post" id="commentform" class="comment-form">
<p class="comment-notes"><span id="email-notes">Ваш e-mail не будет опубликован.</span> Обязательные поля помечены <span class="required">*</span></p><p class="comment-form-comment"><label for="comment">Комментарий</label> <textarea id="comment" name="comment" cols="45" rows="8" aria-required="true" required="required"></textarea></p><p class="comment-form-author"><label for="author">Имя <span class="required">*</span></label> <input id="author" name="author" size="30" aria-required="true" required="required" type="text"></p>
<p class="comment-form-email"><label for="email">E-mail <span class="required">*</span></label> <input id="email" name="email" size="30" aria-describedby="email-notes" aria-required="true" required="required" type="text"></p>
<p class="form-submit"><input name="submit" id="submit" class="submit" value="Отправить комментарий" type="submit"> <input name="comment_post_ID" value="14911" id="comment_post_ID" type="hidden">
<input name="comment_parent" id="comment_parent" value="0" type="hidden">
</p><p style="display: none;"><input id="akismet_comment_nonce" name="akismet_comment_nonce" value="4d4836514c" type="hidden"></p><p style="display: none;"></p> <input id="ak_js" name="ak_js" value="1509477991984" type="hidden"></form>
</div>
</div>

</div>
</div>
</div>
<div class="one_third_rounded sidebar_spot" style="margin-bottom: 0;">
</div>
</div>

</div>

</div>
</section>
<script src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D0%BF%D1%80%D0%B0%D0%BA%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Docker%20%20%D1%81%20%D0%BD%D1%83%D0%BB%D1%8F%20%D0%B4%D0%BE%20%D0%BA%D0%BB%D0%B0%D1%81%D1%82%D0%B5%D1%80%D0%B0%20%D0%BD%D0%B0%20AWS%20%28%D1%87%D0%B0%D1%81%D1%82%D1%8C%204%29%20_%20LinuxSpace_files/email-decode.js"></script><script data-rocketoptimized="true" type="text/rocketscript">
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-47323590-1']);
_gaq.push(['_trackPageview']);

	(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	})();
</script>

<div id="footer-container">

<footer class="container_wrap" id="footer">

<div class="container">
<div class="one_third first" style="margin-bottom: 0;">
<div class="widget"><div class="widget-content"><div class="widget-title"><h4>Комментарии</h4></div><ul id="recentcomments"><li style="width: 286px;" class="recentcomments"><span class="comment-author-link">Анатолий</span> к записи <a href="https://www.linuxspace.org/archives/18556#comment-489766">Уютный OpenVPN сервер на Centos 7</a></li><li style="width: 286px;" class="recentcomments"><span class="comment-author-link">Анатолий</span> к записи <a href="https://www.linuxspace.org/archives/18556#comment-489758">Уютный OpenVPN сервер на Centos 7</a></li><li style="width: 286px;" class="recentcomments"><span class="comment-author-link">k2</span> к записи <a href="https://www.linuxspace.org/archives/5667#comment-489757">Port forwarding, NAT и установка файрвола pfSense</a></li><li style="width: 286px;" class="recentcomments"><span class="comment-author-link">Шура</span> к записи <a href="https://www.linuxspace.org/archives/18556#comment-489700">Уютный OpenVPN сервер на Centos 7</a></li><li style="width: 286px;" class="recentcomments"><span class="comment-author-link">Шура</span> к записи <a href="https://www.linuxspace.org/archives/18556#comment-489699">Уютный OpenVPN сервер на Centos 7</a></li></ul></div></div> </div>
<div class="one_third" style="margin-bottom: 0;">
<a href="https://www.linuxspace.org/archives/tag/apache">apache</a>
<a href="https://www.linuxspace.org/archives/tag/backup">backup</a>
<a href="https://www.linuxspace.org/archives/tag/bash">bash</a>
<a href="https://www.linuxspace.org/archives/tag/bitcoin">bitcoin</a>
<a href="https://www.linuxspace.org/archives/tag/broadcom">broadcom</a>
<a href="https://www.linuxspace.org/archives/tag/centos">centos</a>
<a href="https://www.linuxspace.org/archives/tag/commands">commands</a>
<a href="https://www.linuxspace.org/archives/tag/crypto">crypto</a>
<a href="https://www.linuxspace.org/archives/tag/debian">debian</a>
<a href="https://www.linuxspace.org/archives/tag/distrib">distrib</a>
<a href="https://www.linuxspace.org/archives/tag/drivers">drivers</a>
<a href="https://www.linuxspace.org/archives/tag/ftp">ftp</a>
<a href="https://www.linuxspace.org/archives/tag/games">games</a>
<a href="https://www.linuxspace.org/archives/tag/gnome3">gnome3</a>
<a href="https://www.linuxspace.org/archives/tag/hardware">hardware</a>
<a href="https://www.linuxspace.org/archives/tag/iptables">iptables</a>
<a href="https://www.linuxspace.org/archives/tag/kde">KDE</a>
<a href="https://www.linuxspace.org/archives/tag/linux">linux</a>
<a href="https://www.linuxspace.org/archives/tag/messengers">messengers</a>
<a href="https://www.linuxspace.org/archives/tag/monitoring">monitoring</a>
<a href="https://www.linuxspace.org/archives/tag/mysql">mysql</a>
<a href="https://www.linuxspace.org/archives/tag/nagios">nagios</a>
<a href="https://www.linuxspace.org/archives/tag/network">network</a>
<a href="https://www.linuxspace.org/archives/tag/nginx">nginx</a>
<a href="https://www.linuxspace.org/archives/tag/nvidia">nvidia</a>
<a href="https://www.linuxspace.org/archives/tag/postfix">postfix</a>
<a href="https://www.linuxspace.org/archives/tag/program">program</a>
<a href="https://www.linuxspace.org/archives/tag/protocol">protocol</a>
<a href="https://www.linuxspace.org/archives/tag/proxy">proxy</a>
<a href="https://www.linuxspace.org/archives/tag/script">script</a>
<a href="https://www.linuxspace.org/archives/tag/security">security</a>
<a href="https://www.linuxspace.org/archives/tag/servers">servers</a>
<a href="https://www.linuxspace.org/archives/tag/ssh">ssh</a>
<a href="https://www.linuxspace.org/archives/tag/steam">steam</a>
<a href="https://www.linuxspace.org/archives/tag/tor">tor</a>
<a href="https://www.linuxspace.org/archives/tag/truecrypt">truecrypt</a>
<a href="https://www.linuxspace.org/archives/tag/ubuntu">ubuntu</a>
<a href="https://www.linuxspace.org/archives/tag/unity">unity</a>
<a href="https://www.linuxspace.org/archives/tag/unix">UNIX</a>
<a href="https://www.linuxspace.org/archives/tag/usefulness">usefulness</a>
<a href="https://www.linuxspace.org/archives/tag/video">video</a>
<a href="https://www.linuxspace.org/archives/tag/virtual">virtual</a>
<a href="https://www.linuxspace.org/archives/tag/virtualization">virtualization</a>
<a href="https://www.linuxspace.org/archives/tag/vpn">vpn</a>
<a href="https://www.linuxspace.org/archives/tag/vyatta">vyatta</a> </div>
<div class="one_third" style="margin-bottom: 0;">
</div>
</div>

</footer>


<div class="container_wrap" id="socket">

<div class="container">
<span class="copyright">
<ul class="social_bookmarks">
<li><a class="rss-icon" href="http://www.linuxspace.org/feed"><img src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D0%BF%D1%80%D0%B0%D0%BA%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Docker%20%20%D1%81%20%D0%BD%D1%83%D0%BB%D1%8F%20%D0%B4%D0%BE%20%D0%BA%D0%BB%D0%B0%D1%81%D1%82%D0%B5%D1%80%D0%B0%20%D0%BD%D0%B0%20AWS%20%28%D1%87%D0%B0%D1%81%D1%82%D1%8C%204%29%20_%20LinuxSpace_files/rss.png" alt="rss"></a></li>
<li><a class="twitter-icon" href="https://twitter.com/linuxspace"><img src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D0%BF%D1%80%D0%B0%D0%BA%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Docker%20%20%D1%81%20%D0%BD%D1%83%D0%BB%D1%8F%20%D0%B4%D0%BE%20%D0%BA%D0%BB%D0%B0%D1%81%D1%82%D0%B5%D1%80%D0%B0%20%D0%BD%D0%B0%20AWS%20%28%D1%87%D0%B0%D1%81%D1%82%D1%8C%204%29%20_%20LinuxSpace_files/twitter.png" alt="twitter"></a></li>
<li><a class="facebook-icon" href="http://www.facebook.com/linuxspace"><img src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D0%BF%D1%80%D0%B0%D0%BA%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Docker%20%20%D1%81%20%D0%BD%D1%83%D0%BB%D1%8F%20%D0%B4%D0%BE%20%D0%BA%D0%BB%D0%B0%D1%81%D1%82%D0%B5%D1%80%D0%B0%20%D0%BD%D0%B0%20AWS%20%28%D1%87%D0%B0%D1%81%D1%82%D1%8C%204%29%20_%20LinuxSpace_files/facebook.png" alt="facebook"></a></li>
</ul>
</span>
<div class="counter">

<a href="http://metrica.yandex.com/stat/?id=23878327&amp;from=informer" target="_blank" rel="nofollow"><img src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D0%BF%D1%80%D0%B0%D0%BA%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Docker%20%20%D1%81%20%D0%BD%D1%83%D0%BB%D1%8F%20%D0%B4%D0%BE%20%D0%BA%D0%BB%D0%B0%D1%81%D1%82%D0%B5%D1%80%D0%B0%20%D0%BD%D0%B0%20AWS%20%28%D1%87%D0%B0%D1%81%D1%82%D1%8C%204%29%20_%20LinuxSpace_files/3_1_FFFFFFFF_EFEFEFFF_0_pageviews.png" style="width:88px; height:31px; border:0;" alt="Yandex.Metrica" title="Yandex.Metrica: data for today (page views, visits and unique visitors)" onclick="try{Ya.Metrika.informer({i:this,id:23878327,lang:'en'});return false}catch(e){}"></a>


<script data-rocketoptimized="true" type="text/rocketscript">
								(function (d, w, c) {
									(w[c] = w[c] || []).push(function() {
										try {
											w.yaCounter23878327 = new Ya.Metrika({id:23878327,
													clickmap:true,
													trackLinks:true,
													accurateTrackBounce:true});
										} catch(e) { }
									});

									var n = d.getElementsByTagName("script")[0],
										s = d.createElement("script"),
										f = function () { n.parentNode.insertBefore(s, n); };
									s.type = "text/javascript";
									s.async = true;
									s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js";

									if (w.opera == "[object Opera]") {
										d.addEventListener("DOMContentLoaded", f, false);
									} else { f(); }
								})(document, window, "yandex_metrika_callbacks");
								</script>
<noscript><div><img src="//mc.yandex.ru/watch/23878327" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

</div>
<div class="footer-menu">
<ul id="menu-top-right-1" class="menu"><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6059"><a href="https://www.linuxspace.org/%d0%bd%d0%be%d0%b2%d0%be%d1%81%d1%82%d0%b8">Новости</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6026"><a href="https://www.linuxspace.org/team">Команда</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6027"><a href="https://www.linuxspace.org/o-proekte">О проекте</a></li>
</ul> </div>
<div style="display: block;" class="backtop">
<a href="#backtop"><i class="icon-arrow-up"></i></a>
</div>
</div>

</div>

</div> <script data-rocketoptimized="true" type="text/rocketscript">
/* <![CDATA[ */
var viewsCacheL10n = {"admin_ajax_url":"https:\/\/www.linuxspace.org\/wp-admin\/admin-ajax.php","post_id":"14911"};
/* ]]> */
</script>
<script data-rocketoptimized="true" type="text/rocketscript" data-rocketsrc="https://www.linuxspace.org/wp-content/plugins/bwp-minify/min/?f=wp-includes/js/comment-reply.min.js,wp-content/plugins/wp-postviews/postviews-cache.js,wp-content/themes/MaxiNews/js/jquery-ui.min.js,wp-content/themes/MaxiNews/js/jquery.easing.1.3.js,wp-content/themes/MaxiNews/js/jquery.prettyPhoto.js,wp-content/themes/MaxiNews/js/jquery.tools.min.js,wp-content/themes/MaxiNews/js/scripts.js,wp-content/themes/MaxiNews/js/jquery.quovolver.js,wp-content/themes/MaxiNews/js/jquery.accordion.js,wp-content/themes/MaxiNews/js/jquery.tweetable.js"></script>
<script data-rocketoptimized="true" type="text/rocketscript" data-rocketsrc="https://www.linuxspace.org/wp-content/plugins/bwp-minify/min/?f=wp-content/themes/MaxiNews/js/modernizr.custom.53451.js,wp-content/themes/MaxiNews/js/jquery.flexslider.js,wp-content/themes/MaxiNews/js/jquery.fancybox.pack.js,wp-content/themes/MaxiNews/js/responsive-menu.js,wp-content/themes/MaxiNews/js/jquery.masonry.min.js,wp-content/themes/MaxiNews/js/toucheffects.js,wp-content/plugins/akismet/_inc/form.js,wp-includes/js/wp-embed.min.js"></script>
</div></div><div id="supersized-loader"></div><ul id="supersized"></ul></body><div data="{&quot;a&quot;:&quot;setShowingSafe&quot;,&quot;f&quot;:false}" style="display:none" id="sp_console_event"></div></html>