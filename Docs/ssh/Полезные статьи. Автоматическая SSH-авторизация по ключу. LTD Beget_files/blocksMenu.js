// Generated by CoffeeScript 1.10.0
var blocksMenu,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

blocksMenu = (function(superClass) {
  extend(blocksMenu, superClass);

  function blocksMenu() {
    return blocksMenu.__super__.constructor.apply(this, arguments);
  }

  blocksMenu.prototype.el = '.blocks-menu';

  blocksMenu.prototype.events = {
    'click a': 'changeBlock'
  };

  blocksMenu.prototype.start = function() {};

  blocksMenu.prototype.changeBlock = function(e) {
    var button, li, menu, section, target;
    e.preventDefault();
    button = $(e.currentTarget);
    li = button.closest('li');
    menu = button.closest('.blocks-menu');
    target = $('#' + menu.attr('data-target'));
    section = $(button.attr('href'), target);
    if (section.is(':visible')) {
      return;
    }
    if (button.hasClass('active') || li.hasClass('active')) {
      return;
    }
    $('.block', target).addClass('hidden');
    section.removeClass('hidden').hide().fadeIn(400);
    $('li', menu).removeClass('active');
    $('a', menu).removeClass('active');
    button.addClass('active');
    return li.addClass('active');
  };

  return blocksMenu;

})(BB.Widget);
